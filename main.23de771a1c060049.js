"use strict";(self.webpackChunkangular_lesson=self.webpackChunkangular_lesson||[]).push([[179],{2011:(ct,Ee,R)=>{R.d(Ee,{Dh:()=>de,GT:()=>pe,cc:()=>Se,hO:()=>We,on:()=>G,pX:()=>X,xv:()=>le});var u=R(5e3),K=R(127),k=R(5813);ct=R.hmd(ct);const oe=["ngOnDestroy"],X=(be,rt,Ke,Te={})=>new Proxy(be,{get:(_e,ve)=>Ke.runOutsideAngular(()=>{var je;if(be[ve])return(null===(je=null==Te?void 0:Te.spy)||void 0===je?void 0:je.get)&&Te.spy.get(ve,be[ve]),be[ve];if(oe.indexOf(ve)>-1)return()=>{};const Be=rt.toPromise().then(ne=>{const ze=ne&&ne[ve];return"function"==typeof ze?ze.bind(ne):ze&&ze.then?ze.then(Q=>Ke.run(()=>Q)):Ke.run(()=>ze)});return new Proxy(()=>{},{get:(ne,ze)=>Be[ze],apply:(ne,ze,Q)=>Be.then(ae=>{var te;const we=ae&&ae(...Q);return(null===(te=null==Te?void 0:Te.spy)||void 0===te?void 0:te.apply)&&Te.spy.apply(ve,Q,we),we})})})}),pe=(be,rt)=>{rt.forEach(Ke=>{Object.getOwnPropertyNames(Ke.prototype||Ke).forEach(Te=>{Object.defineProperty(be.prototype,Te,Object.getOwnPropertyDescriptor(Ke.prototype||Ke,Te))})})};class re{constructor(rt){return rt}}const de=new u.OlP("angularfire2.app.options"),le=new u.OlP("angularfire2.app.name");function G(be,rt,Ke){const _e="object"==typeof Ke&&Ke||{};_e.name=_e.name||"string"==typeof Ke&&Ke||"[DEFAULT]";const je=K.Z.apps.filter(Be=>Be&&Be.name===_e.name)[0]||rt.runOutsideAngular(()=>K.Z.initializeApp(be,_e));try{JSON.stringify(be)!==JSON.stringify(je.options)&&H("error",`${je.name} Firebase App already initialized with different options${ct.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Be){}return new re(je)}const H=(be,...rt)=>{(0,u.X6Q)()&&"undefined"!=typeof console&&console[be](...rt)},J={provide:re,useFactory:G,deps:[de,u.R0b,[new u.FiY,le]]};let We=(()=>{class be{constructor(Ke){K.Z.registerVersion("angularfire",k.q4.full,"core"),K.Z.registerVersion("angularfire",k.q4.full,"app-compat"),K.Z.registerVersion("angular",u.q4F.full,Ke.toString())}static initializeApp(Ke,Te){return{ngModule:be,providers:[{provide:de,useValue:Ke},{provide:le,useValue:Te}]}}}return be.\u0275fac=function(Ke){return new(Ke||be)(u.LFG(u.Lbi))},be.\u0275mod=u.oAB({type:be}),be.\u0275inj=u.cJS({providers:[J]}),be})();function Se(be,rt,Ke,Te,_e){const[,ve,je]=globalThis.\u0275AngularfireInstanceCache.find(Be=>Be[0]===be)||[];if(ve)return function xe(be,rt){try{return be.toString()===rt.toString()}catch(Ke){return be===rt}}(_e,je)||(he("error",`${rt} was already initialized on the ${Ke} Firebase App with different settings.${Fe?" You may need to reload as Firebase is not HMR aware.":""}`),he("warn",{is:_e,was:je})),ve;{const Be=Te();return globalThis.\u0275AngularfireInstanceCache.push([be,Be,_e]),Be}}const Fe=!!ct.hot,he=(be,...rt)=>{(0,u.X6Q)()&&"undefined"!=typeof console&&console[be](...rt)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(ct,Ee,R)=>{R.d(Ee,{q4:()=>El,iC:()=>Tl,HU:()=>qi,vb:()=>jc,JM:()=>yo});var u=R(5e3),K=R(5867),k=R(5861),oe=R(9681),X=R(2090),pe=R(4859),re=R(1877);const de="@firebase/installations",H="w:0.5.8",J="FIS_v2",be=new X.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function rt(C){return C instanceof X.ZR&&C.code.includes("request-failed")}function Ke({projectId:C}){return`https://firebaseinstallations.googleapis.com/v1/projects/${C}/installations`}function Te(C){return{token:C.token,requestStatus:2,expiresIn:Q(C.expiresIn),creationTime:Date.now()}}function _e(C,T){return ve.apply(this,arguments)}function ve(){return(ve=(0,k.Z)(function*(C,T){const L=(yield T.json()).error;return be.create("request-failed",{requestName:C,serverCode:L.code,serverMessage:L.message,serverStatus:L.status})})).apply(this,arguments)}function je({apiKey:C}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C})}function Be(C,{refreshToken:T}){const x=je(C);return x.append("Authorization",function ae(C){return`${J} ${C}`}(T)),x}function ne(C){return ze.apply(this,arguments)}function ze(){return(ze=(0,k.Z)(function*(C){const T=yield C();return T.status>=500&&T.status<600?C():T})).apply(this,arguments)}function Q(C){return Number(C.replace("s","000"))}function te(C,T){return we.apply(this,arguments)}function we(){return(we=(0,k.Z)(function*({appConfig:C,heartbeatServiceProvider:T},{fid:x}){const L=Ke(C),q=je(C),ee=T.getImmediate({optional:!0});if(ee){const Ct=yield ee.getHeartbeatsHeader();Ct&&q.append("x-firebase-client",Ct)}const Je={method:"POST",headers:q,body:JSON.stringify({fid:x,authVersion:J,appId:C.appId,sdkVersion:H})},st=yield ne(()=>fetch(L,Je));if(st.ok){const Ct=yield st.json();return{fid:Ct.fid||x,registrationStatus:2,refreshToken:Ct.refreshToken,authToken:Te(Ct.authToken)}}throw yield _e("Create Installation",st)})).apply(this,arguments)}function ge(C){return new Promise(T=>{setTimeout(T,C)})}const St=/^[cdef][\w-]{21}$/;function on(){try{const C=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(C),C[0]=112+C[0]%16;const x=function He(C){return function ke(C){return btoa(String.fromCharCode(...C)).replace(/\+/g,"-").replace(/\//g,"_")}(C).substr(0,22)}(C);return St.test(x)?x:""}catch(C){return""}}function $t(C){return`${C.appName}!${C.appId}`}const Xn=new Map;function Sn(C,T){const x=$t(C);Jt(x,T),function Wt(C,T){const x=function ti(){return!or&&"BroadcastChannel"in self&&(or=new BroadcastChannel("[Firebase] FID Change"),or.onmessage=C=>{Jt(C.data.key,C.data.fid)}),or}();x&&x.postMessage({key:C,fid:T}),function Es(){0===Xn.size&&or&&(or.close(),or=null)}()}(x,T)}function Jt(C,T){const x=Xn.get(C);if(x)for(const L of x)L(T)}let or=null;const Or="firebase-installations-store";let ns=null;function rs(){return ns||(ns=(0,X.X3)("firebase-installations-database",1,(C,T)=>{0===T&&C.createObjectStore(Or)})),ns}function ht(C,T){return jr.apply(this,arguments)}function jr(){return(jr=(0,k.Z)(function*(C,T){const x=$t(C),q=(yield rs()).transaction(Or,"readwrite"),ee=q.objectStore(Or),Me=yield ee.get(x);return yield ee.put(T,x),yield q.complete,(!Me||Me.fid!==T.fid)&&Sn(C,T.fid),T})).apply(this,arguments)}function er(C){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,k.Z)(function*(C){const T=$t(C),L=(yield rs()).transaction(Or,"readwrite");yield L.objectStore(Or).delete(T),yield L.complete})).apply(this,arguments)}function ni(C,T){return no.apply(this,arguments)}function no(){return(no=(0,k.Z)(function*(C,T){const x=$t(C),q=(yield rs()).transaction(Or,"readwrite"),ee=q.objectStore(Or),Me=yield ee.get(x),Je=T(Me);return void 0===Je?yield ee.delete(x):yield ee.put(Je,x),yield q.complete,Je&&(!Me||Me.fid!==Je.fid)&&Sn(C,Je.fid),Je})).apply(this,arguments)}function vn(C){return tr.apply(this,arguments)}function tr(){return(tr=(0,k.Z)(function*(C){let T;const x=yield ni(C.appConfig,L=>{const q=Cs(L),ee=la(C,q);return T=ee.registrationPromise,ee.installationEntry});return""===x.fid?{installationEntry:yield T}:{installationEntry:x,registrationPromise:T}})).apply(this,arguments)}function Cs(C){return Gt(C||{fid:on(),registrationStatus:0})}function la(C,T){if(0===T.registrationStatus){if(!navigator.onLine)return{installationEntry:T,registrationPromise:Promise.reject(be.create("app-offline"))};const x={fid:T.fid,registrationStatus:1,registrationTime:Date.now()},L=function qt(C,T){return at.apply(this,arguments)}(C,x);return{installationEntry:x,registrationPromise:L}}return 1===T.registrationStatus?{installationEntry:T,registrationPromise:wt(C)}:{installationEntry:T}}function at(){return(at=(0,k.Z)(function*(C,T){try{const x=yield te(C,T);return ht(C.appConfig,x)}catch(x){throw rt(x)&&409===x.customData.serverCode?yield er(C.appConfig):yield ht(C.appConfig,{fid:T.fid,registrationStatus:0}),x}})).apply(this,arguments)}function wt(C){return ar.apply(this,arguments)}function ar(){return(ar=(0,k.Z)(function*(C){let T=yield ji(C.appConfig);for(;1===T.registrationStatus;)yield ge(100),T=yield ji(C.appConfig);if(0===T.registrationStatus){const{installationEntry:x,registrationPromise:L}=yield vn(C);return L||x}return T})).apply(this,arguments)}function ji(C){return ni(C,T=>{if(!T)throw be.create("installation-not-found");return Gt(T)})}function Gt(C){return function ro(C){return 1===C.registrationStatus&&C.registrationTime+1e4<Date.now()}(C)?{fid:C.fid,registrationStatus:0}:C}function vr(C,T){return lr.apply(this,arguments)}function lr(){return(lr=(0,k.Z)(function*({appConfig:C,heartbeatServiceProvider:T},x){const L=ft(C,x),q=Be(C,x),ee=T.getImmediate({optional:!0});if(ee){const Ct=yield ee.getHeartbeatsHeader();Ct&&q.append("x-firebase-client",Ct)}const Je={method:"POST",headers:q,body:JSON.stringify({installation:{sdkVersion:H,appId:C.appId}})},st=yield ne(()=>fetch(L,Je));if(st.ok)return Te(yield st.json());throw yield _e("Generate Auth Token",st)})).apply(this,arguments)}function ft(C,{fid:T}){return`${Ke(C)}/${T}/authTokens:generate`}function br(C){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,k.Z)(function*(C,T=!1){let x;const L=yield ni(C.appConfig,ee=>{if(!Ft(ee))throw be.create("not-registered");const Me=ee.authToken;if(!T&&j(Me))return ee;if(1===Me.requestStatus)return x=Ye(C,T),ee;{if(!navigator.onLine)throw be.create("app-offline");const Je=$(ee);return x=pt(C,Je),Je}});return x?yield x:L.authToken})).apply(this,arguments)}function Ye(C,T){return Ie.apply(this,arguments)}function Ie(){return(Ie=(0,k.Z)(function*(C,T){let x=yield tt(C.appConfig);for(;1===x.authToken.requestStatus;)yield ge(100),x=yield tt(C.appConfig);const L=x.authToken;return 0===L.requestStatus?br(C,T):L})).apply(this,arguments)}function tt(C){return ni(C,T=>{if(!Ft(T))throw be.create("not-registered");return function ue(C){return 1===C.requestStatus&&C.requestTime+1e4<Date.now()}(T.authToken)?Object.assign(Object.assign({},T),{authToken:{requestStatus:0}}):T})}function pt(C,T){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,k.Z)(function*(C,T){try{const x=yield vr(C,T),L=Object.assign(Object.assign({},T),{authToken:x});return yield ht(C.appConfig,L),x}catch(x){if(!rt(x)||401!==x.customData.serverCode&&404!==x.customData.serverCode){const L=Object.assign(Object.assign({},T),{authToken:{requestStatus:0}});yield ht(C.appConfig,L)}else yield er(C.appConfig);throw x}})).apply(this,arguments)}function Ft(C){return void 0!==C&&2===C.registrationStatus}function j(C){return 2===C.requestStatus&&!function V(C){const T=Date.now();return T<C.creationTime||C.creationTime+C.expiresIn<T+36e5}(C)}function $(C){const T={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},C),{authToken:T})}function Ve(){return(Ve=(0,k.Z)(function*(C){const T=C,{installationEntry:x,registrationPromise:L}=yield vn(T);return L?L.catch(console.error):br(T).catch(console.error),x.fid})).apply(this,arguments)}function Qt(){return(Qt=(0,k.Z)(function*(C,T=!1){const x=C;return yield wr(x),(yield br(x,T)).token})).apply(this,arguments)}function wr(C){return zt.apply(this,arguments)}function zt(){return(zt=(0,k.Z)(function*(C){const{registrationPromise:T}=yield vn(C);T&&(yield T)})).apply(this,arguments)}function qn(C){return be.create("missing-app-config-values",{valueName:C})}const ca="installations",Oe=C=>{const T=C.getProvider("app").getImmediate(),x=function is(C){if(!C||!C.options)throw qn("App Configuration");if(!C.name)throw qn("App Name");const T=["projectId","apiKey","appId"];for(const x of T)if(!C.options[x])throw qn(x);return{appName:C.name,projectId:C.options.projectId,apiKey:C.options.apiKey,appId:C.options.appId}}(T);return{app:T,appConfig:x,heartbeatServiceProvider:(0,oe._getProvider)(T,"heartbeat"),_delete:()=>Promise.resolve()}},kt=C=>{const T=C.getProvider("app").getImmediate(),x=(0,oe._getProvider)(T,ca).getImmediate();return{getId:()=>function Y(C){return Ve.apply(this,arguments)}(x),getToken:q=>function vt(C){return Qt.apply(this,arguments)}(x,q)}};(function mn(){(0,oe._registerComponent)(new pe.wA(ca,Oe,"PUBLIC")),(0,oe._registerComponent)(new pe.wA("installations-internal",kt,"PRIVATE"))})(),(0,oe.registerVersion)(de,"0.5.8"),(0,oe.registerVersion)(de,"0.5.8","esm2017");const ur="@firebase/remote-config",kn=new X.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class rh{constructor(T,x,L,q){this.client=T,this.storage=x,this.storageCache=L,this.logger=q}isCachedDataFresh(T,x){if(!x)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const L=Date.now()-x,q=L<=T;return this.logger.debug(`Config fetch cache check. Cache age millis: ${L}. Cache max age millis (minimumFetchIntervalMillis setting): ${T}. Is cache hit: ${q}.`),q}fetch(T){var x=this;return(0,k.Z)(function*(){const[L,q]=yield Promise.all([x.storage.getLastSuccessfulFetchTimestampMillis(),x.storage.getLastSuccessfulFetchResponse()]);if(q&&x.isCachedDataFresh(T.cacheMaxAgeMillis,L))return q;T.eTag=q&&q.eTag;const ee=yield x.client.fetch(T),Me=[x.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ee.status&&Me.push(x.storage.setLastSuccessfulFetchResponse(ee)),yield Promise.all(Me),ee})()}}function Oo(C=navigator){return C.languages&&C.languages[0]||C.language}class el{constructor(T,x,L,q,ee,Me){this.firebaseInstallations=T,this.sdkVersion=x,this.namespace=L,this.projectId=q,this.apiKey=ee,this.appId=Me}fetch(T){var x=this;return(0,k.Z)(function*(){const[L,q]=yield Promise.all([x.firebaseInstallations.getId(),x.firebaseInstallations.getToken()]),Me=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${x.projectId}/namespaces/${x.namespace}:fetch?key=${x.apiKey}`,Je={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":T.eTag||"*"},st={sdk_version:x.sdkVersion,app_instance_id:L,app_instance_id_token:q,app_id:x.appId,language_code:Oo()},Ct={method:"POST",headers:Je,body:JSON.stringify(st)},Ht=fetch(Me,Ct),Tt=new Promise((ui,Zi)=>{T.signal.addEventListener(()=>{const Ki=new Error("The operation was aborted.");Ki.name="AbortError",Zi(Ki)})});let Ln;try{yield Promise.race([Ht,Tt]),Ln=yield Ht}catch(ui){let Zi="fetch-client-network";throw"AbortError"===ui.name&&(Zi="fetch-timeout"),kn.create(Zi,{originalErrorMessage:ui.message})}let On=Ln.status;const Hs=Ln.headers.get("ETag")||void 0;let Ta,Ii;if(200===Ln.status){let ui;try{ui=yield Ln.json()}catch(Zi){throw kn.create("fetch-client-parse",{originalErrorMessage:Zi.message})}Ta=ui.entries,Ii=ui.state}if("INSTANCE_STATE_UNSPECIFIED"===Ii?On=500:"NO_CHANGE"===Ii?On=304:("NO_TEMPLATE"===Ii||"EMPTY_CONFIG"===Ii)&&(Ta={}),304!==On&&200!==On)throw kn.create("fetch-status",{httpStatus:On});return{status:On,eTag:Hs,config:Ta}})()}}class rp{constructor(T,x){this.client=T,this.storage=x}fetch(T){var x=this;return(0,k.Z)(function*(){const L=(yield x.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return x.attemptFetch(T,L)})()}attemptFetch(T,{throttleEndTimeMillis:x,backoffCount:L}){var q=this;return(0,k.Z)(function*(){yield function Bn(C,T){return new Promise((x,L)=>{const q=Math.max(T-Date.now(),0),ee=setTimeout(x,q);C.addEventListener(()=>{clearTimeout(ee),L(kn.create("fetch-throttle",{throttleEndTimeMillis:T}))})})}(T.signal,x);try{const ee=yield q.client.fetch(T);return yield q.storage.deleteThrottleMetadata(),ee}catch(ee){if(!function bc(C){if(!(C instanceof X.ZR&&C.customData))return!1;const T=Number(C.customData.httpStatus);return 429===T||500===T||503===T||504===T}(ee))throw ee;const Me={throttleEndTimeMillis:Date.now()+(0,X.$s)(L),backoffCount:L+1};return yield q.storage.setThrottleMetadata(Me),q.attemptFetch(T,Me)}})()}}class wc{constructor(T,x,L,q,ee){this.app=T,this._client=x,this._storageCache=L,this._storage=q,this._logger=ee,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function ou(C,T){const x=C.target.error||void 0;return kn.create(T,{originalErrorMessage:x&&x.message})}const Ns="app_namespace_store";class ih{constructor(T,x,L,q=function op(){return new Promise((C,T)=>{try{const x=indexedDB.open("firebase_remote_config",1);x.onerror=L=>{T(ou(L,"storage-open"))},x.onsuccess=L=>{C(L.target.result)},x.onupgradeneeded=L=>{0===L.oldVersion&&L.target.result.createObjectStore(Ns,{keyPath:"compositeKey"})}}catch(x){T(kn.create("storage-open",{originalErrorMessage:x}))}})}()){this.appId=T,this.appName=x,this.namespace=L,this.openDbPromise=q}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(T){return this.set("last_fetch_status",T)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(T){return this.set("last_successful_fetch_timestamp_millis",T)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(T){return this.set("last_successful_fetch_response",T)}getActiveConfig(){return this.get("active_config")}setActiveConfig(T){return this.set("active_config",T)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(T){return this.set("active_config_etag",T)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(T){return this.set("throttle_metadata",T)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(T){var x=this;return(0,k.Z)(function*(){const L=yield x.openDbPromise;return new Promise((q,ee)=>{const Je=L.transaction([Ns],"readonly").objectStore(Ns),st=x.createCompositeKey(T);try{const Ct=Je.get(st);Ct.onerror=Ht=>{ee(ou(Ht,"storage-get"))},Ct.onsuccess=Ht=>{const Tt=Ht.target.result;q(Tt?Tt.value:void 0)}}catch(Ct){ee(kn.create("storage-get",{originalErrorMessage:Ct&&Ct.message}))}})})()}set(T,x){var L=this;return(0,k.Z)(function*(){const q=yield L.openDbPromise;return new Promise((ee,Me)=>{const st=q.transaction([Ns],"readwrite").objectStore(Ns),Ct=L.createCompositeKey(T);try{const Ht=st.put({compositeKey:Ct,value:x});Ht.onerror=Tt=>{Me(ou(Tt,"storage-set"))},Ht.onsuccess=()=>{ee()}}catch(Ht){Me(kn.create("storage-set",{originalErrorMessage:Ht&&Ht.message}))}})})()}delete(T){var x=this;return(0,k.Z)(function*(){const L=yield x.openDbPromise;return new Promise((q,ee)=>{const Je=L.transaction([Ns],"readwrite").objectStore(Ns),st=x.createCompositeKey(T);try{const Ct=Je.delete(st);Ct.onerror=Ht=>{ee(ou(Ht,"storage-delete"))},Ct.onsuccess=()=>{q()}}catch(Ct){ee(kn.create("storage-delete",{originalErrorMessage:Ct&&Ct.message}))}})})()}createCompositeKey(T){return[this.appId,this.appName,this.namespace,T].join()}}class Ec{constructor(T){this.storage=T}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var T=this;return(0,k.Z)(function*(){const x=T.storage.getLastFetchStatus(),L=T.storage.getLastSuccessfulFetchTimestampMillis(),q=T.storage.getActiveConfig(),ee=yield x;ee&&(T.lastFetchStatus=ee);const Me=yield L;Me&&(T.lastSuccessfulFetchTimestampMillis=Me);const Je=yield q;Je&&(T.activeConfig=Je)})()}setLastFetchStatus(T){return this.lastFetchStatus=T,this.storage.setLastFetchStatus(T)}setLastSuccessfulFetchTimestampMillis(T){return this.lastSuccessfulFetchTimestampMillis=T,this.storage.setLastSuccessfulFetchTimestampMillis(T)}setActiveConfig(T){return this.activeConfig=T,this.storage.setActiveConfig(T)}}function oo(){return sh.apply(this,arguments)}function sh(){return(sh=(0,k.Z)(function*(){if(!(0,X.hl)())return!1;try{return yield(0,X.eu)()}catch(C){return!1}})).apply(this,arguments)}!function Ro(){(0,oe._registerComponent)(new pe.wA("remote-config",function C(T,{instanceIdentifier:x}){const L=T.getProvider("app").getImmediate(),q=T.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw kn.create("registration-window");if(!(0,X.hl)())throw kn.create("indexed-db-unavailable");const{projectId:ee,apiKey:Me,appId:Je}=L.options;if(!ee)throw kn.create("registration-project-id");if(!Me)throw kn.create("registration-api-key");if(!Je)throw kn.create("registration-app-id");const st=new ih(Je,L.name,x=x||"firebase"),Ct=new Ec(st),Ht=new re.Yd(ur);Ht.logLevel=re.in.ERROR;const Tt=new el(q,oe.SDK_VERSION,x,ee,Me,Je),Ln=new rp(Tt,st),On=new rh(Ln,st,Ct,Ht),Hs=new wc(L,On,Ct,st,Ht);return function cr(C){const T=(0,X.m9)(C);T._initializePromise||(T._initializePromise=T._storageCache.loadFromStorage().then(()=>{T._isInitializationComplete=!0}))}(Hs),Hs},"PUBLIC").setMultipleInstances(!0)),(0,oe.registerVersion)(ur,"0.3.7"),(0,oe.registerVersion)(ur,"0.3.7","esm2017")}();const au="/firebase-messaging-sw.js",Ms="/firebase-cloud-messaging-push-scope",Hr="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",ao="google.c.a.c_id",ha="google.c.a.c_l",Cc="google.c.a.ts",ap="google.c.a.e";var xs=(()=>{return(C=xs||(xs={})).PUSH_RECEIVED="push-received",C.NOTIFICATION_CLICKED="notification-clicked",xs;var C})();function si(C){const T=new Uint8Array(C);return btoa(String.fromCharCode(...T)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function nl(C){const x=(C+"=".repeat((4-C.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),L=atob(x),q=new Uint8Array(L.length);for(let ee=0;ee<L.length;++ee)q[ee]=L.charCodeAt(ee);return q}const rl="fcm_token_details_db",dr="fcm_token_object_Store";function oh(C){return il.apply(this,arguments)}function il(){return il=(0,k.Z)(function*(C){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ee=>ee.name).includes(rl))return null;let T=null;return(yield(0,X.X3)(rl,5,function(){var L=(0,k.Z)(function*(q,ee,Me,Je){var st;if(ee<2||!q.objectStoreNames.contains(dr))return;const Ct=Je.objectStore(dr),Ht=yield Ct.index("fcmSenderId").get(C);if(yield Ct.clear(),Ht)if(2===ee){const Tt=Ht;if(!Tt.auth||!Tt.p256dh||!Tt.endpoint)return;T={token:Tt.fcmToken,createTime:null!==(st=Tt.createTime)&&void 0!==st?st:Date.now(),subscriptionOptions:{auth:Tt.auth,p256dh:Tt.p256dh,endpoint:Tt.endpoint,swScope:Tt.swScope,vapidKey:"string"==typeof Tt.vapidKey?Tt.vapidKey:si(Tt.vapidKey)}}}else if(3===ee){const Tt=Ht;T={token:Tt.fcmToken,createTime:Tt.createTime,subscriptionOptions:{auth:si(Tt.auth),p256dh:si(Tt.p256dh),endpoint:Tt.endpoint,swScope:Tt.swScope,vapidKey:si(Tt.vapidKey)}}}else if(4===ee){const Tt=Ht;T={token:Tt.fcmToken,createTime:Tt.createTime,subscriptionOptions:{auth:si(Tt.auth),p256dh:si(Tt.p256dh),endpoint:Tt.endpoint,swScope:Tt.swScope,vapidKey:si(Tt.vapidKey)}}}});return function(q,ee,Me,Je){return L.apply(this,arguments)}}())).close(),yield(0,X.Lj)(rl),yield(0,X.Lj)("fcm_vapid_details_db"),yield(0,X.Lj)("undefined"),Tc(T)?T:null}),il.apply(this,arguments)}function Tc(C){if(!C||!C.subscriptionOptions)return!1;const{subscriptionOptions:T}=C;return"number"==typeof C.createTime&&C.createTime>0&&"string"==typeof C.token&&C.token.length>0&&"string"==typeof T.auth&&T.auth.length>0&&"string"==typeof T.p256dh&&T.p256dh.length>0&&"string"==typeof T.endpoint&&T.endpoint.length>0&&"string"==typeof T.swScope&&T.swScope.length>0&&"string"==typeof T.vapidKey&&T.vapidKey.length>0}const ls="firebase-messaging-store";let fa=null;function lu(){return fa||(fa=(0,X.X3)("firebase-messaging-database",1,(C,T)=>{0===T&&C.createObjectStore(ls)})),fa}function yn(C){return Po.apply(this,arguments)}function Po(){return(Po=(0,k.Z)(function*(C){const T=uo(C),L=yield(yield lu()).transaction(ls).objectStore(ls).get(T);if(L)return L;{const q=yield oh(C.appConfig.senderId);if(q)return yield Os(C,q),q}})).apply(this,arguments)}function Os(C,T){return un.apply(this,arguments)}function un(){return(un=(0,k.Z)(function*(C,T){const x=uo(C),q=(yield lu()).transaction(ls,"readwrite");return yield q.objectStore(ls).put(T,x),yield q.complete,T})).apply(this,arguments)}function Ic(C){return lo.apply(this,arguments)}function lo(){return(lo=(0,k.Z)(function*(C){const T=uo(C),L=(yield lu()).transaction(ls,"readwrite");yield L.objectStore(ls).delete(T),yield L.complete})).apply(this,arguments)}function uo({appConfig:C}){return C.appId}const Pn=new X.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function pa(C,T){return Di.apply(this,arguments)}function Di(){return(Di=(0,k.Z)(function*(C,T){const x=yield ks(C),L=gt(T),q={method:"POST",headers:x,body:JSON.stringify(L)};let ee;try{ee=yield(yield fetch($r(C.appConfig),q)).json()}catch(Me){throw Pn.create("token-subscribe-failed",{errorInfo:Me})}if(ee.error)throw Pn.create("token-subscribe-failed",{errorInfo:ee.error.message});if(!ee.token)throw Pn.create("token-subscribe-no-token");return ee.token})).apply(this,arguments)}function Er(C,T){return Rs.apply(this,arguments)}function Rs(){return(Rs=(0,k.Z)(function*(C,T){const x=yield ks(C),L=gt(T.subscriptionOptions),q={method:"PATCH",headers:x,body:JSON.stringify(L)};let ee;try{ee=yield(yield fetch(`${$r(C.appConfig)}/${T.token}`,q)).json()}catch(Me){throw Pn.create("token-update-failed",{errorInfo:Me})}if(ee.error)throw Pn.create("token-update-failed",{errorInfo:ee.error.message});if(!ee.token)throw Pn.create("token-update-no-token");return ee.token})).apply(this,arguments)}function us(C,T){return al.apply(this,arguments)}function al(){return(al=(0,k.Z)(function*(C,T){const L={method:"DELETE",headers:yield ks(C)};try{const ee=yield(yield fetch(`${$r(C.appConfig)}/${T}`,L)).json();if(ee.error)throw Pn.create("token-unsubscribe-failed",{errorInfo:ee.error.message})}catch(q){throw Pn.create("token-unsubscribe-failed",{errorInfo:q})}})).apply(this,arguments)}function $r({projectId:C}){return`https://fcmregistrations.googleapis.com/v1/projects/${C}/registrations`}function ks(C){return Ps.apply(this,arguments)}function Ps(){return(Ps=(0,k.Z)(function*({appConfig:C,installations:T}){const x=yield T.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C.apiKey,"x-goog-firebase-installations-auth":`FIS ${x}`})})).apply(this,arguments)}function gt({p256dh:C,auth:T,endpoint:x,vapidKey:L}){const q={web:{endpoint:x,auth:T,p256dh:C}};return L!==Hr&&(q.web.applicationPubKey=L),q}const ll=6048e5;function ga(C){return ul.apply(this,arguments)}function ul(){return(ul=(0,k.Z)(function*(C){const T=yield du(C.swRegistration,C.vapidKey),x={vapidKey:C.vapidKey,swScope:C.swRegistration.scope,endpoint:T.endpoint,auth:si(T.getKey("auth")),p256dh:si(T.getKey("p256dh"))},L=yield yn(C.firebaseDependencies);if(L){if(Fo(L.subscriptionOptions,x))return Date.now()>=L.createTime+ll?uu(C,{token:L.token,createTime:Date.now(),subscriptionOptions:x}):L.token;try{yield us(C.firebaseDependencies,L.token)}catch(q){console.warn(q)}return De(C.firebaseDependencies,x)}return De(C.firebaseDependencies,x)})).apply(this,arguments)}function cl(C){return dl.apply(this,arguments)}function dl(){return(dl=(0,k.Z)(function*(C){const T=yield yn(C.firebaseDependencies);T&&(yield us(C.firebaseDependencies,T.token),yield Ic(C.firebaseDependencies));const x=yield C.swRegistration.pushManager.getSubscription();return!x||x.unsubscribe()})).apply(this,arguments)}function uu(C,T){return cu.apply(this,arguments)}function cu(){return(cu=(0,k.Z)(function*(C,T){try{const x=yield Er(C.firebaseDependencies,T),L=Object.assign(Object.assign({},T),{token:x,createTime:Date.now()});return yield Os(C.firebaseDependencies,L),x}catch(x){throw yield cl(C),x}})).apply(this,arguments)}function De(C,T){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,k.Z)(function*(C,T){const L={token:yield pa(C,T),createTime:Date.now(),subscriptionOptions:T};return yield Os(C,L),L.token})).apply(this,arguments)}function du(C,T){return En.apply(this,arguments)}function En(){return(En=(0,k.Z)(function*(C,T){return(yield C.pushManager.getSubscription())||C.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:nl(T)})})).apply(this,arguments)}function Fo(C,T){return T.vapidKey===C.vapidKey&&T.endpoint===C.endpoint&&T.auth===C.auth&&T.p256dh===C.p256dh}function Lo(C){const T={from:C.from,collapseKey:C.collapse_key,messageId:C.fcmMessageId};return function Wr(C,T){if(!T.notification)return;C.notification={};const x=T.notification.title;x&&(C.notification.title=x);const L=T.notification.body;L&&(C.notification.body=L);const q=T.notification.image;q&&(C.notification.image=q)}(T,C),function hu(C,T){!T.data||(C.data=T.data)}(T,C),function fu(C,T){if(!T.fcmOptions)return;C.fcmOptions={};const x=T.fcmOptions.link;x&&(C.fcmOptions.link=x);const L=T.fcmOptions.analytics_label;L&&(C.fcmOptions.analyticsLabel=L)}(T,C),T}function Sc(C){return"object"==typeof C&&!!C&&ao in C}function pu(C,T){const x=[];for(let L=0;L<C.length;L++)x.push(C.charAt(L)),L<T.length&&x.push(T.charAt(L));return x.join("")}function Fs(C){return Pn.create("missing-app-config-values",{valueName:C})}pu("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),pu("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class hr{constructor(T,x,L){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const q=function hl(C){if(!C||!C.options)throw Fs("App Configuration Object");if(!C.name)throw Fs("App Name");const T=["projectId","apiKey","appId","messagingSenderId"],{options:x}=C;for(const L of T)if(!x[L])throw Fs(L);return{appName:C.name,projectId:x.projectId,apiKey:x.apiKey,appId:x.appId,senderId:x.messagingSenderId}}(T);this.firebaseDependencies={app:T,appConfig:q,installations:x,analyticsProvider:L}}_delete(){return Promise.resolve()}}function oi(C){return fl.apply(this,arguments)}function fl(){return(fl=(0,k.Z)(function*(C){try{C.swRegistration=yield navigator.serviceWorker.register(au,{scope:Ms}),C.swRegistration.update().catch(()=>{})}catch(T){throw Pn.create("failed-service-worker-registration",{browserErrorMessage:T.message})}})).apply(this,arguments)}function Ls(C,T){return Ei.apply(this,arguments)}function Ei(){return(Ei=(0,k.Z)(function*(C,T){if(!T&&!C.swRegistration&&(yield oi(C)),T||!C.swRegistration){if(!(T instanceof ServiceWorkerRegistration))throw Pn.create("invalid-sw-registration");C.swRegistration=T}})).apply(this,arguments)}function gu(C,T){return pl.apply(this,arguments)}function pl(){return(pl=(0,k.Z)(function*(C,T){T?C.vapidKey=T:C.vapidKey||(C.vapidKey=Hr)})).apply(this,arguments)}function mu(){return(mu=(0,k.Z)(function*(C,T){if(!navigator)throw Pn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Pn.create("permission-blocked");return yield gu(C,null==T?void 0:T.vapidKey),yield Ls(C,null==T?void 0:T.serviceWorkerRegistration),ga(C)})).apply(this,arguments)}function ma(C,T,x){return _a.apply(this,arguments)}function _a(){return(_a=(0,k.Z)(function*(C,T,x){const L=_u(T);(yield C.firebaseDependencies.analyticsProvider.get()).logEvent(L,{message_id:x[ao],message_name:x[ha],message_time:x[Cc],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function _u(C){switch(C){case xs.NOTIFICATION_CLICKED:return"notification_open";case xs.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Ac(){return(Ac=(0,k.Z)(function*(C,T){const x=T.data;if(!x.isFirebaseMessaging)return;C.onMessageHandler&&x.messageType===xs.PUSH_RECEIVED&&("function"==typeof C.onMessageHandler?C.onMessageHandler(Lo(x)):C.onMessageHandler.next(Lo(x)));const L=x.data;Sc(L)&&"1"===L[ap]&&(yield ma(C,x.messageType,L))})).apply(this,arguments)}const vu="@firebase/messaging",Nc=C=>{const T=new hr(C.getProvider("app").getImmediate(),C.getProvider("installations-internal").getImmediate(),C.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",x=>function yu(C,T){return Ac.apply(this,arguments)}(T,x)),T},ho=C=>{const T=C.getProvider("messaging").getImmediate();return{getToken:L=>function gl(C,T){return mu.apply(this,arguments)}(T,L)}};function xc(){return fo.apply(this,arguments)}function fo(){return(fo=(0,k.Z)(function*(){try{yield(0,X.eu)()}catch(C){return!1}return"undefined"!=typeof window&&(0,X.hl)()&&(0,X.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Mc(){(0,oe._registerComponent)(new pe.wA("messaging",Nc,"PUBLIC")),(0,oe._registerComponent)(new pe.wA("messaging-internal",ho,"PRIVATE")),(0,oe.registerVersion)(vu,"0.9.12"),(0,oe.registerVersion)(vu,"0.9.12","esm2017")}();const wu="analytics",Lm="firebase_id",ya="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",ml="https://www.googletagmanager.com/gtag/js",Un=new re.Yd("@firebase/analytics");function Oc(C){return Promise.all(C.map(T=>T.catch(x=>x)))}function lp(C,T){const x=document.createElement("script");x.src=`${ml}?l=${C}&id=${T}`,x.async=!0,document.head.appendChild(x)}function Vo(C,T,x,L,q,ee){return Rc.apply(this,arguments)}function Rc(){return(Rc=(0,k.Z)(function*(C,T,x,L,q,ee){const Me=L[q];try{if(Me)yield T[Me];else{const st=(yield Oc(x)).find(Ct=>Ct.measurementId===q);st&&(yield T[st.appId])}}catch(Je){Un.error(Je)}C("config",q,ee)})).apply(this,arguments)}function Eu(C,T,x,L,q){return po.apply(this,arguments)}function po(){return(po=(0,k.Z)(function*(C,T,x,L,q){try{let ee=[];if(q&&q.send_to){let Me=q.send_to;Array.isArray(Me)||(Me=[Me]);const Je=yield Oc(x);for(const st of Me){const Ct=Je.find(Tt=>Tt.measurementId===st),Ht=Ct&&T[Ct.appId];if(!Ht){ee=[];break}ee.push(Ht)}}0===ee.length&&(ee=Object.values(T)),yield Promise.all(ee),C("event",L,q||{})}catch(ee){Un.error(ee)}})).apply(this,arguments)}function up(){const C=window.document.getElementsByTagName("script");for(const T of Object.values(C))if(T.src&&T.src.includes(ml))return T;return null}const Tr=new X.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),ai=new class Hi{constructor(T={},x=1e3){this.throttleMetadata=T,this.intervalMillis=x}getThrottleMetadata(T){return this.throttleMetadata[T]}setThrottleMetadata(T,x){this.throttleMetadata[T]=x}deleteThrottleMetadata(T){delete this.throttleMetadata[T]}};function hn(C){return new Headers({Accept:"application/json","x-goog-api-key":C})}function mt(C){return Et.apply(this,arguments)}function Et(){return(Et=(0,k.Z)(function*(C){var T;const{appId:x,apiKey:L}=C,q={method:"GET",headers:hn(L)},ee=ya.replace("{app-id}",x),Me=yield fetch(ee,q);if(200!==Me.status&&304!==Me.status){let Je="";try{const st=yield Me.json();(null===(T=st.error)||void 0===T?void 0:T.message)&&(Je=st.error.message)}catch(st){}throw Tr.create("config-fetch-failed",{httpStatus:Me.status,responseMessage:Je})}return Me.json()})).apply(this,arguments)}function $i(C){return fn.apply(this,arguments)}function fn(){return(fn=(0,k.Z)(function*(C,T=ai,x){const{appId:L,apiKey:q,measurementId:ee}=C.options;if(!L)throw Tr.create("no-app-id");if(!q){if(ee)return{measurementId:ee,appId:L};throw Tr.create("no-api-key")}const Me=T.getThrottleMetadata(L)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Je=new Tu;return setTimeout((0,k.Z)(function*(){Je.abort()}),void 0!==x?x:6e4),_l({appId:L,apiKey:q,measurementId:ee},Me,Je,T)})).apply(this,arguments)}function _l(C,T,x){return rr.apply(this,arguments)}function rr(){return(rr=(0,k.Z)(function*(C,{throttleEndTimeMillis:T,backoffCount:x},L,q=ai){const{appId:ee,measurementId:Me}=C;try{yield bt(L,T)}catch(Je){if(Me)return Un.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Me} provided in the "measurementId" field in the local Firebase config. [${Je.message}]`),{appId:ee,measurementId:Me};throw Je}try{const Je=yield mt(C);return q.deleteThrottleMetadata(ee),Je}catch(Je){if(!Pc(Je)){if(q.deleteThrottleMetadata(ee),Me)return Un.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Me} provided in the "measurementId" field in the local Firebase config. [${Je.message}]`),{appId:ee,measurementId:Me};throw Je}const st=503===Number(Je.customData.httpStatus)?(0,X.$s)(x,q.intervalMillis,30):(0,X.$s)(x,q.intervalMillis),Ct={throttleEndTimeMillis:Date.now()+st,backoffCount:x+1};return q.setThrottleMetadata(ee,Ct),Un.debug(`Calling attemptFetch again in ${st} millis`),_l(C,Ct,L,q)}})).apply(this,arguments)}function bt(C,T){return new Promise((x,L)=>{const q=Math.max(T-Date.now(),0),ee=setTimeout(x,q);C.addEventListener(()=>{clearTimeout(ee),L(Tr.create("fetch-throttle",{throttleEndTimeMillis:T}))})})}function Pc(C){if(!(C instanceof X.ZR&&C.customData))return!1;const T=Number(C.customData.httpStatus);return 429===T||500===T||503===T||504===T}class Tu{constructor(){this.listeners=[]}addEventListener(T){this.listeners.push(T)}abort(){this.listeners.forEach(T=>T())}}function Iu(){return Bo.apply(this,arguments)}function Bo(){return(Bo=(0,k.Z)(function*(){if(!(0,X.hl)())return Un.warn(Tr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,X.eu)()}catch(C){return Un.warn(Tr.create("indexeddb-unavailable",{errorInfo:C}).message),!1}return!0})).apply(this,arguments)}function hs(){return(hs=(0,k.Z)(function*(C,T,x,L,q,ee,Me){var Je;const st=$i(C);st.then(On=>{x[On.measurementId]=On.appId,C.options.measurementId&&On.measurementId!==C.options.measurementId&&Un.warn(`The measurement ID in the local Firebase config (${C.options.measurementId}) does not match the measurement ID fetched from the server (${On.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(On=>Un.error(On)),T.push(st);const Ct=Iu().then(On=>{if(On)return L.getId()}),[Ht,Tt]=yield Promise.all([st,Ct]);up()||lp(ee,Ht.measurementId),q("js",new Date);const Ln=null!==(Je=null==Me?void 0:Me.config)&&void 0!==Je?Je:{};return Ln.origin="firebase",Ln.update=!0,null!=Tt&&(Ln[Lm]=Tt),q("config",Ht.measurementId,Ln),Ht.measurementId})).apply(this,arguments)}class Fn{constructor(T){this.app=T}_delete(){return delete qr[this.app.options.appId],Promise.resolve()}}let qr={},go=[];const Su={};let ba,_o,mo="dataLayer",wa=!1;function rn(C,T,x){!function yl(){const C=[];if((0,X.ru)()&&C.push("This is a browser extension environment."),(0,X.zI)()||C.push("Cookies are not available."),C.length>0){const T=C.map((L,q)=>`(${q+1}) ${L}`).join(" "),x=Tr.create("invalid-analytics-context",{errorInfo:T});Un.warn(x.message)}}();const L=C.options.appId;if(!L)throw Tr.create("no-app-id");if(!C.options.apiKey){if(!C.options.measurementId)throw Tr.create("no-api-key");Un.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${C.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=qr[L])throw Tr.create("already-exists",{id:L});if(!wa){!function ds(C){let T=[];Array.isArray(window[C])?T=window[C]:window[C]=T}(mo);const{wrappedGtag:ee,gtagCore:Me}=function lh(C,T,x,L,q){let ee=function(...Me){window[L].push(arguments)};return window[q]&&"function"==typeof window[q]&&(ee=window[q]),window[q]=function kc(C,T,x,L){function ee(){return(ee=(0,k.Z)(function*(Me,Je,st){try{"event"===Me?yield Eu(C,T,x,Je,st):"config"===Me?yield Vo(C,T,x,L,Je,st):C("set",Je)}catch(Ct){Un.error(Ct)}})).apply(this,arguments)}return function q(Me,Je,st){return ee.apply(this,arguments)}}(ee,C,T,x),{gtagCore:ee,wrappedGtag:window[q]}}(qr,go,Su,mo,"gtag");_o=ee,ba=Me,wa=!0}return qr[L]=function Uo(C,T,x,L,q,ee,Me){return hs.apply(this,arguments)}(C,go,Su,T,ba,mo,x),new Fn(C)}function vl(){return(vl=(0,k.Z)(function*(C,T,x,L,q){if(q&&q.global)C("event",x,L);else{const ee=yield T;C("event",x,Object.assign(Object.assign({},L),{send_to:ee}))}})).apply(this,arguments)}function Us(){return wl.apply(this,arguments)}function wl(){return(wl=(0,k.Z)(function*(){if((0,X.ru)()||!(0,X.zI)()||!(0,X.hl)())return!1;try{return yield(0,X.eu)()}catch(C){return!1}})).apply(this,arguments)}const Da="@firebase/analytics";!function Dl(){(0,oe._registerComponent)(new pe.wA(wu,(T,{options:x})=>rn(T.getProvider("app").getImmediate(),T.getProvider("installations-internal").getImmediate(),x),"PUBLIC")),(0,oe._registerComponent)(new pe.wA("analytics-internal",function C(T){try{const x=T.getProvider(wu).getImmediate();return{logEvent:(L,q,ee)=>function Nu(C,T,x,L){C=(0,X.m9)(C),function Fc(C,T,x,L,q){return vl.apply(this,arguments)}(_o,qr[C.app.options.appId],T,x,L).catch(q=>Un.error(q))}(x,L,q,ee)}}catch(x){throw Tr.create("interop-component-reg-failed",{reason:x})}},"PRIVATE")),(0,oe.registerVersion)(Da,"0.7.8"),(0,oe.registerVersion)(Da,"0.7.8","esm2017")}();var dp=R(4408),Zn=R(7565);const Kn=new class Ut extends Zn.v{}(class Tn extends dp.o{constructor(T,x){super(T,x),this.scheduler=T,this.work=x}schedule(T,x=0){return x>0?super.schedule(T,x):(this.delay=x,this.state=T,this.scheduler.flush(this),this)}execute(T,x){return x>0||this.closed?super.execute(T,x):this._execute(T,x)}requestAsyncId(T,x,L=0){return null!=L&&L>0||null==L&&this.delay>0?super.requestAsyncId(T,x,L):T.flush(this)}});var Mu=R(4986),xu=R(8505),nn=R(9468),_n=R(5363);const El=new u.GfV("7.3.0"),js="__angularfire_symbol__analyticsIsSupportedValue",Ci="__angularfire_symbol__analyticsIsSupported",Ti="__angularfire_symbol__remoteConfigIsSupportedValue",Ea="__angularfire_symbol__remoteConfigIsSupported",Ou="__angularfire_symbol__messagingIsSupportedValue",Bc="__angularfire_symbol__messagingIsSupported";function yo(C,T,x){if(T){if(1===T.length)return T[0];const ee=T.filter(Me=>Me.app===x);if(1===ee.length)return ee[0]}return x.container.getProvider(C).getImmediate({optional:!0})}globalThis[Ci]||(globalThis[Ci]=Us().then(C=>globalThis[js]=C).catch(()=>globalThis[js]=!1)),globalThis[Bc]||(globalThis[Bc]=xc().then(C=>globalThis[Ou]=C).catch(()=>globalThis[Ou]=!1)),globalThis[Ea]||(globalThis[Ea]=oo().then(C=>globalThis[Ti]=C).catch(()=>globalThis[Ti]=!1));const jc=(C,T)=>{const x=T?[T]:(0,K.C6)(),L=[];return x.forEach(q=>{q.container.getProvider(C).instances.forEach(Me=>{L.includes(Me)||L.push(Me)})}),L};function vo(){}class Cl{constructor(T,x=Kn){this.zone=T,this.delegate=x}now(){return this.delegate.now()}schedule(T,x,L){const q=this.zone;return this.delegate.schedule(function(Me){q.runGuarded(()=>{T.apply(this,[Me])})},x,L)}}class Ca{constructor(T){this.zone=T,this.task=null}call(T,x){const L=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",vo,{},vo,vo)),x.pipe((0,xu.b)({next:L,complete:L,error:L})).subscribe(T).add(L)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let qi=(()=>{class C{constructor(x){this.ngZone=x,this.outsideAngular=x.runOutsideAngular(()=>new Cl(Zone.current)),this.insideAngular=x.run(()=>new Cl(Zone.current,Mu.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return C.\u0275fac=function(x){return new(x||C)(u.LFG(u.R0b))},C.\u0275prov=u.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})();function zi(){const C=globalThis.\u0275AngularFireScheduler;if(!C)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return C}function Tl(C){return zi(),function Gs(C){return function(x){return(x=x.lift(new Ca(C.ngZone))).pipe((0,nn.R)(C.outsideAngular),(0,_n.Q)(C.insideAngular))}}(zi())(C)}},2090:(ct,Ee,R)=>{R.d(Ee,{$s:()=>ro,BH:()=>Se,G6:()=>ne,L:()=>le,LL:()=>ke,Lj:()=>Bt,Mn:()=>je,Sg:()=>xe,UG:()=>be,US:()=>re,X3:()=>pt,ZB:()=>J,ZR:()=>ge,b$:()=>Te,d:()=>_e,eu:()=>Q,hl:()=>ze,jU:()=>rt,m9:()=>ft,ne:()=>ht,pd:()=>ns,r3:()=>Jt,ru:()=>Ke,tV:()=>G,uI:()=>he,vZ:()=>Es,w1:()=>ve,xO:()=>Ui,xb:()=>or,z$:()=>Fe,zI:()=>ae,zd:()=>Or});var u=R(5861);const X=function(j){const V=[];let $=0;for(let ue=0;ue<j.length;ue++){let Y=j.charCodeAt(ue);Y<128?V[$++]=Y:Y<2048?(V[$++]=Y>>6|192,V[$++]=63&Y|128):55296==(64512&Y)&&ue+1<j.length&&56320==(64512&j.charCodeAt(ue+1))?(Y=65536+((1023&Y)<<10)+(1023&j.charCodeAt(++ue)),V[$++]=Y>>18|240,V[$++]=Y>>12&63|128,V[$++]=Y>>6&63|128,V[$++]=63&Y|128):(V[$++]=Y>>12|224,V[$++]=Y>>6&63|128,V[$++]=63&Y|128)}return V},re={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(j,V){if(!Array.isArray(j))throw Error("encodeByteArray takes an array as a parameter");this.init_();const $=V?this.byteToCharMapWebSafe_:this.byteToCharMap_,ue=[];for(let Y=0;Y<j.length;Y+=3){const Ve=j[Y],vt=Y+1<j.length,Qt=vt?j[Y+1]:0,wr=Y+2<j.length,zt=wr?j[Y+2]:0;let gn=(15&Qt)<<2|zt>>6,nr=63&zt;wr||(nr=64,vt||(gn=64)),ue.push($[Ve>>2],$[(3&Ve)<<4|Qt>>4],$[gn],$[nr])}return ue.join("")},encodeString(j,V){return this.HAS_NATIVE_SUPPORT&&!V?btoa(j):this.encodeByteArray(X(j),V)},decodeString(j,V){return this.HAS_NATIVE_SUPPORT&&!V?atob(j):function(j){const V=[];let $=0,ue=0;for(;$<j.length;){const Y=j[$++];if(Y<128)V[ue++]=String.fromCharCode(Y);else if(Y>191&&Y<224){const Ve=j[$++];V[ue++]=String.fromCharCode((31&Y)<<6|63&Ve)}else if(Y>239&&Y<365){const wr=((7&Y)<<18|(63&j[$++])<<12|(63&j[$++])<<6|63&j[$++])-65536;V[ue++]=String.fromCharCode(55296+(wr>>10)),V[ue++]=String.fromCharCode(56320+(1023&wr))}else{const Ve=j[$++],vt=j[$++];V[ue++]=String.fromCharCode((15&Y)<<12|(63&Ve)<<6|63&vt)}}return V.join("")}(this.decodeStringToByteArray(j,V))},decodeStringToByteArray(j,V){this.init_();const $=V?this.charToByteMapWebSafe_:this.charToByteMap_,ue=[];for(let Y=0;Y<j.length;){const Ve=$[j.charAt(Y++)],Qt=Y<j.length?$[j.charAt(Y)]:0;++Y;const zt=Y<j.length?$[j.charAt(Y)]:64;++Y;const Ot=Y<j.length?$[j.charAt(Y)]:64;if(++Y,null==Ve||null==Qt||null==zt||null==Ot)throw Error();ue.push(Ve<<2|Qt>>4),64!==zt&&(ue.push(Qt<<4&240|zt>>2),64!==Ot&&ue.push(zt<<6&192|Ot))}return ue},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let j=0;j<this.ENCODED_VALS.length;j++)this.byteToCharMap_[j]=this.ENCODED_VALS.charAt(j),this.charToByteMap_[this.byteToCharMap_[j]]=j,this.byteToCharMapWebSafe_[j]=this.ENCODED_VALS_WEBSAFE.charAt(j),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[j]]=j,j>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(j)]=j,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(j)]=j)}}},le=function(j){return function(j){const V=X(j);return re.encodeByteArray(V,!0)}(j).replace(/\./g,"")},G=function(j){try{return re.decodeString(j,!0)}catch(V){console.error("base64Decode failed: ",V)}return null};function J(j,V){if(!(V instanceof Object))return V;switch(V.constructor){case Date:return new Date(V.getTime());case Object:void 0===j&&(j={});break;case Array:j=[];break;default:return V}for(const $ in V)!V.hasOwnProperty($)||!We($)||(j[$]=J(j[$],V[$]));return j}function We(j){return"__proto__"!==j}class Se{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((V,$)=>{this.resolve=V,this.reject=$})}wrapCallback(V){return($,ue)=>{$?this.reject($):this.resolve(ue),"function"==typeof V&&(this.promise.catch(()=>{}),1===V.length?V($):V($,ue))}}}function xe(j,V){if(j.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const ue=V||"demo-project",Y=j.iat||0,Ve=j.sub||j.user_id;if(!Ve)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const vt=Object.assign({iss:`https://securetoken.google.com/${ue}`,aud:ue,iat:Y,exp:Y+3600,auth_time:Y,sub:Ve,user_id:Ve,firebase:{sign_in_provider:"custom",identities:{}}},j);return[le(JSON.stringify({alg:"none",type:"JWT"})),le(JSON.stringify(vt)),""].join(".")}function Fe(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function he(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Fe())}function be(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(j){return!1}}function rt(){return"object"==typeof self&&self.self===self}function Ke(){const j="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof j&&void 0!==j.id}function Te(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function _e(){return Fe().indexOf("Electron/")>=0}function ve(){const j=Fe();return j.indexOf("MSIE ")>=0||j.indexOf("Trident/")>=0}function je(){return Fe().indexOf("MSAppHost/")>=0}function ne(){return!be()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ze(){return"object"==typeof indexedDB}function Q(){return new Promise((j,V)=>{try{let $=!0;const ue="validate-browser-context-for-indexeddb-analytics-module",Y=self.indexedDB.open(ue);Y.onsuccess=()=>{Y.result.close(),$||self.indexedDB.deleteDatabase(ue),j(!0)},Y.onupgradeneeded=()=>{$=!1},Y.onerror=()=>{var Ve;V((null===(Ve=Y.error)||void 0===Ve?void 0:Ve.message)||"")}}catch($){V($)}})}function ae(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class ge extends Error{constructor(V,$,ue){super($),this.code=V,this.customData=ue,this.name="FirebaseError",Object.setPrototypeOf(this,ge.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ke.prototype.create)}}class ke{constructor(V,$,ue){this.service=V,this.serviceName=$,this.errors=ue}create(V,...$){const ue=$[0]||{},Y=`${this.service}/${V}`,Ve=this.errors[V],vt=Ve?function St(j,V){return j.replace(Yt,($,ue)=>{const Y=V[ue];return null!=Y?String(Y):`<${ue}?>`})}(Ve,ue):"Error";return new ge(Y,`${this.serviceName}: ${vt} (${Y}).`,ue)}}const Yt=/\{\$([^}]+)}/g;function Jt(j,V){return Object.prototype.hasOwnProperty.call(j,V)}function or(j){for(const V in j)if(Object.prototype.hasOwnProperty.call(j,V))return!1;return!0}function Es(j,V){if(j===V)return!0;const $=Object.keys(j),ue=Object.keys(V);for(const Y of $){if(!ue.includes(Y))return!1;const Ve=j[Y],vt=V[Y];if(xr(Ve)&&xr(vt)){if(!Es(Ve,vt))return!1}else if(Ve!==vt)return!1}for(const Y of ue)if(!$.includes(Y))return!1;return!0}function xr(j){return null!==j&&"object"==typeof j}function Ui(j){const V=[];for(const[$,ue]of Object.entries(j))Array.isArray(ue)?ue.forEach(Y=>{V.push(encodeURIComponent($)+"="+encodeURIComponent(Y))}):V.push(encodeURIComponent($)+"="+encodeURIComponent(ue));return V.length?"&"+V.join("&"):""}function Or(j){const V={};return j.replace(/^\?/,"").split("&").forEach(ue=>{if(ue){const[Y,Ve]=ue.split("=");V[decodeURIComponent(Y)]=decodeURIComponent(Ve)}}),V}function ns(j){const V=j.indexOf("?");if(!V)return"";const $=j.indexOf("#",V);return j.substring(V,$>0?$:void 0)}function ht(j,V){const $=new jr(j,V);return $.subscribe.bind($)}class jr{constructor(V,$){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=$,this.task.then(()=>{V(this)}).catch(ue=>{this.error(ue)})}next(V){this.forEachObserver($=>{$.next(V)})}error(V){this.forEachObserver($=>{$.error(V)}),this.close(V)}complete(){this.forEachObserver(V=>{V.complete()}),this.close()}subscribe(V,$,ue){let Y;if(void 0===V&&void 0===$&&void 0===ue)throw new Error("Missing Observer.");Y=function Wn(j,V){if("object"!=typeof j||null===j)return!1;for(const $ of V)if($ in j&&"function"==typeof j[$])return!0;return!1}(V,["next","error","complete"])?V:{next:V,error:$,complete:ue},void 0===Y.next&&(Y.next=ni),void 0===Y.error&&(Y.error=ni),void 0===Y.complete&&(Y.complete=ni);const Ve=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Y.error(this.finalError):Y.complete()}catch(vt){}}),this.observers.push(Y),Ve}unsubscribeOne(V){void 0===this.observers||void 0===this.observers[V]||(delete this.observers[V],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(V){if(!this.finalized)for(let $=0;$<this.observers.length;$++)this.sendOne($,V)}sendOne(V,$){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[V])try{$(this.observers[V])}catch(ue){"undefined"!=typeof console&&console.error&&console.error(ue)}})}close(V){this.finalized||(this.finalized=!0,void 0!==V&&(this.finalError=V),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ni(){}function ro(j,V=1e3,$=2){const ue=V*Math.pow($,j),Y=Math.round(.5*ue*(Math.random()-.5)*2);return Math.min(144e5,ue+Y)}function ft(j){return j&&j._delegate?j._delegate:j}function br(j,V){return new Promise(($,ue)=>{j.onsuccess=Y=>{$(Y.target.result)},j.onerror=Y=>{var Ve;ue(`${V}: ${null===(Ve=Y.target.error)||void 0===Ve?void 0:Ve.message}`)}})}class Vt{constructor(V){this._db=V,this.objectStoreNames=this._db.objectStoreNames}transaction(V,$="readonly"){return new Ye(this._db.transaction.call(this._db,V,$))}createObjectStore(V,$){return new Ie(this._db.createObjectStore(V,$))}close(){this._db.close()}}class Ye{constructor(V){this._transaction=V,this.complete=new Promise(($,ue)=>{this._transaction.oncomplete=function(){$()},this._transaction.onerror=()=>{ue(this._transaction.error)},this._transaction.onabort=()=>{ue(this._transaction.error)}})}objectStore(V){return new Ie(this._transaction.objectStore(V))}}class Ie{constructor(V){this._store=V}index(V){return new tt(this._store.index(V))}createIndex(V,$,ue){return new tt(this._store.createIndex(V,$,ue))}get(V){return br(this._store.get(V),"Error reading from IndexedDB")}put(V,$){return br(this._store.put(V,$),"Error writing to IndexedDB")}delete(V){return br(this._store.delete(V),"Error deleting from IndexedDB")}clear(){return br(this._store.clear(),"Error clearing IndexedDB object store")}}class tt{constructor(V){this._index=V}get(V){return br(this._index.get(V),"Error reading from IndexedDB")}}function pt(j,V,$){return new Promise((ue,Y)=>{try{const Ve=indexedDB.open(j,V);Ve.onsuccess=vt=>{ue(new Vt(vt.target.result))},Ve.onerror=vt=>{var Qt;Y(`Error opening indexedDB: ${null===(Qt=vt.target.error)||void 0===Qt?void 0:Qt.message}`)},Ve.onupgradeneeded=vt=>{$(new Vt(Ve.result),vt.oldVersion,vt.newVersion,new Ye(Ve.transaction))}}catch(Ve){Y(`Error opening indexedDB: ${Ve.message}`)}})}function Bt(j){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,u.Z)(function*(j){return new Promise((V,$)=>{try{const ue=indexedDB.deleteDatabase(j);ue.onsuccess=()=>{V()},ue.onerror=Y=>{var Ve;$(`Error deleting indexedDB database "${j}": ${null===(Ve=Y.target.error)||void 0===Ve?void 0:Ve.message}`)}}catch(ue){$(`Error deleting indexedDB database "${j}": ${ue.message}`)}})})).apply(this,arguments)}},5605:(ct,Ee,R)=>{var u=R(5e3);let K=null;function k(){return K}const re=new u.OlP("DocumentToken");let de=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return function le(){return(0,u.LFG)(H)}()},providedIn:"platform"}),n})();const G=new u.OlP("Location Initialized");let H=(()=>{class n extends de{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return k().getBaseHref(this._doc)}onPopState(t){const r=k().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=k().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){J()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){J()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(re))},n.\u0275prov=u.Yz7({token:n,factory:function(){return function We(){return new H((0,u.LFG)(re))}()},providedIn:"platform"}),n})();function J(){return!!window.history.pushState}function Se(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function xe(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Fe(n){return n&&"?"!==n[0]?"?"+n:n}let he=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return function be(n){const e=(0,u.LFG)(re).location;return new Ke((0,u.LFG)(de),e&&e.origin||"")}()},providedIn:"root"}),n})();const rt=new u.OlP("appBaseHref");let Ke=(()=>{class n extends he{constructor(t,r){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Se(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Fe(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,l){const d=this.prepareExternalUrl(i+Fe(l));this._platformLocation.pushState(t,r,d)}replaceState(t,r,i,l){const d=this.prepareExternalUrl(i+Fe(l));this._platformLocation.replaceState(t,r,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(de),u.LFG(rt,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),Te=(()=>{class n extends he{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Se(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,l){let d=this.prepareExternalUrl(i+Fe(l));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.pushState(t,r,d)}replaceState(t,r,i,l){let d=this.prepareExternalUrl(i+Fe(l));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(de),u.LFG(rt,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),_e=(()=>{class n{constructor(t,r){this._subject=new u.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const i=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=xe(Be(i)),this._platformStrategy.onPopState(l=>{this._subject.emit({url:this.path(!0),pop:!0,state:l.state,type:l.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Fe(r))}normalize(t){return n.stripTrailingSlash(function je(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,Be(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._platformStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Fe(r)),i)}replaceState(t,r="",i=null){this._platformStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Fe(r)),i)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformStrategy).historyGo)||void 0===i||i.call(r,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=Fe,n.joinWithSlash=Se,n.stripTrailingSlash=xe,n.\u0275fac=function(t){return new(t||n)(u.LFG(he),u.LFG(de))},n.\u0275prov=u.Yz7({token:n,factory:function(){return function ve(){return new _e((0,u.LFG)(he),(0,u.LFG)(de))}()},providedIn:"root"}),n})();function Be(n){return n.replace(/\/index.html$/,"")}var ae=(()=>((ae=ae||{})[ae.Format=0]="Format",ae[ae.Standalone=1]="Standalone",ae))(),te=(()=>((te=te||{})[te.Narrow=0]="Narrow",te[te.Abbreviated=1]="Abbreviated",te[te.Wide=2]="Wide",te[te.Short=3]="Short",te))(),we=(()=>((we=we||{})[we.Short=0]="Short",we[we.Medium=1]="Medium",we[we.Long=2]="Long",we[we.Full=3]="Full",we))(),ge=(()=>((ge=ge||{})[ge.Decimal=0]="Decimal",ge[ge.Group=1]="Group",ge[ge.List=2]="List",ge[ge.PercentSign=3]="PercentSign",ge[ge.PlusSign=4]="PlusSign",ge[ge.MinusSign=5]="MinusSign",ge[ge.Exponential=6]="Exponential",ge[ge.SuperscriptingExponent=7]="SuperscriptingExponent",ge[ge.PerMille=8]="PerMille",ge[ge.Infinity=9]="Infinity",ge[ge.NaN=10]="NaN",ge[ge.TimeSeparator=11]="TimeSeparator",ge[ge.CurrencyDecimal=12]="CurrencyDecimal",ge[ge.CurrencyGroup=13]="CurrencyGroup",ge))();function tn(n,e){return er((0,u.cg1)(n)[u.wAp.DateFormat],e)}function bi(n,e){return er((0,u.cg1)(n)[u.wAp.TimeFormat],e)}function Jt(n,e){return er((0,u.cg1)(n)[u.wAp.DateTimeFormat],e)}function Wt(n,e){const t=(0,u.cg1)(n),r=t[u.wAp.NumberSymbols][e];if(void 0===r){if(e===ge.CurrencyDecimal)return t[u.wAp.NumberSymbols][ge.Decimal];if(e===ge.CurrencyGroup)return t[u.wAp.NumberSymbols][ge.Group]}return r}function ns(n){if(!n[u.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[u.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function er(n,e){for(let t=e;t>-1;t--)if(void 0!==n[t])return n[t];throw new Error("Locale data API: locale data undefined")}function Wn(n){const[e,t]=n.split(":");return{hours:+e,minutes:+t}}const tr=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Cs={},la=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var qt=(()=>((qt=qt||{})[qt.Short=0]="Short",qt[qt.ShortGMT=1]="ShortGMT",qt[qt.Long=2]="Long",qt[qt.Extended=3]="Extended",qt))(),at=(()=>((at=at||{})[at.FullYear=0]="FullYear",at[at.Month=1]="Month",at[at.Date=2]="Date",at[at.Hours=3]="Hours",at[at.Minutes=4]="Minutes",at[at.Seconds=5]="Seconds",at[at.FractionalSeconds=6]="FractionalSeconds",at[at.Day=7]="Day",at))(),wt=(()=>((wt=wt||{})[wt.DayPeriods=0]="DayPeriods",wt[wt.Days=1]="Days",wt[wt.Months=2]="Months",wt[wt.Eras=3]="Eras",wt))();function ar(n,e,t,r){let i=function Qt(n){if(zt(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[i,l=1,d=1]=n.split("-").map(m=>+m);return ji(i,l-1,d)}const t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let r;if(r=n.match(tr))return function wr(n){const e=new Date(0);let t=0,r=0;const i=n[8]?e.setUTCFullYear:e.setFullYear,l=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));const d=Number(n[4]||0)-t,m=Number(n[5]||0)-r,v=Number(n[6]||0),D=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return l.call(e,d,m,v,D),e}(r)}const e=new Date(n);if(!zt(e))throw new Error(`Unable to convert "${n}" into a date`);return e}(n);e=Gt(t,e)||e;let m,d=[];for(;e;){if(m=la.exec(e),!m){d.push(e);break}{d=d.concat(m.slice(1));const I=d.pop();if(!I)break;e=I}}let v=i.getTimezoneOffset();r&&(v=Y(r,v),i=function vt(n,e,t){const r=t?-1:1,i=n.getTimezoneOffset();return function Ve(n,e){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+e),n}(n,r*(Y(e,i)-i))}(i,r,!0));let D="";return d.forEach(I=>{const M=function ue(n){if($[n])return $[n];let e;switch(n){case"G":case"GG":case"GGG":e=Vt(wt.Eras,te.Abbreviated);break;case"GGGG":e=Vt(wt.Eras,te.Wide);break;case"GGGGG":e=Vt(wt.Eras,te.Narrow);break;case"y":e=ft(at.FullYear,1,0,!1,!0);break;case"yy":e=ft(at.FullYear,2,0,!0,!0);break;case"yyy":e=ft(at.FullYear,3,0,!1,!0);break;case"yyyy":e=ft(at.FullYear,4,0,!1,!0);break;case"Y":e=V(1);break;case"YY":e=V(2,!0);break;case"YYY":e=V(3);break;case"YYYY":e=V(4);break;case"M":case"L":e=ft(at.Month,1,1);break;case"MM":case"LL":e=ft(at.Month,2,1);break;case"MMM":e=Vt(wt.Months,te.Abbreviated);break;case"MMMM":e=Vt(wt.Months,te.Wide);break;case"MMMMM":e=Vt(wt.Months,te.Narrow);break;case"LLL":e=Vt(wt.Months,te.Abbreviated,ae.Standalone);break;case"LLLL":e=Vt(wt.Months,te.Wide,ae.Standalone);break;case"LLLLL":e=Vt(wt.Months,te.Narrow,ae.Standalone);break;case"w":e=j(1);break;case"ww":e=j(2);break;case"W":e=j(1,!0);break;case"d":e=ft(at.Date,1);break;case"dd":e=ft(at.Date,2);break;case"c":case"cc":e=ft(at.Day,1);break;case"ccc":e=Vt(wt.Days,te.Abbreviated,ae.Standalone);break;case"cccc":e=Vt(wt.Days,te.Wide,ae.Standalone);break;case"ccccc":e=Vt(wt.Days,te.Narrow,ae.Standalone);break;case"cccccc":e=Vt(wt.Days,te.Short,ae.Standalone);break;case"E":case"EE":case"EEE":e=Vt(wt.Days,te.Abbreviated);break;case"EEEE":e=Vt(wt.Days,te.Wide);break;case"EEEEE":e=Vt(wt.Days,te.Narrow);break;case"EEEEEE":e=Vt(wt.Days,te.Short);break;case"a":case"aa":case"aaa":e=Vt(wt.DayPeriods,te.Abbreviated);break;case"aaaa":e=Vt(wt.DayPeriods,te.Wide);break;case"aaaaa":e=Vt(wt.DayPeriods,te.Narrow);break;case"b":case"bb":case"bbb":e=Vt(wt.DayPeriods,te.Abbreviated,ae.Standalone,!0);break;case"bbbb":e=Vt(wt.DayPeriods,te.Wide,ae.Standalone,!0);break;case"bbbbb":e=Vt(wt.DayPeriods,te.Narrow,ae.Standalone,!0);break;case"B":case"BB":case"BBB":e=Vt(wt.DayPeriods,te.Abbreviated,ae.Format,!0);break;case"BBBB":e=Vt(wt.DayPeriods,te.Wide,ae.Format,!0);break;case"BBBBB":e=Vt(wt.DayPeriods,te.Narrow,ae.Format,!0);break;case"h":e=ft(at.Hours,1,-12);break;case"hh":e=ft(at.Hours,2,-12);break;case"H":e=ft(at.Hours,1);break;case"HH":e=ft(at.Hours,2);break;case"m":e=ft(at.Minutes,1);break;case"mm":e=ft(at.Minutes,2);break;case"s":e=ft(at.Seconds,1);break;case"ss":e=ft(at.Seconds,2);break;case"S":e=ft(at.FractionalSeconds,1);break;case"SS":e=ft(at.FractionalSeconds,2);break;case"SSS":e=ft(at.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=Ie(qt.Short);break;case"ZZZZZ":e=Ie(qt.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Ie(qt.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=Ie(qt.Long);break;default:return null}return $[n]=e,e}(I);D+=M?M(i,t,v):"''"===I?"'":I.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),D}function ji(n,e,t){const r=new Date(0);return r.setFullYear(n,e,t),r.setHours(0,0,0),r}function Gt(n,e){const t=function St(n){return(0,u.cg1)(n)[u.wAp.LocaleId]}(n);if(Cs[t]=Cs[t]||{},Cs[t][e])return Cs[t][e];let r="";switch(e){case"shortDate":r=tn(n,we.Short);break;case"mediumDate":r=tn(n,we.Medium);break;case"longDate":r=tn(n,we.Long);break;case"fullDate":r=tn(n,we.Full);break;case"shortTime":r=bi(n,we.Short);break;case"mediumTime":r=bi(n,we.Medium);break;case"longTime":r=bi(n,we.Long);break;case"fullTime":r=bi(n,we.Full);break;case"short":const i=Gt(n,"shortTime"),l=Gt(n,"shortDate");r=ro(Jt(n,we.Short),[i,l]);break;case"medium":const d=Gt(n,"mediumTime"),m=Gt(n,"mediumDate");r=ro(Jt(n,we.Medium),[d,m]);break;case"long":const v=Gt(n,"longTime"),D=Gt(n,"longDate");r=ro(Jt(n,we.Long),[v,D]);break;case"full":const I=Gt(n,"fullTime"),M=Gt(n,"fullDate");r=ro(Jt(n,we.Full),[I,M])}return r&&(Cs[t][e]=r),r}function ro(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,r){return null!=e&&r in e?e[r]:t})),n}function vr(n,e,t="-",r,i){let l="";(n<0||i&&n<=0)&&(i?n=1-n:(n=-n,l=t));let d=String(n);for(;d.length<e;)d="0"+d;return r&&(d=d.substr(d.length-e)),l+d}function ft(n,e,t=0,r=!1,i=!1){return function(l,d){let m=function br(n,e){switch(n){case at.FullYear:return e.getFullYear();case at.Month:return e.getMonth();case at.Date:return e.getDate();case at.Hours:return e.getHours();case at.Minutes:return e.getMinutes();case at.Seconds:return e.getSeconds();case at.FractionalSeconds:return e.getMilliseconds();case at.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,l);if((t>0||m>-t)&&(m+=t),n===at.Hours)0===m&&-12===t&&(m=12);else if(n===at.FractionalSeconds)return function lr(n,e){return vr(n,3).substr(0,e)}(m,e);const v=Wt(d,ge.MinusSign);return vr(m,e,v,r,i)}}function Vt(n,e,t=ae.Format,r=!1){return function(i,l){return function Ye(n,e,t,r,i,l){switch(t){case wt.Months:return function He(n,e,t){const r=(0,u.cg1)(n),l=er([r[u.wAp.MonthsFormat],r[u.wAp.MonthsStandalone]],e);return er(l,t)}(e,i,r)[n.getMonth()];case wt.Days:return function on(n,e,t){const r=(0,u.cg1)(n),l=er([r[u.wAp.DaysFormat],r[u.wAp.DaysStandalone]],e);return er(l,t)}(e,i,r)[n.getDay()];case wt.DayPeriods:const d=n.getHours(),m=n.getMinutes();if(l){const D=function rs(n){const e=(0,u.cg1)(n);return ns(e),(e[u.wAp.ExtraData][2]||[]).map(r=>"string"==typeof r?Wn(r):[Wn(r[0]),Wn(r[1])])}(e),I=function ht(n,e,t){const r=(0,u.cg1)(n);ns(r);const l=er([r[u.wAp.ExtraData][0],r[u.wAp.ExtraData][1]],e)||[];return er(l,t)||[]}(e,i,r),M=D.findIndex(F=>{if(Array.isArray(F)){const[B,Z]=F,se=d>=B.hours&&m>=B.minutes,Ne=d<Z.hours||d===Z.hours&&m<Z.minutes;if(B.hours<Z.hours){if(se&&Ne)return!0}else if(se||Ne)return!0}else if(F.hours===d&&F.minutes===m)return!0;return!1});if(-1!==M)return I[M]}return function Yt(n,e,t){const r=(0,u.cg1)(n),l=er([r[u.wAp.DayPeriodsFormat],r[u.wAp.DayPeriodsStandalone]],e);return er(l,t)}(e,i,r)[d<12?0:1];case wt.Eras:return function $t(n,e){return er((0,u.cg1)(n)[u.wAp.Eras],e)}(e,r)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(i,l,n,e,t,r)}}function Ie(n){return function(e,t,r){const i=-1*r,l=Wt(t,ge.MinusSign),d=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case qt.Short:return(i>=0?"+":"")+vr(d,2,l)+vr(Math.abs(i%60),2,l);case qt.ShortGMT:return"GMT"+(i>=0?"+":"")+vr(d,1,l);case qt.Long:return"GMT"+(i>=0?"+":"")+vr(d,2,l)+":"+vr(Math.abs(i%60),2,l);case qt.Extended:return 0===r?"Z":(i>=0?"+":"")+vr(d,2,l)+":"+vr(Math.abs(i%60),2,l);default:throw new Error(`Unknown zone width "${n}"`)}}}function Ft(n){return ji(n.getFullYear(),n.getMonth(),n.getDate()+(4-n.getDay()))}function j(n,e=!1){return function(t,r){let i;if(e){const l=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,d=t.getDate();i=1+Math.floor((d+l)/7)}else{const l=Ft(t),d=function Bt(n){const e=ji(n,0,1).getDay();return ji(n,0,1+(e<=4?4:11)-e)}(l.getFullYear()),m=l.getTime()-d.getTime();i=1+Math.round(m/6048e5)}return vr(i,n,Wt(r,ge.MinusSign))}}function V(n,e=!1){return function(t,r){return vr(Ft(t).getFullYear(),n,Wt(r,ge.MinusSign),e)}}const $={};function Y(n,e){n=n.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function zt(n){return n instanceof Date&&!isNaN(n.valueOf())}class Ss{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Nn=(()=>{class n{constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,l,d)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new Ss(i.item,this._ngForOf,-1,-1),null===d?void 0:d);else if(null==d)r.remove(null===l?void 0:l);else if(null!==l){const m=r.get(l);r.move(m,d),ss(m,i)}});for(let i=0,l=r.length;i<l;i++){const m=r.get(i).context;m.index=i,m.count=l,m.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{ss(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.s_b),u.Y36(u.Rgc),u.Y36(u.ZZ4))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function ss(n,e){n.context.$implicit=e.item}let cr=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new ln,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Ja("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Ja("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.s_b),u.Y36(u.Rgc))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class ln{constructor(){this.$implicit=null,this.ngIf=null}}function Ja(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,u.AaK)(e)}'.`)}const op=new u.OlP("DATE_PIPE_DEFAULT_TIMEZONE");let ih=(()=>{class n{constructor(t,r){this.locale=t,this.defaultTimezone=r}transform(t,r="mediumDate",i,l){var d;if(null==t||""===t||t!=t)return null;try{return ar(t,r,l||this.locale,null!==(d=null!=i?i:this.defaultTimezone)&&void 0!==d?d:void 0)}catch(m){throw function Bn(n,e){return new u.vHH(2100,"")}()}}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.soG,16),u.Y36(op,24))},n.\u0275pipe=u.Yjl({name:"date",type:n,pure:!0}),n})(),zn=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();function dr(n){return"server"===n}let sl=(()=>{class n{}return n.\u0275prov=(0,u.Yz7)({token:n,providedIn:"root",factory:()=>new ol((0,u.LFG)(re),window)}),n})();class ol{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function fa(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const l=i.shadowRoot;if(l){const d=l.getElementById(e)||l.querySelector(`[name="${e}"]`);if(d)return d}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,l=this.offset();this.window.scrollTo(r-l[0],i-l[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=ls(this.window.history)||ls(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function ls(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Os extends class Po extends class pe{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function X(n){K||(K=n)}(new Os)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Ic(){return un=un||document.querySelector("base"),un?un.getAttribute("href"):null}();return null==t?null:function uo(n){lo=lo||document.createElement("a"),lo.setAttribute("href",n);const e=lo.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){un=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function xo(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,l]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(l)}return null}(document.cookie,e)}}let lo,un=null;const Dr=new u.OlP("TRANSITION_ID"),pa=[{provide:u.ip1,useFactory:function Pn(n,e,t){return()=>{t.get(u.CZH).donePromise.then(()=>{const r=k(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let l=0;l<i.length;l++)r.remove(i[l])})}},deps:[Dr,re,u.zs3],multi:!0}];class Di{static init(){(0,u.VLi)(new Di)}addToWindow(e){u.dqk.getAngularTestability=(r,i=!0)=>{const l=e.findTestabilityInTree(r,i);if(null==l)throw new Error("Could not find testability for element.");return l},u.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),u.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),u.dqk.frameworkStabilizers||(u.dqk.frameworkStabilizers=[]),u.dqk.frameworkStabilizers.push(r=>{const i=u.dqk.getAllAngularTestabilities();let l=i.length,d=!1;const m=function(v){d=d||v,l--,0==l&&r(d)};i.forEach(function(v){v.whenStable(m)})})}findTestabilityInTree(e,t,r){if(null==t)return null;const i=e.getTestability(t);return null!=i?i:r?k().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let Er=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const Rs=new u.OlP("EventManagerPlugins");let us=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let l=0;l<i.length;l++){const d=i[l];if(d.supports(t))return this._eventNameToPlugin.set(t,d),d}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Rs),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class al{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=k().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let $r=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),ks=(()=>{class n extends $r{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(l=>{const d=this._doc.createElement("style");d.textContent=l,i.push(r.appendChild(d))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(Ps),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(Ps))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(re))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function Ps(n){k().remove(n)}const gt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ll=/%COMP%/g;function De(n,e,t){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?De(n,i,t):(i=i.replace(ll,n),t.push(i))}return t}function Lt(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let En=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new Fo(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case u.ifc.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new hu(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case u.ifc.ShadowDom:return new fu(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=De(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(us),u.LFG(ks),u.LFG(u.AFp))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class Fo{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(gt[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,r){e&&e.insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const l=gt[i];l?e.setAttributeNS(l,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=gt[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(u.JOm.DashCase|u.JOm.Important)?e.style.setProperty(t,r,i&u.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&u.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Lt(r)):this.eventManager.addEventListener(e,t,Lt(r))}}class hu extends Fo{constructor(e,t,r,i){super(e),this.component=r;const l=De(i+"-"+r.id,r.styles,[]);t.addStyles(l),this.contentAttr=function uu(n){return"_ngcontent-%COMP%".replace(ll,n)}(i+"-"+r.id),this.hostAttr=function cu(n){return"_nghost-%COMP%".replace(ll,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class fu extends Fo{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=De(i.id,i.styles,[]);for(let d=0;d<l.length;d++){const m=document.createElement("style");m.textContent=l[d],this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let Sc=(()=>{class n extends al{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(re))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const pu=["alt","control","meta","shift"],Fs={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},hr={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},oi={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let fl=(()=>{class n extends al{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const l=n.parseEventName(r),d=n.eventCallback(l.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>k().onAndCancel(t,l.domEventName,d))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const l=n._normalizeKey(r.pop());let d="";if(pu.forEach(v=>{const D=r.indexOf(v);D>-1&&(r.splice(D,1),d+=v+".")}),d+=l,0!=r.length||0===l.length)return null;const m={};return m.domEventName=i,m.fullKey=d,m}static getEventFullKey(t){let r="",i=function Ls(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&hr.hasOwnProperty(e)&&(e=hr[e]))}return Fs[e]||e}(t);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),pu.forEach(l=>{l!=i&&oi[l](t)&&(r+=l+".")}),r+=i,r}static eventCallback(t,r,i){return l=>{n.getEventFullKey(l)===t&&i.runGuarded(()=>r(l))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(re))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const mu=(0,u.eFA)(u._c5,"browser",[{provide:u.Lbi,useValue:"browser"},{provide:u.g9A,useValue:function Ei(){Os.makeCurrent(),Di.init()},multi:!0},{provide:re,useFactory:function pl(){return(0,u.RDi)(document),document},deps:[]}]),ma=[{provide:u.zSh,useValue:"root"},{provide:u.qLn,useFactory:function gu(){return new u.qLn},deps:[]},{provide:Rs,useClass:Sc,multi:!0,deps:[re,u.R0b,u.Lbi]},{provide:Rs,useClass:fl,multi:!0,deps:[re]},{provide:En,useClass:En,deps:[us,ks,u.AFp]},{provide:u.FYo,useExisting:En},{provide:$r,useExisting:ks},{provide:ks,useClass:ks,deps:[re]},{provide:u.dDg,useClass:u.dDg,deps:[u.R0b]},{provide:us,useClass:us,deps:[Rs,u.R0b]},{provide:class yn{},useClass:Er,deps:[]}];let _a=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:u.AFp,useValue:t.appId},{provide:Dr,useExisting:u.AFp},pa]}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(n,12))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:ma,imports:[zn,u.hGG]}),n})();"undefined"!=typeof window&&window;const xn=void 0,Cu=["uk",[["\u0434\u043f","\u043f\u043f"],xn,xn],xn,[["\u041d","\u041f","\u0412","\u0421","\u0427","\u041f","\u0421"],["\u043d\u0434","\u043f\u043d","\u0432\u0442","\u0441\u0440","\u0447\u0442","\u043f\u0442","\u0441\u0431"],["\u043d\u0435\u0434\u0456\u043b\u044f","\u043f\u043e\u043d\u0435\u0434\u0456\u043b\u043e\u043a","\u0432\u0456\u0432\u0442\u043e\u0440\u043e\u043a","\u0441\u0435\u0440\u0435\u0434\u0430","\u0447\u0435\u0442\u0432\u0435\u0440","\u043f\u02bc\u044f\u0442\u043d\u0438\u0446\u044f","\u0441\u0443\u0431\u043e\u0442\u0430"],["\u043d\u0434","\u043f\u043d","\u0432\u0442","\u0441\u0440","\u0447\u0442","\u043f\u0442","\u0441\u0431"]],xn,[["\u0441","\u043b","\u0431","\u043a","\u0442","\u0447","\u043b","\u0441","\u0432","\u0436","\u043b","\u0433"],["\u0441\u0456\u0447.","\u043b\u044e\u0442.","\u0431\u0435\u0440.","\u043a\u0432\u0456\u0442.","\u0442\u0440\u0430\u0432.","\u0447\u0435\u0440\u0432.","\u043b\u0438\u043f.","\u0441\u0435\u0440\u043f.","\u0432\u0435\u0440.","\u0436\u043e\u0432\u0442.","\u043b\u0438\u0441\u0442.","\u0433\u0440\u0443\u0434."],["\u0441\u0456\u0447\u043d\u044f","\u043b\u044e\u0442\u043e\u0433\u043e","\u0431\u0435\u0440\u0435\u0437\u043d\u044f","\u043a\u0432\u0456\u0442\u043d\u044f","\u0442\u0440\u0430\u0432\u043d\u044f","\u0447\u0435\u0440\u0432\u043d\u044f","\u043b\u0438\u043f\u043d\u044f","\u0441\u0435\u0440\u043f\u043d\u044f","\u0432\u0435\u0440\u0435\u0441\u043d\u044f","\u0436\u043e\u0432\u0442\u043d\u044f","\u043b\u0438\u0441\u0442\u043e\u043f\u0430\u0434\u0430","\u0433\u0440\u0443\u0434\u043d\u044f"]],[["\u0421","\u041b","\u0411","\u041a","\u0422","\u0427","\u041b","\u0421","\u0412","\u0416","\u041b","\u0413"],["\u0441\u0456\u0447","\u043b\u044e\u0442","\u0431\u0435\u0440","\u043a\u0432\u0456","\u0442\u0440\u0430","\u0447\u0435\u0440","\u043b\u0438\u043f","\u0441\u0435\u0440","\u0432\u0435\u0440","\u0436\u043e\u0432","\u043b\u0438\u0441","\u0433\u0440\u0443"],["\u0441\u0456\u0447\u0435\u043d\u044c","\u043b\u044e\u0442\u0438\u0439","\u0431\u0435\u0440\u0435\u0437\u0435\u043d\u044c","\u043a\u0432\u0456\u0442\u0435\u043d\u044c","\u0442\u0440\u0430\u0432\u0435\u043d\u044c","\u0447\u0435\u0440\u0432\u0435\u043d\u044c","\u043b\u0438\u043f\u0435\u043d\u044c","\u0441\u0435\u0440\u043f\u0435\u043d\u044c","\u0432\u0435\u0440\u0435\u0441\u0435\u043d\u044c","\u0436\u043e\u0432\u0442\u0435\u043d\u044c","\u043b\u0438\u0441\u0442\u043e\u043f\u0430\u0434","\u0433\u0440\u0443\u0434\u0435\u043d\u044c"]],[["\u0434\u043e \u043d.\u0435.","\u043d.\u0435."],["\u0434\u043e \u043d. \u0435.","\u043d. \u0435."],["\u0434\u043e \u043d\u0430\u0448\u043e\u0457 \u0435\u0440\u0438","\u043d\u0430\u0448\u043e\u0457 \u0435\u0440\u0438"]],1,[6,0],["dd.MM.yy","d MMM y '\u0440'.","d MMMM y '\u0440'.","EEEE, d MMMM y '\u0440'."],["HH:mm","HH:mm:ss","HH:mm:ss z","HH:mm:ss zzzz"],["{1}, {0}",xn,"{1} '\u043e' {0}",xn],[",","\xa0",";","%","+","-","\u0415","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","#,##0.00\xa0\xa4","#E0"],"UAH","\u20b4","\u0443\u043a\u0440\u0430\u0457\u043d\u0441\u044c\u043a\u0430 \u0433\u0440\u0438\u0432\u043d\u044f",{AUD:[xn,"$"],BRL:[xn,"R$"],CAD:[xn,"$"],CNY:[xn,"\xa5"],EUR:[xn,"\u20ac"],GBP:[xn,"\xa3"],HKD:[xn,"$"],ILS:[xn,"\u20aa"],INR:[xn,"\u20b9"],KRW:[xn,"\u20a9"],MXN:[xn,"$"],NZD:[xn,"$"],PHP:[xn,"\u20b1"],TWD:[xn,"$"],UAH:["\u20b4"],UAK:["\u043a\u0440\u0431."],USD:[xn,"$"],VND:[xn,"\u20ab"],XCD:[xn,"$"]},"ltr",function Tr(n){const t=Math.floor(Math.abs(n)),r=n.toString().replace(/^[^.]*\.?/,"").length;return 0===r&&t%10==1&&t%100!=11?1:0===r&&t%10===Math.floor(t%10)&&t%10>=2&&t%10<=4&&!(t%100>=12&&t%100<=14)?3:0===r&&t%10==0||0===r&&t%10===Math.floor(t%10)&&t%10>=5&&t%10<=9||0===r&&t%100===Math.floor(t%100)&&t%100>=11&&t%100<=14?4:5}];var Cn=R(8306),Hi=R(515),ai=R(3269),hn=R(8996);function mt(...n){const e=(0,ai.yG)(n);return(0,hn.D)(n,e)}var Et=R(7579),$i=R(8421),fn=R(5577),_l=R(1144),rr=R(576),bt=R(4004);const{isArray:Pc}=Array;function Iu(n){return(0,bt.U)(e=>function Tu(n,e){return Pc(e)?n(...e):n(e)}(n,e))}const Bo=["addListener","removeListener"],Uo=["addEventListener","removeEventListener"],hs=["on","off"];function Fn(n,e,t,r){if((0,rr.m)(t)&&(r=t,t=void 0),r)return Fn(n,e,t).pipe(Iu(r));const[i,l]=function mo(n){return(0,rr.m)(n.addEventListener)&&(0,rr.m)(n.removeEventListener)}(n)?Uo.map(d=>m=>n[d](e,m,t)):function go(n){return(0,rr.m)(n.addListener)&&(0,rr.m)(n.removeListener)}(n)?Bo.map(qr(n,e)):function Su(n){return(0,rr.m)(n.on)&&(0,rr.m)(n.off)}(n)?hs.map(qr(n,e)):[];if(!i&&(0,_l.z)(n))return(0,fn.z)(d=>Fn(d,e,t))((0,$i.Xf)(n));if(!i)throw new TypeError("Invalid event target");return new Cn.y(d=>{const m=(...v)=>d.next(1<v.length?v:v[0]);return i(m),()=>l(m)})}function qr(n,e){return t=>r=>n[t](e,r)}var va=R(4986),ba=R(3532);const{isArray:cp}=Array;var rn=R(5403);function Fc(...n){return 1===(n=function yl(n){return 1===n.length&&cp(n[0])?n[0]:n}(n)).length?(0,$i.Xf)(n[0]):new Cn.y(function vl(n){return e=>{let t=[];for(let r=0;t&&!e.closed&&r<n.length;r++)t.push((0,$i.Xf)(n[r]).subscribe((0,rn.x)(e,i=>{if(t){for(let l=0;l<t.length;l++)l!==r&&t[l].unsubscribe();t=null}e.next(i)})))}}(n))}class jn extends Et.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const{isArray:Wi}=Array,{getPrototypeOf:Lc,prototype:jo,keys:bl}=Object;function fs(n){if(1===n.length){const e=n[0];if(Wi(e))return{args:e,keys:null};if(function Go(n){return n&&"object"==typeof n&&Lc(n)===jo}(e)){const t=bl(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var fr=R(4671);function Vc(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}var Au=R(9672);function uh(n,e,t){n?(0,Au.f)(t,n,e):e()}var bn=R(5032);new Cn.y(bn.Z);var Da=R(8189);function Dl(...n){return function dh(){return(0,Da.J)(1)}()((0,hn.D)(n,(0,ai.yG)(n)))}var Tn=R(4482);function Zn(n){return(0,Tn.e)((e,t)=>{(0,$i.Xf)(n).subscribe((0,rn.x)(t,()=>t.complete(),bn.Z)),!t.closed&&e.subscribe(t)})}function Ut(n,e){return(0,Tn.e)((t,r)=>{let i=0;t.subscribe((0,rn.x)(r,l=>n.call(e,l,i++)&&r.next(l)))})}var Kn=R(5698);function li(...n){const e=(0,ai.yG)(n);return(0,Tn.e)((t,r)=>{(e?Dl(n,t,e):Dl(n,t)).subscribe(r)})}function xu(n,e){return n===e}function nn(n,e){return(0,Tn.e)((t,r)=>{let i=null,l=0,d=!1;const m=()=>d&&!i&&r.complete();t.subscribe((0,rn.x)(r,v=>{null==i||i.unsubscribe();let D=0;const I=l++;(0,$i.Xf)(n(v,I)).subscribe(i=(0,rn.x)(r,M=>r.next(e?e(v,M,I,D++):M),()=>{i=null,m()}))},()=>{d=!0,m()}))})}var _n=R(8505);let Ru=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.Qsj),u.Y36(u.SBq))},n.\u0275dir=u.lG2({type:n}),n})(),ps=(()=>{class n extends Ru{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.n5z(n)))(r||n)}}(),n.\u0275dir=u.lG2({type:n,features:[u.qOj]}),n})();const wn=new u.OlP("NgValueAccessor"),jc={provide:wn,useExisting:(0,u.Gpc)(()=>Ca),multi:!0},Cl=new u.OlP("CompositionEventMode");let Ca=(()=>{class n extends Ru{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function vo(){const n=k()?k().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.Qsj),u.Y36(u.SBq),u.Y36(Cl,8))},n.\u0275dir=u.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&u.NdJ("input",function(l){return r._handleInput(l.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(l){return r._compositionEnd(l.target.value)})},features:[u._Bn([jc]),u.qOj]}),n})();function qi(n){return null==n||0===n.length}function zi(n){return null!=n&&"number"==typeof n.length}const pr=new u.OlP("NgValidators"),Yn=new u.OlP("NgAsyncValidators"),Gc=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class gr{static min(e){return function Tl(n){return e=>{if(qi(e.value)||qi(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function Gs(n){return e=>{if(qi(e.value)||qi(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function Ho(n){return qi(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function Il(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function C(n){return qi(n.value)||Gc.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function T(n){return e=>qi(e.value)||!zi(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function x(n){return e=>zi(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function L(n){if(!n)return q;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(qi(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return Tt(e)}static composeAsync(e){return On(e)}}function q(n){return null}function ee(n){return null!=n}function Me(n){const e=(0,u.QGY)(n)?(0,hn.D)(n):n;return(0,u.CqO)(e),e}function Je(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function st(n,e){return e.map(t=>t(n))}function Ht(n){return n.map(e=>function Ct(n){return!n.validate}(e)?e:t=>e.validate(t))}function Tt(n){if(!n)return null;const e=n.filter(ee);return 0==e.length?null:function(t){return Je(st(t,e))}}function Ln(n){return null!=n?Tt(Ht(n)):null}function On(n){if(!n)return null;const e=n.filter(ee);return 0==e.length?null:function(t){return function Bc(...n){const e=(0,ai.jO)(n),{args:t,keys:r}=fs(n),i=new Cn.y(l=>{const{length:d}=t;if(!d)return void l.complete();const m=new Array(d);let v=d,D=d;for(let I=0;I<d;I++){let M=!1;(0,$i.Xf)(t[I]).subscribe((0,rn.x)(l,F=>{M||(M=!0,D--),m[I]=F},()=>v--,void 0,()=>{(!v||!M)&&(D||l.next(r?Vc(r,m):m),l.complete())}))}});return e?i.pipe(Iu(e)):i}(st(t,e).map(Me)).pipe((0,bt.U)(Je))}}function Hs(n){return null!=n?On(Ht(n)):null}function Ta(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function Ii(n){return n._rawValidators}function ui(n){return n._rawAsyncValidators}function Zi(n){return n?Array.isArray(n)?n:[n]:[]}function Ki(n,e){return Array.isArray(n)?n.includes(e):n===e}function hh(n,e){const t=Zi(e);return Zi(n).forEach(i=>{Ki(t,i)||t.push(i)}),t}function fh(n,e){return Zi(e).filter(t=>!Ki(n,t))}class ku{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Ln(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Hs(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Si extends ku{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class kr extends ku{get formDirective(){return null}get path(){return null}}class hp{constructor(e){this._cd=e}is(e){var t,r,i;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(i=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===i?void 0:i[e])}}let Sa=(()=>{class n extends hp{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Si,2))},n.\u0275dir=u.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&u.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[u.qOj]}),n})(),ph=(()=>{class n extends hp{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(kr,10))},n.\u0275dir=u.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&u.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))("ng-submitted",r.is("submitted"))},features:[u.qOj]}),n})();function Lu(n,e){return[...e.path,n]}function Aa(n,e){vh(n,e),e.valueAccessor.writeValue(n.value),function jm(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&Al(n,e)})}(n,e),function mp(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function $s(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&Al(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function Um(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function Vu(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Sl(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Wc(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function vh(n,e){const t=Ii(n);null!==e.validator?n.setValidators(Ta(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=ui(n);null!==e.asyncValidator?n.setAsyncValidators(Ta(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();Wc(e._rawValidators,i),Wc(e._rawAsyncValidators,i)}function Sl(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=Ii(n);if(Array.isArray(i)&&i.length>0){const l=i.filter(d=>d!==e.validator);l.length!==i.length&&(t=!0,n.setValidators(l))}}if(null!==e.asyncValidator){const i=ui(n);if(Array.isArray(i)&&i.length>0){const l=i.filter(d=>d!==e.asyncValidator);l.length!==i.length&&(t=!0,n.setAsyncValidators(l))}}}const r=()=>{};return Wc(e._rawValidators,r),Wc(e._rawAsyncValidators,r),t}function Al(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Gm(n,e){vh(n,e)}function bh(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}function qm(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function bo(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(l=>{l.constructor===Ca?t=l:function Wm(n){return Object.getPrototypeOf(n.constructor)===ps}(l)?r=l:i=l}),i||r||t||null}function vp(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const Nl="VALID",zr="INVALID",Ws="PENDING",Ml="DISABLED";function zc(n){return(xl(n)?n.validators:n)||null}function zm(n){return Array.isArray(n)?Ln(n):n||null}function Zc(n,e){return(xl(e)?e.asyncValidators:n)||null}function Zm(n){return Array.isArray(n)?Hs(n):n||null}function xl(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const Bu=n=>n instanceof Rl,Ol=n=>n instanceof kl,Km=n=>n instanceof Dh;function bp(n){return Bu(n)?n.value:n.getRawValue()}function Uu(n,e){const t=Ol(n),r=n.controls;if(!(t?Object.keys(r):r).length)throw new u.vHH(1e3,"");if(!r[e])throw new u.vHH(1001,"")}function wp(n,e){Ol(n),n._forEachChild((r,i)=>{if(void 0===e[i])throw new u.vHH(1002,"")})}class wh{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=zm(this._rawValidators),this._composedAsyncValidatorFn=Zm(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Nl}get invalid(){return this.status===zr}get pending(){return this.status==Ws}get disabled(){return this.status===Ml}get enabled(){return this.status!==Ml}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=zm(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=Zm(e)}addValidators(e){this.setValidators(hh(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(hh(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(fh(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(fh(e,this._rawAsyncValidators))}hasValidator(e){return Ki(this._rawValidators,e)}hasAsyncValidator(e){return Ki(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Ws,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Ml,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Nl,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Nl||this.status===Ws)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ml:Nl}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Ws,this._hasOwnPendingAsyncValidator=!0;const t=Me(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function qc(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(t)),Array.isArray(e)&&0===e.length))return null;let r=n;return e.forEach(i=>{r=Ol(r)?r.controls.hasOwnProperty(i)?r.controls[i]:null:Km(r)&&r.at(i)||null}),r}(this,e,".")}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new u.vpe,this.statusChanges=new u.vpe}_calculateStatus(){return this._allControlsDisabled()?Ml:this.errors?zr:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ws)?Ws:this._anyControlsHaveStatus(zr)?zr:Nl}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){xl(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Rl extends wh{constructor(e=null,t,r){super(zc(t),Zc(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),xl(t)&&t.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){vp(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){vp(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class kl extends wh{constructor(e,t,r){super(zc(t),Zc(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){wp(this,e),Object.keys(e).forEach(r=>{Uu(this,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=bp(t),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const r=this.controls[t];if(this.contains(t)&&e(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,r)=>((t.enabled||this.disabled)&&(e[r]=t.value),e))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,l)=>{r=t(r,i,l)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class Dh extends wh{constructor(e,t,r){super(zc(t),Zc(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){wp(this,e),e.forEach((r,i)=>{Uu(this,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>bp(e))}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const Kc={provide:kr,useExisting:(0,u.Gpc)(()=>Pl)},Wo=(()=>Promise.resolve(null))();let Pl=(()=>{class n extends kr{constructor(t,r){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new u.vpe,this.form=new kl({},Ln(t),Hs(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Wo.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),Aa(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Wo.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Wo.then(()=>{const r=this._findContainer(t.path),i=new kl({});Gm(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Wo.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){Wo.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,qm(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(pr,10),u.Y36(Yn,10))},n.\u0275dir=u.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,r){1&t&&u.NdJ("submit",function(l){return r.onSubmit(l)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[u._Bn([Kc]),u.qOj]}),n})(),Dp=(()=>{class n extends kr{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return Lu(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.n5z(n)))(r||n)}}(),n.\u0275dir=u.lG2({type:n,features:[u.qOj]}),n})();const Yc={provide:Si,useExisting:(0,u.Gpc)(()=>Jc)},Ip=(()=>Promise.resolve(null))();let Jc=(()=>{class n extends Si{constructor(t,r,i,l,d){super(),this._changeDetectorRef=d,this.control=new Rl,this._registered=!1,this.update=new u.vpe,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=bo(0,l)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),bh(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Aa(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){Ip.then(()=>{var r;this.control.setValue(t,{emitViewToModelChange:!1}),null===(r=this._changeDetectorRef)||void 0===r||r.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=""===r||r&&"false"!==r;Ip.then(()=>{var l;i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),null===(l=this._changeDetectorRef)||void 0===l||l.markForCheck()})}_getPath(t){return this._parent?Lu(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(kr,9),u.Y36(pr,10),u.Y36(Yn,10),u.Y36(wn,10),u.Y36(u.sBO,8))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[u._Bn([Yc]),u.qOj,u.TTD]}),n})(),Eh=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),Fl=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();const Gu=new u.OlP("NgModelWithFormControlWarning"),Ch={provide:kr,useExisting:(0,u.Gpc)(()=>ed)};let ed=(()=>{class n extends kr{constructor(t,r){super(),this.validators=t,this.asyncValidators=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new u.vpe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Sl(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return Aa(r,t),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){Vu(t.control||null,t,!1),vp(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,qm(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(Vu(r||null,t),Bu(i)&&(Aa(i,t),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);Gm(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function _p(n,e){return Sl(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){vh(this.form,this),this._oldForm&&Sl(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(pr,10),u.Y36(Yn,10))},n.\u0275dir=u.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&u.NdJ("submit",function(l){return r.onSubmit(l)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[u._Bn([Ch]),u.qOj,u.TTD]}),n})();const td={provide:kr,useExisting:(0,u.Gpc)(()=>Hu)};let Hu=(()=>{class n extends Dp{constructor(t,r,i){super(),this._parent=t,this._setValidators(r),this._setAsyncValidators(i)}_checkParentType(){Ap(this._parent)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(kr,13),u.Y36(pr,10),u.Y36(Yn,10))},n.\u0275dir=u.lG2({type:n,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[u._Bn([td]),u.qOj]}),n})();const Sp={provide:kr,useExisting:(0,u.Gpc)(()=>$u)};let $u=(()=>{class n extends kr{constructor(t,r,i){super(),this._parent=t,this._setValidators(r),this._setAsyncValidators(i)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return Lu(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){Ap(this._parent)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(kr,13),u.Y36(pr,10),u.Y36(Yn,10))},n.\u0275dir=u.lG2({type:n,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[u._Bn([Sp]),u.qOj]}),n})();function Ap(n){return!(n instanceof Hu||n instanceof ed||n instanceof $u)}const qs={provide:Si,useExisting:(0,u.Gpc)(()=>nd)};let nd=(()=>{class n extends Si{constructor(t,r,i,l,d){super(),this._ngModelWarningConfig=d,this._added=!1,this.update=new u.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=bo(0,l)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),bh(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return Lu(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(u.Y36(kr,13),u.Y36(pr,10),u.Y36(Yn,10),u.Y36(wn,10),u.Y36(Gu,8))},n.\u0275dir=u.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[u._Bn([qs]),u.qOj,u.TTD]}),n})();const Qm={provide:wn,useExisting:(0,u.Gpc)(()=>Wu),multi:!0};function rd(n,e){return null==n?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let Wu=(()=>{class n extends ps{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const i=rd(this._getOptionId(t),t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){const r=function Xm(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r):t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.n5z(n)))(r||n)}}(),n.\u0275dir=u.lG2({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,r){1&t&&u.NdJ("change",function(l){return r.onChange(l.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[u._Bn([Qm]),u.qOj]}),n})(),mr=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(rd(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(u.Qsj),u.Y36(Wu,9))},n.\u0275dir=u.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const Th={provide:wn,useExisting:(0,u.Gpc)(()=>Na),multi:!0};function id(n,e){return null==n?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let Na=(()=>{class n extends ps{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let r;if(this.value=t,Array.isArray(t)){const i=t.map(l=>this._getOptionId(l));r=(l,d)=>{l._setSelected(i.indexOf(d.toString())>-1)}}else r=(i,l)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{const i=[],l=r.selectedOptions;if(void 0!==l){const d=l;for(let m=0;m<d.length;m++){const D=this._getOptionValue(d[m].value);i.push(D)}}else{const d=r.options;for(let m=0;m<d.length;m++){const v=d[m];if(v.selected){const D=this._getOptionValue(v.value);i.push(D)}}}this.value=i,t(i)}}_registerOption(t){const r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){const r=function e_(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.n5z(n)))(r||n)}}(),n.\u0275dir=u.lG2({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,r){1&t&&u.NdJ("change",function(l){return r.onChange(l.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[u._Bn([Th]),u.qOj]}),n})(),sd=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(id(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(id(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(u.Qsj),u.Y36(Na,9))},n.\u0275dir=u.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})(),Vl=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[Fl]]}),n})(),ld=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[Vl]}),n})(),Mp=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Gu,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[Vl]}),n})(),ud=(()=>{class n{group(t,r=null){const i=this._reduceControls(t);let m,l=null,d=null;return null!=r&&(function Zo(n){return void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn}(r)?(l=null!=r.validators?r.validators:null,d=null!=r.asyncValidators?r.asyncValidators:null,m=null!=r.updateOn?r.updateOn:void 0):(l=null!=r.validator?r.validator:null,d=null!=r.asyncValidator?r.asyncValidator:null)),new kl(i,{asyncValidators:d,updateOn:m,validators:l})}control(t,r,i){return new Rl(t,r,i)}array(t,r,i){const l=t.map(d=>this._createControl(d));return new Dh(l,r,i)}_reduceControls(t){const r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){return Bu(t)||Ol(t)||Km(t)?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:Mp}),n})();Math,Math,Math;const ub={animation:!0,transitionTimerDelayMs:5},iM=()=>{},{transitionTimerDelayMs:sM}=ub,Yu=new Map,ci=(n,e,t,r)=>{let i=r.context||{};const l=Yu.get(e);if(l)switch(r.runningTransition){case"continue":return Hi.E;case"stop":n.run(()=>l.transition$.complete()),i=Object.assign(l.context,i),Yu.delete(e)}const d=t(e,r.animation,i)||iM;if(!r.animation||"none"===window.getComputedStyle(e).transitionProperty)return n.run(()=>d()),mt(void 0).pipe(function rM(n){return e=>new Cn.y(t=>e.subscribe({next:d=>n.run(()=>t.next(d)),error:d=>n.run(()=>t.error(d)),complete:()=>n.run(()=>t.complete())}))}(n));const m=new Et.x,v=new Et.x,D=m.pipe(function dp(...n){return e=>Dl(e,mt(...n))}(!0));Yu.set(e,{transition$:m,complete:()=>{v.next(),v.complete()},context:i});const I=function tC(n){const{transitionDelay:e,transitionDuration:t}=window.getComputedStyle(n);return 1e3*(parseFloat(e)+parseFloat(t))}(e);return n.runOutsideAngular(()=>{const M=Fn(e,"transitionend").pipe(Zn(D),Ut(({target:B})=>B===e));Fc(function wa(n=0,e,t=va.P){let r=-1;return null!=e&&((0,ba.K)(e)?t=e:r=e),new Cn.y(i=>{let l=function _o(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;l<0&&(l=0);let d=0;return t.schedule(function(){i.closed||(i.next(d++),0<=r?this.schedule(void 0,r):i.complete())},l)})}(I+sM).pipe(Zn(D)),M,v).pipe(Zn(D)).subscribe(()=>{Yu.delete(e),n.run(()=>{d(),m.next(),m.complete()})})}),m.asObservable()},hb=(n,e,t)=>{let{direction:r,maxHeight:i}=t;const{classList:l}=n;function d(){l.add("collapse"),"show"===r?l.add("show"):l.remove("show")}if(e)return i||(i=function db(n){if("undefined"==typeof navigator)return"0px";const{classList:e}=n,t=e.contains("show");t||e.add("show"),n.style.height="";const r=n.getBoundingClientRect().height+"px";return t||e.remove("show"),r}(n),t.maxHeight=i,n.style.height="show"!==r?i:"0px",l.remove("collapse"),l.remove("collapsing"),l.remove("show"),function Ku(n){return(n||document.body).getBoundingClientRect()}(n),l.add("collapsing")),n.style.height="show"===r?i:"0px",()=>{d(),l.remove("collapsing"),n.style.height=""};d()};let Mi=(()=>{class n{constructor(){this.animation=ub.animation}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),wd=(()=>{class n{constructor(t){this._ngbConfig=t}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Mi))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Dd=(()=>{class n{constructor(t,r,i){this._element=t,this._zone=i,this.collapsed=!1,this.ngbCollapseChange=new u.vpe,this.shown=new u.vpe,this.hidden=new u.vpe,this.animation=r.animation}ngOnInit(){this._runTransition(this.collapsed,!1)}ngOnChanges({collapsed:t}){t.firstChange||this._runTransitionWithEvents(this.collapsed,this.animation)}toggle(t=this.collapsed){this.collapsed=!t,this.ngbCollapseChange.next(this.collapsed),this._runTransitionWithEvents(this.collapsed,this.animation)}_runTransition(t,r){return ci(this._zone,this._element.nativeElement,hb,{animation:r,runningTransition:"stop",context:{direction:t?"hide":"show"}})}_runTransitionWithEvents(t,r){this._runTransition(t,r).subscribe(()=>{t?this.hidden.emit():this.shown.emit()})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(wd),u.Y36(u.R0b))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngbCollapse",""]],inputs:{animation:"animation",collapsed:["ngbCollapse","collapsed"]},outputs:{ngbCollapseChange:"ngbCollapseChange",shown:"shown",hidden:"hidden"},exportAs:["ngbCollapse"],features:[u.TTD]}),n})(),Xu=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();function Kh(n,e){const t=(0,rr.m)(n)?n:()=>n,r=i=>i.error(t());return new Cn.y(e?i=>e.schedule(r,0,i):r)}"undefined"!=typeof navigator&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent)),["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", "),new Date(1882,10,12),new Date(2174,10,25),new u.OlP("live announcer delay",{providedIn:"root",factory:function mT(){return 100}});const Yh=(0,R(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function cw(n){return new Cn.y(e=>{(0,$i.Xf)(n()).subscribe(e)})}var dw=R(727);function bT(){return(0,Tn.e)((n,e)=>{let t=null;n._refCount++;const r=(0,rn.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,l=t;t=null,i&&(!l||i===l)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class ZM extends Cn.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,Tn.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new dw.w0;const t=this.getSubject();e.add(this.source.subscribe((0,rn.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=dw.w0.EMPTY)}return e}refCount(){return bT()(this)}}function KM(n,e,t,r,i){return(l,d)=>{let m=t,v=e,D=0;l.subscribe((0,rn.x)(d,I=>{const M=D++;v=m?n(v,I,M):(m=!0,I),r&&d.next(v)},i&&(()=>{m&&d.next(v),d.complete()})))}}function mg(n,e){return(0,Tn.e)(KM(n,e,arguments.length>=2,!0))}function Pa(n){return(0,Tn.e)((e,t)=>{let l,r=null,i=!1;r=e.subscribe((0,rn.x)(t,void 0,void 0,d=>{l=(0,$i.Xf)(n(d,Pa(n)(e))),r?(r.unsubscribe(),r=null,l.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,l.subscribe(t))})}function Zl(n,e){return(0,rr.m)(e)?(0,fn.z)(n,e,1):(0,fn.z)(n,1)}function oy(n){return n<=0?()=>Hi.E:(0,Tn.e)((e,t)=>{let r=[];e.subscribe((0,rn.x)(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function hw(n=fw){return(0,Tn.e)((e,t)=>{let r=!1;e.subscribe((0,rn.x)(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function fw(){return new Yh}function Ad(n){return(0,Tn.e)((e,t)=>{let r=!1;e.subscribe((0,rn.x)(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function sc(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Ut((i,l)=>n(i,l,r)):fr.y,(0,Kn.q)(1),t?Ad(e):hw(()=>new Yh))}class Fa{constructor(e,t){this.id=e,this.url=t}}class ay extends Fa{constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Nd extends Fa{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class pw extends Fa{constructor(e,t,r){super(e,t),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ET extends Fa{constructor(e,t,r){super(e,t),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Md extends Fa{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class CT extends Fa{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class gw extends Fa{constructor(e,t,r,i,l){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=l}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class TT extends Fa{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class mw extends Fa{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class _w{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class ly{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class IT{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class uy{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ST{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class yw{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class cy{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Zt="primary";class AT{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function xd(n){return new AT(n)}const _g="ngNavigationCancelingError";function dy(n){const e=Error("NavigationCancelingError: "+n);return e[_g]=!0,e}function NT(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let l=0;l<r.length;l++){const d=r[l],m=n[l];if(d.startsWith(":"))i[d.substring(1)]=m;else if(d!==m.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function ta(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let l=0;l<t.length;l++)if(i=t[l],!bw(n[i],e[i]))return!1;return!0}function bw(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,l)=>r[l]===i)}return n===e}function ww(n){return Array.prototype.concat.apply([],n)}function Dw(n){return n.length>0?n[n.length-1]:null}function Kr(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Eo(n){return(0,u.CqO)(n)?n:(0,u.QGY)(n)?(0,hn.D)(Promise.resolve(n)):mt(n)}const Cw={exact:function Sw(n,e,t){if(!oc(n.segments,e.segments)||!Jh(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!Sw(n.children[r],e.children[r],t))return!1;return!0},subset:vg},Tw={exact:function Iw(n,e){return ta(n,e)},subset:function xT(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>bw(n[t],e[t]))},ignored:()=>!0};function yg(n,e,t){return Cw[t.paths](n.root,e.root,t.matrixParams)&&Tw[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function vg(n,e,t){return bg(n,e,e.segments,t)}function bg(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!oc(i,t)||e.hasChildren()||!Jh(i,t,r))}if(n.segments.length===t.length){if(!oc(n.segments,t)||!Jh(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!vg(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),l=t.slice(n.segments.length);return!!(oc(n.segments,i)&&Jh(n.segments,i,r)&&n.children[Zt])&&bg(n.children[Zt],e,l,r)}}function Jh(n,e,t){return e.every((r,i)=>Tw[t](n[i].parameters,r.parameters))}class La{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=xd(this.queryParams)),this._queryParamMap}toString(){return OT.serialize(this)}}class Xt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Kr(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Xh(this)}}class Qh{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=xd(this.parameters)),this._parameterMap}toString(){return kT(this)}}function oc(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}class Nw{}class fy{parse(e){const t=new Eg(e);return new La(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${wg(e.root,!0)}`,r=function PT(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${ac(t)}=${ac(i)}`).join("&"):`${ac(t)}=${ac(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function RT(n){return encodeURI(n)}(e.fragment)}`:""}`}}const OT=new fy;function Xh(n){return n.segments.map(e=>kT(e)).join("/")}function wg(n,e){if(!n.hasChildren())return Xh(n);if(e){const t=n.children[Zt]?wg(n.children[Zt],!1):"",r=[];return Kr(n.children,(i,l)=>{l!==Zt&&r.push(`${l}:${wg(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function Aw(n,e){let t=[];return Kr(n.children,(r,i)=>{i===Zt&&(t=t.concat(e(r,i)))}),Kr(n.children,(r,i)=>{i!==Zt&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===Zt?[wg(n.children[Zt],!1)]:[`${i}:${wg(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Zt]?`${Xh(n)}/${t[0]}`:`${Xh(n)}/(${t.join("//")})`}}function Mw(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ac(n){return Mw(n).replace(/%3B/gi,";")}function Kl(n){return Mw(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Yl(n){return decodeURIComponent(n)}function xw(n){return Yl(n.replace(/\+/g,"%20"))}function kT(n){return`${Kl(n.path)}${function Ow(n){return Object.keys(n).map(e=>`;${Kl(e)}=${Kl(n[e])}`).join("")}(n.parameters)}`}const FT=/^[^\/()?;=#]+/;function Dg(n){const e=n.match(FT);return e?e[0]:""}const LT=/^[^=?&#]+/,kw=/^[^&#]+/;class Eg{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Xt([],{}):new Xt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Zt]=new Xt(e,t)),r}parseSegment(){const e=Dg(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new Qh(Yl(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Dg(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=Dg(this.remaining);i&&(r=i,this.capture(r))}e[Yl(t)]=Yl(r)}parseQueryParam(e){const t=function Rw(n){const e=n.match(LT);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const d=function py(n){const e=n.match(kw);return e?e[0]:""}(this.remaining);d&&(r=d,this.capture(r))}const i=xw(t),l=xw(r);if(e.hasOwnProperty(i)){let d=e[i];Array.isArray(d)||(d=[d],e[i]=d),d.push(l)}else e[i]=l}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Dg(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let l;r.indexOf(":")>-1?(l=r.substr(0,r.indexOf(":")),this.capture(l),this.capture(":")):e&&(l=Zt);const d=this.parseChildren();t[l]=1===Object.keys(d).length?d[Zt]:new Xt([],d),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class Od{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=gy(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=gy(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Cg(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Cg(e,this._root).map(t=>t.value)}}function gy(n,e){if(n===e.value)return e;for(const t of e.children){const r=gy(n,t);if(r)return r}return null}function Cg(n,e){if(n===e.value)return[e];for(const t of e.children){const r=Cg(n,t);if(r.length)return r.unshift(e),r}return[]}class na{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Rd(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class Pw extends Od{constructor(e,t){super(e),this.snapshot=t,Jl(this,e)}toString(){return this.snapshot.toString()}}function Tg(n,e){const t=function VT(n,e){const d=new Va([],{},{},"",{},Zt,e,null,n.root,-1,{});return new my("",new na(d,[]))}(n,e),r=new jn([new Qh("",{})]),i=new jn({}),l=new jn({}),d=new jn({}),m=new jn(""),v=new ef(r,i,d,m,l,Zt,e,t.root);return v.snapshot=t.root,new Pw(new na(v,[]),t)}class ef{constructor(e,t,r,i,l,d,m,v){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=l,this.outlet=d,this.component=m,this._futureSnapshot=v}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,bt.U)(e=>xd(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,bt.U)(e=>xd(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Fw(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],l=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(l.component)break;r--}}return function BT(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Va{constructor(e,t,r,i,l,d,m,v,D,I,M){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=l,this.outlet=d,this.component=m,this.routeConfig=v,this._urlSegment=D,this._lastPathIndex=I,this._resolve=M}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=xd(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=xd(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class my extends Od{constructor(e,t){super(t),this.url=e,Jl(this,t)}toString(){return UT(this._root)}}function Jl(n,e){e.value._routerState=n,e.children.forEach(t=>Jl(n,t))}function UT(n){const e=n.children.length>0?` { ${n.children.map(UT).join(", ")} } `:"";return`${n.value}${e}`}function Ig(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,ta(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),ta(e.params,t.params)||n.params.next(t.params),function MT(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!ta(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),ta(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function _y(n,e){const t=ta(n.params,e.params)&&function hy(n,e){return oc(n,e)&&n.every((t,r)=>ta(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||_y(n.parent,e.parent))}function kd(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function QM(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return kd(n,r,i);return kd(n,r)})}(n,e,t);return new na(r,i)}{if(n.shouldAttach(e.value)){const l=n.retrieve(e.value);if(null!==l){const d=l.route;return d.value._futureSnapshot=e.value,d.children=e.children.map(m=>kd(n,m)),d}}const r=function Lw(n){return new ef(new jn(n.url),new jn(n.params),new jn(n.queryParams),new jn(n.fragment),new jn(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(l=>kd(n,l));return new na(r,i)}}function tf(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Pd(n){return"object"==typeof n&&null!=n&&n.outlets}function Sg(n,e,t,r,i){let l={};if(r&&Kr(r,(m,v)=>{l[v]=Array.isArray(m)?m.map(D=>`${D}`):`${m}`}),n===e)return new La(t,l,i);const d=vy(n,e,t);return new La(d,l,i)}function vy(n,e,t){const r={};return Kr(n.children,(i,l)=>{r[l]=i===e?t:vy(i,e,t)}),new Xt(n.segments,r)}class Vw{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&tf(r[0]))throw new Error("Root segment cannot have matrix parameters");const i=r.find(Pd);if(i&&i!==Dw(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class by{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function Fd(n,e,t){if(n||(n=new Xt([],{})),0===n.segments.length&&n.hasChildren())return nf(n,e,t);const r=function Bw(n,e,t){let r=0,i=e;const l={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return l;const d=n.segments[i],m=t[r];if(Pd(m))break;const v=`${m}`,D=r<t.length-1?t[r+1]:null;if(i>0&&void 0===v)break;if(v&&D&&"object"==typeof D&&void 0===D.outlets){if(!Dy(v,D,d))return l;r+=2}else{if(!Dy(v,{},d))return l;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const l=new Xt(n.segments.slice(0,r.pathIndex),{});return l.children[Zt]=new Xt(n.segments.slice(r.pathIndex),n.children),nf(l,0,i)}return r.match&&0===i.length?new Xt(n.segments,{}):r.match&&!n.hasChildren()?Ag(n,e,t):r.match?nf(n,0,i):Ag(n,e,t)}function nf(n,e,t){if(0===t.length)return new Xt(n.segments,{});{const r=function $T(n){return Pd(n[0])?n[0].outlets:{[Zt]:n}}(t),i={};return Kr(r,(l,d)=>{"string"==typeof l&&(l=[l]),null!==l&&(i[d]=Fd(n.children[d],e,l))}),Kr(n.children,(l,d)=>{void 0===r[d]&&(i[d]=l)}),new Xt(n.segments,i)}}function Ag(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const l=t[i];if(Pd(l)){const v=Uw(l.outlets);return new Xt(r,v)}if(0===i&&tf(t[0])){r.push(new Qh(n.segments[e].path,wy(t[0]))),i++;continue}const d=Pd(l)?l.outlets[Zt]:`${l}`,m=i<t.length-1?t[i+1]:null;d&&m&&tf(m)?(r.push(new Qh(d,wy(m))),i+=2):(r.push(new Qh(d,{})),i++)}return new Xt(r,{})}function Uw(n){const e={};return Kr(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=Ag(new Xt([],{}),0,t))}),e}function wy(n){const e={};return Kr(n,(t,r)=>e[r]=`${t}`),e}function Dy(n,e,t){return n==t.path&&ta(e,t.parameters)}class jw{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Ig(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=Rd(t);e.children.forEach(l=>{const d=l.value.outlet;this.deactivateRoutes(l,i[d],r),delete i[d]}),Kr(i,(l,d)=>{this.deactivateRouteAndItsChildren(l,r)})}deactivateRoutes(e,t,r){const i=e.value,l=t?t.value:null;if(i===l)if(i.component){const d=r.getContext(i.outlet);d&&this.deactivateChildRoutes(e,t,d.children)}else this.deactivateChildRoutes(e,t,r);else l&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,l=Rd(e);for(const d of Object.keys(l))this.deactivateRouteAndItsChildren(l[d],i);if(r&&r.outlet){const d=r.outlet.detach(),m=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:d,route:e,contexts:m})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,l=Rd(e);for(const d of Object.keys(l))this.deactivateRouteAndItsChildren(l[d],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=Rd(t);e.children.forEach(l=>{this.activateRoutes(l,i[l.value.outlet],r),this.forwardEvent(new yw(l.value.snapshot))}),e.children.length&&this.forwardEvent(new uy(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,l=t?t.value:null;if(Ig(i),i===l)if(i.component){const d=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,d.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const d=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const m=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),d.children.onOutletReAttached(m.contexts),d.attachRef=m.componentRef,d.route=m.route.value,d.outlet&&d.outlet.attach(m.componentRef,m.route.value),Ig(m.route.value),this.activateChildRoutes(e,null,d.children)}else{const m=function Gw(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(i.snapshot),v=m?m.module.componentFactoryResolver:null;d.attachRef=null,d.route=i,d.resolver=v,d.outlet&&d.outlet.activateWith(i,v),this.activateChildRoutes(e,null,d.children)}}else this.activateChildRoutes(e,null,r)}}class Ey{constructor(e,t){this.routes=e,this.module=t}}function Ql(n){return"function"==typeof n}function Co(n){return n instanceof La}const lc=Symbol("INITIAL_VALUE");function Ba(){return nn(n=>function Us(...n){const e=(0,ai.yG)(n),t=(0,ai.jO)(n),{args:r,keys:i}=fs(n);if(0===r.length)return(0,hn.D)([],e);const l=new Cn.y(function wl(n,e,t=fr.y){return r=>{uh(e,()=>{const{length:i}=n,l=new Array(i);let d=i,m=i;for(let v=0;v<i;v++)uh(e,()=>{const D=(0,hn.D)(n[v],e);let I=!1;D.subscribe((0,rn.x)(r,M=>{l[v]=M,I||(I=!0,m--),m||r.next(t(l.slice()))},()=>{--d||r.complete()}))},r)},r)}}(r,e,i?d=>Vc(i,d):fr.y));return t?l.pipe(Iu(t)):l}(n.map(e=>e.pipe((0,Kn.q)(1),li(lc)))).pipe(mg((e,t)=>{let r=!1;return t.reduce((i,l,d)=>i!==lc?i:(l===lc&&(r=!0),r||!1!==l&&d!==t.length-1&&!Co(l)?i:l),e)},lc),Ut(e=>e!==lc),(0,bt.U)(e=>Co(e)?e:!0===e),(0,Kn.q)(1)))}class KT{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new rf,this.attachRef=null}}class rf{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const r=this.getOrCreateContext(e);r.outlet=t,this.contexts.set(e,r)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new KT,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let Ty=(()=>{class n{constructor(t,r,i,l,d){this.parentContexts=t,this.location=r,this.resolver=i,this.changeDetector=d,this.activated=null,this._activatedRoute=null,this.activateEvents=new u.vpe,this.deactivateEvents=new u.vpe,this.attachEvents=new u.vpe,this.detachEvents=new u.vpe,this.name=l||Zt,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const d=(r=r||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),m=this.parentContexts.getOrCreateContext(this.name).children,v=new Ng(t,m,this.location.injector);this.activated=this.location.createComponent(d,this.location.length,v),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(rf),u.Y36(u.s_b),u.Y36(u._Vd),u.$8M("name"),u.Y36(u.sBO))},n.\u0275dir=u.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class Ng{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===ef?this.route:e===rf?this.childContexts:this.parent.get(e,t)}}let sf=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&u._UZ(0,"router-outlet")},directives:[Ty],encapsulation:2}),n})();function Hw(n,e=""){for(let t=0;t<n.length;t++){const r=n[t];YT(r,$w(e,r))}}function YT(n,e){n.children&&Hw(n.children,e)}function $w(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function Mg(n){const e=n.children&&n.children.map(Mg),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Zt&&(t.component=sf),t}function Qi(n){return n.outlet||Zt}function Iy(n,e){const t=n.filter(r=>Qi(r)===e);return t.push(...n.filter(r=>Qi(r)!==e)),t}const Ww={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function xg(n,e,t){var r;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},Ww):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const l=(e.matcher||NT)(t,n,e);if(!l)return Object.assign({},Ww);const d={};Kr(l.posParams,(v,D)=>{d[D]=v.path});const m=l.consumed.length>0?Object.assign(Object.assign({},d),l.consumed[l.consumed.length-1].parameters):d;return{matched:!0,consumedSegments:l.consumed,remainingSegments:t.slice(l.consumed.length),parameters:m,positionalParamSegments:null!==(r=l.posParams)&&void 0!==r?r:{}}}function Sy(n,e,t,r,i="corrected"){if(t.length>0&&function qw(n,e,t){return t.some(r=>Ld(n,e,r)&&Qi(r)!==Zt)}(n,t,r)){const d=new Xt(e,function Ny(n,e,t,r){const i={};i[Zt]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const l of t)if(""===l.path&&Qi(l)!==Zt){const d=new Xt([],{});d._sourceSegment=n,d._segmentIndexShift=e.length,i[Qi(l)]=d}return i}(n,e,r,new Xt(t,n.children)));return d._sourceSegment=n,d._segmentIndexShift=e.length,{segmentGroup:d,slicedSegments:[]}}if(0===t.length&&function My(n,e,t){return t.some(r=>Ld(n,e,r))}(n,t,r)){const d=new Xt(n.segments,function Ay(n,e,t,r,i,l){const d={};for(const m of r)if(Ld(n,t,m)&&!i[Qi(m)]){const v=new Xt([],{});v._sourceSegment=n,v._segmentIndexShift="legacy"===l?n.segments.length:e.length,d[Qi(m)]=v}return Object.assign(Object.assign({},i),d)}(n,e,t,r,n.children,i));return d._sourceSegment=n,d._segmentIndexShift=e.length,{segmentGroup:d,slicedSegments:t}}const l=new Xt(n.segments,n.children);return l._sourceSegment=n,l._segmentIndexShift=e.length,{segmentGroup:l,slicedSegments:t}}function Ld(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function zw(n,e,t,r){return!!(Qi(n)===r||r!==Zt&&Ld(e,t,n))&&("**"===n.path||xg(e,n,t).matched)}function Zw(n,e,t){return 0===e.length&&!n.children[t]}class Og{constructor(e){this.segmentGroup=e||null}}class Kw{constructor(e){this.urlTree=e}}function Vd(n){return Kh(new Og(n))}function Rg(n){return Kh(new Kw(n))}class Xw{constructor(e,t,r,i,l){this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=l,this.allowRedirects=!0,this.ngModule=e.get(u.h0i)}apply(){const e=Sy(this.urlTree.root,[],[],this.config).segmentGroup,t=new Xt(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,Zt).pipe((0,bt.U)(l=>this.createUrlTree(kg(l),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Pa(l=>{if(l instanceof Kw)return this.allowRedirects=!1,this.match(l.urlTree);throw l instanceof Og?this.noMatchError(l):l}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,Zt).pipe((0,bt.U)(i=>this.createUrlTree(kg(i),e.queryParams,e.fragment))).pipe(Pa(i=>{throw i instanceof Og?this.noMatchError(i):i}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,r){const i=e.segments.length>0?new Xt([],{[Zt]:e}):e;return new La(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,bt.U)(l=>new Xt([],l))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const l of Object.keys(r.children))"primary"===l?i.unshift(l):i.push(l);return(0,hn.D)(i).pipe(Zl(l=>{const d=r.children[l],m=Iy(t,l);return this.expandSegmentGroup(e,m,d,l).pipe((0,bt.U)(v=>({segment:v,outlet:l})))}),mg((l,d)=>(l[d.outlet]=d.segment,l),{}),function wT(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Ut((i,l)=>n(i,l,r)):fr.y,oy(1),t?Ad(e):hw(()=>new Yh))}())}expandSegment(e,t,r,i,l,d){return(0,hn.D)(r).pipe(Zl(m=>this.expandSegmentAgainstRoute(e,t,r,m,i,l,d).pipe(Pa(D=>{if(D instanceof Og)return mt(null);throw D}))),sc(m=>!!m),Pa((m,v)=>{if(m instanceof Yh||"EmptyError"===m.name)return Zw(t,i,l)?mt(new Xt([],{})):Vd(t);throw m}))}expandSegmentAgainstRoute(e,t,r,i,l,d,m){return zw(i,t,l,d)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,l,d):m&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,l,d):Vd(t):Vd(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,l,d){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,d):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,l,d)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const l=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?Rg(l):this.lineralizeSegments(r,l).pipe((0,fn.z)(d=>{const m=new Xt(d,{});return this.expandSegment(e,m,t,d,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,l,d){const{matched:m,consumedSegments:v,remainingSegments:D,positionalParamSegments:I}=xg(t,i,l);if(!m)return Vd(t);const M=this.applyRedirectCommands(v,i.redirectTo,I);return i.redirectTo.startsWith("/")?Rg(M):this.lineralizeSegments(i,M).pipe((0,fn.z)(F=>this.expandSegment(e,t,r,F.concat(D),d,!1)))}matchSegmentAgainstRoute(e,t,r,i,l){if("**"===r.path)return r.loadChildren?(r._loadedConfig?mt(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe((0,bt.U)(M=>(r._loadedConfig=M,new Xt(i,{})))):mt(new Xt(i,{}));const{matched:d,consumedSegments:m,remainingSegments:v}=xg(t,r,i);return d?this.getChildConfig(e,r,i).pipe((0,fn.z)(I=>{const M=I.module,F=I.routes,{segmentGroup:B,slicedSegments:Z}=Sy(t,m,v,F),se=new Xt(B.segments,B.children);if(0===Z.length&&se.hasChildren())return this.expandChildren(M,F,se).pipe((0,bt.U)(ot=>new Xt(m,ot)));if(0===F.length&&0===Z.length)return mt(new Xt(m,{}));const Ne=Qi(r)===l;return this.expandSegment(M,se,F,Z,Ne?Zt:l,!0).pipe((0,bt.U)($e=>new Xt(m.concat($e.segments),$e.children)))})):Vd(t)}getChildConfig(e,t,r){return t.children?mt(new Ey(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?mt(t._loadedConfig):this.runCanLoadGuards(e.injector,t,r).pipe((0,fn.z)(i=>i?this.configLoader.load(e.injector,t).pipe((0,bt.U)(l=>(t._loadedConfig=l,l))):function Jw(n){return Kh(dy(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))}(t))):mt(new Ey([],e))}runCanLoadGuards(e,t,r){const i=t.canLoad;return i&&0!==i.length?mt(i.map(d=>{const m=e.get(d);let v;if(function zT(n){return n&&Ql(n.canLoad)}(m))v=m.canLoad(t,r);else{if(!Ql(m))throw new Error("Invalid CanLoad guard");v=m(t,r)}return Eo(v)})).pipe(Ba(),(0,_n.b)(d=>{if(!Co(d))return;const m=dy(`Redirecting to "${this.urlSerializer.serialize(d)}"`);throw m.url=d,m}),(0,bt.U)(d=>!0===d)):mt(!0)}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return mt(r);if(i.numberOfChildren>1||!i.children[Zt])return Kh(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e.redirectTo}'`));i=i.children[Zt]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreatreUrlTree(e,t,r,i){const l=this.createSegmentGroup(e,t.root,r,i);return new La(l,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Kr(e,(i,l)=>{if("string"==typeof i&&i.startsWith(":")){const m=i.substring(1);r[l]=t[m]}else r[l]=i}),r}createSegmentGroup(e,t,r,i){const l=this.createSegments(e,t.segments,r,i);let d={};return Kr(t.children,(m,v)=>{d[v]=this.createSegmentGroup(e,m,r,i)}),new Xt(l,d)}createSegments(e,t,r,i){return t.map(l=>l.path.startsWith(":")?this.findPosParam(e,l,i):this.findOrReturn(l,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}function kg(n){const e={};for(const r of Object.keys(n.children)){const l=kg(n.children[r]);(l.segments.length>0||l.hasChildren())&&(e[r]=l)}return function JT(n){if(1===n.numberOfChildren&&n.children[Zt]){const e=n.children[Zt];return new Xt(n.segments.concat(e.segments),e.children)}return n}(new Xt(n.segments,e))}class tD{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class af{constructor(e,t){this.component=e,this.route=t}}function nD(n,e,t){const r=n._root;return lf(r,e?e._root:null,t,[r.value])}function Ua(n,e,t){const r=function QT(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:t).get(n)}function lf(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const l=Rd(e);return n.children.forEach(d=>{(function XM(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const l=n.value,d=e?e.value:null,m=t?t.getContext(n.value.outlet):null;if(d&&l.routeConfig===d.routeConfig){const v=function uf(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!oc(n.url,e.url);case"pathParamsOrQueryParamsChange":return!oc(n.url,e.url)||!ta(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!_y(n,e)||!ta(n.queryParams,e.queryParams);default:return!_y(n,e)}}(d,l,l.routeConfig.runGuardsAndResolvers);v?i.canActivateChecks.push(new tD(r)):(l.data=d.data,l._resolvedData=d._resolvedData),lf(n,e,l.component?m?m.children:null:t,r,i),v&&m&&m.outlet&&m.outlet.isActivated&&i.canDeactivateChecks.push(new af(m.outlet.component,d))}else d&&cf(e,m,i),i.canActivateChecks.push(new tD(r)),lf(n,null,l.component?m?m.children:null:t,r,i)})(d,l[d.value.outlet],t,r.concat([d.value]),i),delete l[d.value.outlet]}),Kr(l,(d,m)=>cf(d,t.getContext(m),i)),i}function cf(n,e,t){const r=Rd(n),i=n.value;Kr(r,(l,d)=>{cf(l,i.component?e?e.children.getContext(d):null:e,t)}),t.canDeactivateChecks.push(new af(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class Pg{}function Fg(n){return new Cn.y(e=>e.error(n))}class oD{constructor(e,t,r,i,l,d){this.rootComponentType=e,this.config=t,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=l,this.relativeLinkResolution=d}recognize(){const e=Sy(this.urlTree.root,[],[],this.config.filter(d=>void 0===d.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,Zt);if(null===t)return null;const r=new Va([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Zt,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new na(r,t),l=new my(this.url,i);return this.inheritParamsAndData(l._root),l}inheritParamsAndData(e){const t=e.value,r=Fw(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,r)}processChildren(e,t){const r=[];for(const l of Object.keys(t.children)){const d=t.children[l],m=Iy(e,l),v=this.processSegmentGroup(m,d,l);if(null===v)return null;r.push(...v)}const i=Ry(r);return function nI(n){n.sort((e,t)=>e.value.outlet===Zt?-1:t.value.outlet===Zt?1:e.value.outlet.localeCompare(t.value.outlet))}(i),i}processSegment(e,t,r,i){for(const l of e){const d=this.processSegmentAgainstRoute(l,t,r,i);if(null!==d)return d}return Zw(t,r,i)?[]:null}processSegmentAgainstRoute(e,t,r,i){if(e.redirectTo||!zw(e,t,r,i))return null;let l,d=[],m=[];if("**"===e.path){const B=r.length>0?Dw(r).parameters:{};l=new Va(r,B,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,rI(e),Qi(e),e.component,e,Vg(t),Bg(t)+r.length,lD(e))}else{const B=xg(t,e,r);if(!B.matched)return null;d=B.consumedSegments,m=B.remainingSegments,l=new Va(d,B.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,rI(e),Qi(e),e.component,e,Vg(t),Bg(t)+d.length,lD(e))}const v=function aD(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(e),{segmentGroup:D,slicedSegments:I}=Sy(t,d,m,v.filter(B=>void 0===B.redirectTo),this.relativeLinkResolution);if(0===I.length&&D.hasChildren()){const B=this.processChildren(v,D);return null===B?null:[new na(l,B)]}if(0===v.length&&0===I.length)return[new na(l,[])];const M=Qi(e)===i,F=this.processSegment(v,D,I,M?Zt:i);return null===F?null:[new na(l,F)]}}function Lg(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function Ry(n){const e=[],t=new Set;for(const r of n){if(!Lg(r)){e.push(r);continue}const i=e.find(l=>r.value.routeConfig===l.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=Ry(r.children);e.push(new na(r.value,i))}return e.filter(r=>!t.has(r))}function Vg(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Bg(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function rI(n){return n.data||{}}function lD(n){return n.resolve||{}}function ky(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function Py(n){return nn(e=>{const t=n(e);return t?(0,hn.D)(t).pipe((0,bt.U)(()=>e)):mt(e)})}class aI extends class hD{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const Ug=new u.OlP("ROUTES");class Fy{constructor(e,t,r,i){this.injector=e,this.compiler=t,this.onLoadStartListener=r,this.onLoadEndListener=i}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const i=this.loadModuleFactory(t.loadChildren).pipe((0,bt.U)(l=>{this.onLoadEndListener&&this.onLoadEndListener(t);const d=l.create(e);return new Ey(ww(d.injector.get(Ug,void 0,u.XFs.Self|u.XFs.Optional)).map(Mg),d)}),Pa(l=>{throw t._loader$=void 0,l}));return t._loader$=new ZM(i,()=>new Et.x).pipe(bT()),t._loader$}loadModuleFactory(e){return Eo(e()).pipe((0,fn.z)(t=>t instanceof u.YKP?mt(t):(0,hn.D)(this.compiler.compileModuleAsync(t))))}}class pD{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function lI(n){throw n}function uI(n,e,t){return e.parse("/")}function cI(n,e){return mt(null)}const gD={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},nx={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ys=(()=>{class n{constructor(t,r,i,l,d,m,v){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=i,this.location=l,this.config=v,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Et.x,this.errorHandler=lI,this.malformedUriErrorHandler=uI,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:cI,afterPreactivation:cI},this.urlHandlingStrategy=new pD,this.routeReuseStrategy=new aI,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=d.get(u.h0i),this.console=d.get(u.c2e);const M=d.get(u.R0b);this.isNgZoneEnabled=M instanceof u.R0b&&u.R0b.isInAngularZone(),this.resetConfig(v),this.currentUrlTree=function Ew(){return new La(new Xt([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Fy(d,m,F=>this.triggerEvent(new _w(F)),F=>this.triggerEvent(new ly(F))),this.routerState=Tg(this.currentUrlTree,this.rootComponentType),this.transitions=new jn({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(Ut(i=>0!==i.id),(0,bt.U)(i=>Object.assign(Object.assign({},i),{extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),nn(i=>{let l=!1,d=!1;return mt(i).pipe((0,_n.b)(m=>{this.currentNavigation={id:m.id,initialUrl:m.currentRawUrl,extractedUrl:m.extractedUrl,trigger:m.source,extras:m.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),nn(m=>{const v=this.browserUrlTree.toString(),D=!this.navigated||m.extractedUrl.toString()!==v||v!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||D)&&this.urlHandlingStrategy.shouldProcessUrl(m.rawUrl))return dI(m.source)&&(this.browserUrlTree=m.extractedUrl),mt(m).pipe(nn(M=>{const F=this.transitions.getValue();return r.next(new ay(M.id,this.serializeUrl(M.extractedUrl),M.source,M.restoredState)),F!==this.transitions.getValue()?Hi.E:Promise.resolve(M)}),function eD(n,e,t,r){return nn(i=>function Qw(n,e,t,r,i){return new Xw(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe((0,bt.U)(l=>Object.assign(Object.assign({},i),{urlAfterRedirects:l}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,_n.b)(M=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:M.urlAfterRedirects})}),function iI(n,e,t,r,i){return(0,fn.z)(l=>function ex(n,e,t,r,i="emptyOnly",l="legacy"){try{const d=new oD(n,e,t,r,i,l).recognize();return null===d?Fg(new Pg):mt(d)}catch(d){return Fg(d)}}(n,e,l.urlAfterRedirects,t(l.urlAfterRedirects),r,i).pipe((0,bt.U)(d=>Object.assign(Object.assign({},l),{targetSnapshot:d}))))}(this.rootComponentType,this.config,M=>this.serializeUrl(M),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,_n.b)(M=>{if("eager"===this.urlUpdateStrategy){if(!M.extras.skipLocationChange){const B=this.urlHandlingStrategy.merge(M.urlAfterRedirects,M.rawUrl);this.setBrowserUrl(B,M)}this.browserUrlTree=M.urlAfterRedirects}const F=new Md(M.id,this.serializeUrl(M.extractedUrl),this.serializeUrl(M.urlAfterRedirects),M.targetSnapshot);r.next(F)}));if(D&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:F,extractedUrl:B,source:Z,restoredState:se,extras:Ne}=m,Xe=new ay(F,this.serializeUrl(B),Z,se);r.next(Xe);const $e=Tg(B,this.rootComponentType).snapshot;return mt(Object.assign(Object.assign({},m),{targetSnapshot:$e,urlAfterRedirects:B,extras:Object.assign(Object.assign({},Ne),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=m.rawUrl,m.resolve(null),Hi.E}),Py(m=>{const{targetSnapshot:v,id:D,extractedUrl:I,rawUrl:M,extras:{skipLocationChange:F,replaceUrl:B}}=m;return this.hooks.beforePreactivation(v,{navigationId:D,appliedUrlTree:I,rawUrlTree:M,skipLocationChange:!!F,replaceUrl:!!B})}),(0,_n.b)(m=>{const v=new CT(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot);this.triggerEvent(v)}),(0,bt.U)(m=>Object.assign(Object.assign({},m),{guards:nD(m.targetSnapshot,m.currentSnapshot,this.rootContexts)})),function xy(n,e){return(0,fn.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:l,canDeactivateChecks:d}}=t;return 0===d.length&&0===l.length?mt(Object.assign(Object.assign({},t),{guardsResult:!0})):function XT(n,e,t,r){return(0,hn.D)(n).pipe((0,fn.z)(i=>function sD(n,e,t,r,i){const l=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return l&&0!==l.length?mt(l.map(m=>{const v=Ua(m,e,i);let D;if(function ZT(n){return n&&Ql(n.canDeactivate)}(v))D=Eo(v.canDeactivate(n,e,t,r));else{if(!Ql(v))throw new Error("Invalid CanDeactivate guard");D=Eo(v(n,e,t,r))}return D.pipe(sc())})).pipe(Ba()):mt(!0)}(i.component,i.route,t,e,r)),sc(i=>!0!==i,!0))}(d,r,i,n).pipe((0,fn.z)(m=>m&&function qT(n){return"boolean"==typeof n}(m)?function rD(n,e,t,r){return(0,hn.D)(e).pipe(Zl(i=>Dl(function tI(n,e){return null!==n&&e&&e(new IT(n)),mt(!0)}(i.route.parent,r),function eI(n,e){return null!==n&&e&&e(new ST(n)),mt(!0)}(i.route,r),function iD(n,e,t){const r=e[e.length-1],l=e.slice(0,e.length-1).reverse().map(d=>function Oi(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(d)).filter(d=>null!==d).map(d=>cw(()=>mt(d.guards.map(v=>{const D=Ua(v,d.node,t);let I;if(function ra(n){return n&&Ql(n.canActivateChild)}(D))I=Eo(D.canActivateChild(r,n));else{if(!Ql(D))throw new Error("Invalid CanActivateChild guard");I=Eo(D(r,n))}return I.pipe(sc())})).pipe(Ba())));return mt(l).pipe(Ba())}(n,i.path,t),function Oy(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return mt(!0);const i=r.map(l=>cw(()=>{const d=Ua(l,e,t);let m;if(function Cy(n){return n&&Ql(n.canActivate)}(d))m=Eo(d.canActivate(e,n));else{if(!Ql(d))throw new Error("Invalid CanActivate guard");m=Eo(d(e,n))}return m.pipe(sc())}));return mt(i).pipe(Ba())}(n,i.route,t))),sc(i=>!0!==i,!0))}(r,l,n,e):mt(m)),(0,bt.U)(m=>Object.assign(Object.assign({},t),{guardsResult:m})))})}(this.ngModule.injector,m=>this.triggerEvent(m)),(0,_n.b)(m=>{if(Co(m.guardsResult)){const D=dy(`Redirecting to "${this.serializeUrl(m.guardsResult)}"`);throw D.url=m.guardsResult,D}const v=new gw(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot,!!m.guardsResult);this.triggerEvent(v)}),Ut(m=>!!m.guardsResult||(this.restoreHistory(m),this.cancelNavigationTransition(m,""),!1)),Py(m=>{if(m.guards.canActivateChecks.length)return mt(m).pipe((0,_n.b)(v=>{const D=new TT(v.id,this.serializeUrl(v.extractedUrl),this.serializeUrl(v.urlAfterRedirects),v.targetSnapshot);this.triggerEvent(D)}),nn(v=>{let D=!1;return mt(v).pipe(function uD(n,e){return(0,fn.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return mt(t);let l=0;return(0,hn.D)(i).pipe(Zl(d=>function cD(n,e,t,r){return function sI(n,e,t,r){const i=ky(n);if(0===i.length)return mt({});const l={};return(0,hn.D)(i).pipe((0,fn.z)(d=>function dD(n,e,t,r){const i=Ua(n,e,r);return Eo(i.resolve?i.resolve(e,t):i(e,t))}(n[d],e,t,r).pipe((0,_n.b)(m=>{l[d]=m}))),oy(1),(0,fn.z)(()=>ky(l).length===i.length?mt(l):Hi.E))}(n._resolve,n,e,r).pipe((0,bt.U)(l=>(n._resolvedData=l,n.data=Object.assign(Object.assign({},n.data),Fw(n,t).resolve),null)))}(d.route,r,n,e)),(0,_n.b)(()=>l++),oy(1),(0,fn.z)(d=>l===i.length?mt(t):Hi.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,_n.b)({next:()=>D=!0,complete:()=>{D||(this.restoreHistory(v),this.cancelNavigationTransition(v,"At least one route resolver didn't emit any value."))}}))}),(0,_n.b)(v=>{const D=new mw(v.id,this.serializeUrl(v.extractedUrl),this.serializeUrl(v.urlAfterRedirects),v.targetSnapshot);this.triggerEvent(D)}))}),Py(m=>{const{targetSnapshot:v,id:D,extractedUrl:I,rawUrl:M,extras:{skipLocationChange:F,replaceUrl:B}}=m;return this.hooks.afterPreactivation(v,{navigationId:D,appliedUrlTree:I,rawUrlTree:M,skipLocationChange:!!F,replaceUrl:!!B})}),(0,bt.U)(m=>{const v=function JM(n,e,t){const r=kd(n,e._root,t?t._root:void 0);return new Pw(r,e)}(this.routeReuseStrategy,m.targetSnapshot,m.currentRouterState);return Object.assign(Object.assign({},m),{targetRouterState:v})}),(0,_n.b)(m=>{this.currentUrlTree=m.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(m.urlAfterRedirects,m.rawUrl),this.routerState=m.targetRouterState,"deferred"===this.urlUpdateStrategy&&(m.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,m),this.browserUrlTree=m.urlAfterRedirects)}),((n,e,t)=>(0,bt.U)(r=>(new jw(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,m=>this.triggerEvent(m)),(0,_n.b)({next(){l=!0},complete(){l=!0}}),function DT(n){return(0,Tn.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}(()=>{var m;l||d||this.cancelNavigationTransition(i,`Navigation ID ${i.id} is not equal to the current navigation id ${this.navigationId}`),(null===(m=this.currentNavigation)||void 0===m?void 0:m.id)===i.id&&(this.currentNavigation=null)}),Pa(m=>{if(d=!0,function vw(n){return n&&n[_g]}(m)){const v=Co(m.url);v||(this.navigated=!0,this.restoreHistory(i,!0));const D=new pw(i.id,this.serializeUrl(i.extractedUrl),m.message);r.next(D),v?setTimeout(()=>{const I=this.urlHandlingStrategy.merge(m.url,this.rawUrlTree),M={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||dI(i.source)};this.scheduleNavigation(I,"imperative",null,M,{resolve:i.resolve,reject:i.reject,promise:i.promise})},0):i.resolve(!1)}else{this.restoreHistory(i,!0);const v=new ET(i.id,this.serializeUrl(i.extractedUrl),m);r.next(v);try{i.resolve(this.errorHandler(m))}catch(D){i.reject(D)}}return Hi.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var i;const l={replaceUrl:!0},d=(null===(i=t.state)||void 0===i?void 0:i.navigationId)?t.state:null;if(d){const v=Object.assign({},d);delete v.navigationId,delete v.\u0275routerPageId,0!==Object.keys(v).length&&(l.state=v)}const m=this.parseUrl(t.url);this.scheduleNavigation(m,r,d,l)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){Hw(t),this.config=t.map(Mg),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:l,fragment:d,queryParamsHandling:m,preserveFragment:v}=r,D=i||this.routerState.root,I=v?this.currentUrlTree.fragment:d;let M=null;switch(m){case"merge":M=Object.assign(Object.assign({},this.currentUrlTree.queryParams),l);break;case"preserve":M=this.currentUrlTree.queryParams;break;default:M=l||null}return null!==M&&(M=this.removeEmptyProps(M)),function yy(n,e,t,r,i){if(0===t.length)return Sg(e.root,e.root,e.root,r,i);const l=function jT(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Vw(!0,0,n);let e=0,t=!1;const r=n.reduce((i,l,d)=>{if("object"==typeof l&&null!=l){if(l.outlets){const m={};return Kr(l.outlets,(v,D)=>{m[D]="string"==typeof v?v.split("/"):v}),[...i,{outlets:m}]}if(l.segmentPath)return[...i,l.segmentPath]}return"string"!=typeof l?[...i,l]:0===d?(l.split("/").forEach((m,v)=>{0==v&&"."===m||(0==v&&""===m?t=!0:".."===m?e++:""!=m&&i.push(m))}),i):[...i,l]},[]);return new Vw(t,e,r)}(t);if(l.toRoot())return Sg(e.root,e.root,new Xt([],{}),r,i);const d=function GT(n,e,t){if(n.isAbsolute)return new by(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const l=t.snapshot._urlSegment;return new by(l,l===e.root,0)}const r=tf(n.commands[0])?0:1;return function HT(n,e,t){let r=n,i=e,l=t;for(;l>i;){if(l-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new by(r,!1,i-l)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(l,e,n),m=d.processChildren?nf(d.segmentGroup,d.index,l.commands):Fd(d.segmentGroup,d.index,l.commands);return Sg(e.root,d.segmentGroup,m,r,i)}(D,this.currentUrlTree,t,M,null!=I?I:null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=Co(t)?t:this.parseUrl(t),l=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(l,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function rx(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?Object.assign({},gD):!1===r?Object.assign({},nx):r,Co(t))return yg(this.currentUrlTree,t,i);const l=this.parseUrl(t);return yg(this.currentUrlTree,l,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const l=t[i];return null!=l&&(r[i]=l),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new Nd(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,i,l,d){var m,v;if(this.disposed)return Promise.resolve(!1);let D,I,M;d?(D=d.resolve,I=d.reject,M=d.promise):M=new Promise((Z,se)=>{D=Z,I=se});const F=++this.navigationId;let B;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),B=i&&i.\u0275routerPageId?i.\u0275routerPageId:l.replaceUrl||l.skipLocationChange?null!==(m=this.browserPageId)&&void 0!==m?m:0:(null!==(v=this.browserPageId)&&void 0!==v?v:0)+1):B=0,this.setTransition({id:F,targetPageId:B,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:l,resolve:D,reject:I,promise:M,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),M.catch(Z=>Promise.reject(Z))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),l=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",l):this.location.go(i,"",l)}restoreHistory(t,r=!1){var i,l;if("computed"===this.canceledNavigationResolution){const d=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(i=this.currentNavigation)||void 0===i?void 0:i.finalUrl)||0===d?this.currentUrlTree===(null===(l=this.currentNavigation)||void 0===l?void 0:l.finalUrl)&&0===d&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(d)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r){const i=new pw(t.id,this.serializeUrl(t.extractedUrl),r);this.triggerEvent(i),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){u.$Z()},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function dI(n){return"imperative"!==n}let Ly=(()=>{class n{constructor(t,r,i,l,d){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=l,this.el=d,this.commands=null,this.onChanges=new Et.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){if(null!=this.tabIndexAttribute)return;const r=this.renderer,i=this.el.nativeElement;null!==t?r.setAttribute(i,"tabindex",t):r.removeAttribute(i,"tabindex")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const t={skipLocationChange:df(this.skipLocationChange),replaceUrl:df(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:df(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(ys),u.Y36(ef),u.$8M("tabindex"),u.Y36(u.Qsj),u.Y36(u.SBq))},n.\u0275dir=u.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,r){1&t&&u.NdJ("click",function(){return r.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[u.TTD]}),n})(),Vy=(()=>{class n{constructor(t,r,i){this.router=t,this.route=r,this.locationStrategy=i,this.commands=null,this.href=null,this.onChanges=new Et.x,this.subscription=t.events.subscribe(l=>{l instanceof Nd&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,r,i,l,d){if(0!==t||r||i||l||d||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const m={skipLocationChange:df(this.skipLocationChange),replaceUrl:df(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,m),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:df(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(ys),u.Y36(ef),u.Y36(he))},n.\u0275dir=u.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,r){1&t&&u.NdJ("click",function(l){return r.onClick(l.button,l.ctrlKey,l.shiftKey,l.altKey,l.metaKey)}),2&t&&u.uIk("target",r.target)("href",r.href,u.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[u.TTD]}),n})();function df(n){return""===n||!!n}let hI=(()=>{class n{constructor(t,r,i,l,d,m){this.router=t,this.element=r,this.renderer=i,this.cdr=l,this.link=d,this.linkWithHref=m,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new u.vpe,this.routerEventsSubscription=t.events.subscribe(v=>{v instanceof Nd&&this.update()})}ngAfterContentInit(){mt(this.links.changes,this.linksWithHrefs.changes,mt(null)).pipe((0,Da.J)()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var t;null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe();const r=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=(0,hn.D)(r).pipe((0,Da.J)()).subscribe(i=>{this.isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(t){const r=Array.isArray(t)?t:t.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(t){this.update()}ngOnDestroy(){var t;this.routerEventsSubscription.unsubscribe(),null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const t=this.hasActiveLinks();this.isActive!==t&&(this.isActive=t,this.cdr.markForCheck(),this.classes.forEach(r=>{t?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),this.isActiveChange.emit(t))})}isLinkActive(t){const r=function jg(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>!!i.urlTree&&t.isActive(i.urlTree,r)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.linkWithHref&&t(this.linkWithHref)||this.links.some(t)||this.linksWithHrefs.some(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(ys),u.Y36(u.SBq),u.Y36(u.Qsj),u.Y36(u.sBO),u.Y36(Ly,8),u.Y36(Vy,8))},n.\u0275dir=u.lG2({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(t,r,i){if(1&t&&(u.Suo(i,Ly,5),u.Suo(i,Vy,5)),2&t){let l;u.iGM(l=u.CRH())&&(r.links=l),u.iGM(l=u.CRH())&&(r.linksWithHrefs=l)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[u.TTD]}),n})();class fI{}class Gg{preload(e,t){return mt(null)}}let By=(()=>{class n{constructor(t,r,i,l){this.router=t,this.injector=i,this.preloadingStrategy=l,this.loader=new Fy(i,r,v=>t.triggerEvent(new _w(v)),v=>t.triggerEvent(new ly(v)))}setUpPreloading(){this.subscription=this.router.events.pipe(Ut(t=>t instanceof Nd),Zl(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(u.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const l of r)if(l.loadChildren&&!l.canLoad&&l._loadedConfig){const d=l._loadedConfig;i.push(this.processRoutes(d.module,d.routes))}else l.loadChildren&&!l.canLoad?i.push(this.preloadConfig(t,l)):l.children&&i.push(this.processRoutes(t,l.children));return(0,hn.D)(i).pipe((0,Da.J)(),(0,bt.U)(l=>{}))}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?mt(r._loadedConfig):this.loader.load(t.injector,r)).pipe((0,fn.z)(l=>(r._loadedConfig=l,this.processRoutes(l.module,l.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ys),u.LFG(u.Sil),u.LFG(u.zs3),u.LFG(fI))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),Hg=(()=>{class n{constructor(t,r,i={}){this.router=t,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof ay?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Nd&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof cy&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new cy(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){u.$Z()},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const ja=new u.OlP("ROUTER_CONFIGURATION"),Uy=new u.OlP("ROUTER_FORROOT_GUARD"),pI=[_e,{provide:Nw,useClass:fy},{provide:ys,useFactory:function sx(n,e,t,r,i,l,d={},m,v){const D=new ys(null,n,e,t,r,i,ww(l));return m&&(D.urlHandlingStrategy=m),v&&(D.routeReuseStrategy=v),function ox(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(d,D),d.enableTracing&&D.events.subscribe(I=>{var M,F;null===(M=console.group)||void 0===M||M.call(console,`Router Event: ${I.constructor.name}`),console.log(I.toString()),console.log(I),null===(F=console.groupEnd)||void 0===F||F.call(console)}),D},deps:[Nw,rf,_e,u.zs3,u.Sil,Ug,ja,[class fD{},new u.FiY],[class oI{},new u.FiY]]},rf,{provide:ef,useFactory:function ax(n){return n.routerState.root},deps:[ys]},By,Gg,class mD{preload(e,t){return t().pipe(Pa(()=>mt(null)))}},{provide:ja,useValue:{enableTracing:!1}}];function _D(){return new u.PXZ("Router",ys)}let ix=(()=>{class n{constructor(t,r){}static forRoot(t,r){return{ngModule:n,providers:[pI,yD(t),{provide:Uy,useFactory:jy,deps:[[ys,new u.FiY,new u.tp0]]},{provide:ja,useValue:r||{}},{provide:he,useFactory:mI,deps:[de,[new u.tBr(rt),new u.FiY],ja]},{provide:Hg,useFactory:gI,deps:[ys,sl,ja]},{provide:fI,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:Gg},{provide:u.PXZ,multi:!0,useFactory:_D},[Gy,{provide:u.ip1,multi:!0,useFactory:_I,deps:[Gy]},{provide:vI,useFactory:yI,deps:[Gy]},{provide:u.tb,multi:!0,useExisting:vI}]]}}static forChild(t){return{ngModule:n,providers:[yD(t)]}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Uy,8),u.LFG(ys,8))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();function gI(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new Hg(n,e,t)}function mI(n,e,t={}){return t.useHash?new Te(n,e):new Ke(n,e)}function jy(n){return"guarded"}function yD(n){return[{provide:u.deG,multi:!0,useValue:n},{provide:Ug,multi:!0,useValue:n}]}let Gy=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Et.x}appInitializer(){return this.injector.get(G,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const i=new Promise(m=>r=m),l=this.injector.get(ys),d=this.injector.get(ja);return"disabled"===d.initialNavigation?(l.setUpLocationChangeListener(),r(!0)):"enabled"===d.initialNavigation||"enabledBlocking"===d.initialNavigation?(l.hooks.afterPreactivation=()=>this.initNavigation?mt(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),l.initialNavigation()):r(!0),i})}bootstrapListener(t){const r=this.injector.get(ja),i=this.injector.get(By),l=this.injector.get(Hg),d=this.injector.get(ys),m=this.injector.get(u.z2F);t===m.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&d.initialNavigation(),i.setUpPreloading(),l.init(),d.resetRootComponentType(m.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.zs3))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function _I(n){return n.appInitializer.bind(n)}function yI(n){return n.bootstrapListener.bind(n)}const vI=new u.OlP("Router Initializer"),Hy=function(){return{exact:!0}};let To=(()=>{class n{constructor(){this.isDarkMode=JSON.parse(localStorage.getItem("isDarkMode")),this.isNavbarCollapsed=!0}ngOnInit(){this.isDarkMode&&document.body.classList.toggle("dark-mode")}changeMode(){this.isDarkMode=!this.isDarkMode,localStorage.setItem("isDarkMode",JSON.stringify(this.isDarkMode)),document.body.classList.toggle("dark-mode")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-root"]],decls:25,vars:12,consts:[[1,"container"],[1,"navbar","navbar-expand-lg"],["href","#",1,"navbar-brand"],["type","button","data-target","#navbarsDefault","aria-controls","navbarsDefault","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler","hidden-sm-up",3,"click"],[1,"navbar-toggler-icon"],["id","navbarsDefault",1,"collapse","navbar-collapse",3,"ngbCollapse"],[1,"navbar-nav","me-auto","mb-2","mb-lg-0"],[1,"nav-item"],["aria-current","page","routerLink","/","routerLinkActive","active",1,"nav-link",3,"routerLinkActiveOptions"],["aria-current","page","routerLink","/favorites","routerLinkActive","active",1,"nav-link",3,"routerLinkActiveOptions"],["routerLink","/add-new-movie","routerLinkActive","active",1,"nav-link",3,"routerLinkActiveOptions"],[1,"d-flex"],[1,"material-icons-outlined","icon"],["title","Switch mode",1,"form-check","form-switch"],["type","checkbox","role","switch","id","flexSwitchCheckDefault",1,"form-check-input",3,"checked","change"],["for","flexSwitchCheckDefault",1,"form-check-label"]],template:function(t,r){1&t&&(u.TgZ(0,"div",0)(1,"nav",1)(2,"a",2)(3,"strong"),u._uU(4,"TV."),u.qZA()(),u.TgZ(5,"button",3),u.NdJ("click",function(){return r.isNavbarCollapsed=!r.isNavbarCollapsed}),u._UZ(6,"span",4),u.qZA(),u.TgZ(7,"div",5)(8,"ul",6)(9,"li",7)(10,"a",8),u._uU(11,"Movies list"),u.qZA()(),u.TgZ(12,"li",7)(13,"a",9),u._uU(14," Favorite movies"),u.qZA()(),u.TgZ(15,"li",7)(16,"a",10),u._uU(17,"Add new movies"),u.qZA()()(),u.TgZ(18,"div",11)(19,"span",12),u._uU(20,"settings_brightness"),u.qZA(),u.TgZ(21,"div",13)(22,"input",14),u.NdJ("change",function(){return r.changeMode()}),u.qZA(),u._UZ(23,"label",15),u.qZA()()()(),u._UZ(24,"router-outlet"),u.qZA()),2&t&&(u.xp6(1),u.ekj("navbar-light",!r.isDarkMode)("navbar-dark",r.isDarkMode),u.xp6(6),u.Q6J("ngbCollapse",r.isNavbarCollapsed),u.xp6(3),u.Q6J("routerLinkActiveOptions",u.DdM(9,Hy)),u.xp6(3),u.Q6J("routerLinkActiveOptions",u.DdM(10,Hy)),u.xp6(3),u.Q6J("routerLinkActiveOptions",u.DdM(11,Hy)),u.xp6(6),u.Q6J("checked",r.isDarkMode))},directives:[Dd,Vy,hI,Ty],styles:[".icon[_ngcontent-%COMP%]{padding-right:10px}"]}),n})();var Yr=R(5813);function hf(){return(0,Tn.e)((n,e)=>{let t,r=!1;n.subscribe((0,rn.x)(e,i=>{const l=t;t=i,r&&e.next([l,i]),r=!0}))})}var nt,Io=R(2011),$y=(R(820),R(3942)),ye=R(5861),Xl=R(9681),$g=R(4859),Ga=R(1877),Kt=R(2090),wI="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Ha={},$a=$a||{},Mt=wI||self;function ff(){}function Wy(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Wg(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var qy="closure_uid_"+(1e9*Math.random()>>>0),EI=0;function bD(n,e,t){return n.call.apply(n.bind,arguments)}function CI(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function Jr(n,e,t){return(Jr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?bD:CI).apply(null,arguments)}function zy(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Ar(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(r,i,l){for(var d=Array(arguments.length-2),m=2;m<arguments.length;m++)d[m-2]=arguments[m];return e.prototype[i].apply(r,d)}}function Wa(){this.s=this.s,this.o=this.o}var II={};Wa.prototype.s=!1,Wa.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function DI(n){return Object.prototype.hasOwnProperty.call(n,qy)&&n[qy]||(n[qy]=++EI)}(this);delete II[n]}},Wa.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Zy=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},qg=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const r=n.length,i="string"==typeof n?n.split(""):n;for(let l=0;l<r;l++)l in i&&e.call(t,i[l],l,n)};function Yy(n){return Array.prototype.concat.apply([],arguments)}function Jy(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function pf(n){return/^[\s\xa0]*$/.test(n)}var Xi,Qy=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Ri(n,e){return-1!=n.indexOf(e)}function Xy(n,e){return n<e?-1:n>e?1:0}e:{var SI=Mt.navigator;if(SI){var ev=SI.userAgent;if(ev){Xi=ev;break e}}Xi=""}function tv(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function wD(n){const e={};for(const t in n)e[t]=n[t];return e}var DD="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function AI(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let l=0;l<DD.length;l++)t=DD[l],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function ED(n){return ED[" "](n),n}ED[" "]=ff;var ia,n,cx=Ri(Xi,"Opera"),gf=Ri(Xi,"Trident")||Ri(Xi,"MSIE"),CD=Ri(Xi,"Edge"),Bd=CD||gf,TD=Ri(Xi,"Gecko")&&!(Ri(Xi.toLowerCase(),"webkit")&&!Ri(Xi,"Edge"))&&!(Ri(Xi,"Trident")||Ri(Xi,"MSIE"))&&!Ri(Xi,"Edge"),NI=Ri(Xi.toLowerCase(),"webkit")&&!Ri(Xi,"Edge");function nv(){var n=Mt.document;return n?n.documentMode:void 0}e:{var zg="",mf=(n=Xi,TD?/rv:([^\);]+)(\)|;)/.exec(n):CD?/Edge\/([\d\.]+)/.exec(n):gf?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):NI?/WebKit\/(\S+)/.exec(n):cx?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(mf&&(zg=mf?mf[1]:""),gf){var _f=nv();if(null!=_f&&_f>parseFloat(zg)){ia=String(_f);break e}}ia=zg}var MI={};var dx=Mt.document&&gf&&(nv()||parseInt(ia,10))||void 0,hx=function(){if(!Mt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Mt.addEventListener("test",ff,e),Mt.removeEventListener("test",ff,e)}catch(t){}return n}();function ki(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function Zg(n,e){if(ki.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(TD){e:{try{ED(e.nodeName);var i=!0;break e}catch(l){}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:ID[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Zg.Z.h.call(this)}}ki.prototype.h=function(){this.defaultPrevented=!0},Ar(Zg,ki);var ID={2:"touch",3:"pen",4:"mouse"};Zg.prototype.h=function(){Zg.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var bf="closure_listenable_"+(1e6*Math.random()|0),xI=0;function OI(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ia=i,this.key=++xI,this.ca=this.fa=!1}function Kg(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function wf(n){this.src=n,this.g={},this.h=0}function Yg(n,e){var t=e.type;if(t in n.g){var l,r=n.g[t],i=Zy(r,e);(l=0<=i)&&Array.prototype.splice.call(r,i,1),l&&(Kg(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function Jg(n,e,t,r){for(var i=0;i<n.length;++i){var l=n[i];if(!l.ca&&l.listener==e&&l.capture==!!t&&l.ia==r)return i}return-1}wf.prototype.add=function(n,e,t,r,i){var l=n.toString();(n=this.g[l])||(n=this.g[l]=[],this.h++);var d=Jg(n,e,r,i);return-1<d?(e=n[d],t||(e.fa=!1)):((e=new OI(e,this.src,l,!!r,i)).fa=t,n.push(e)),e};var iv="closure_lm_"+(1e6*Math.random()|0),sv={};function ov(n,e,t,r,i){if(r&&r.once)return av(n,e,t,r,i);if(Array.isArray(e)){for(var l=0;l<e.length;l++)ov(n,e[l],t,r,i);return null}return t=cv(t),n&&n[bf]?n.N(e,t,Wg(r)?!!r.capture:!!r,i):Qg(n,e,t,!1,r,i)}function Qg(n,e,t,r,i,l){if(!e)throw Error("Invalid event type");var d=Wg(i)?!!i.capture:!!i,m=AD(n);if(m||(n[iv]=m=new wf(n)),(t=m.add(e,t,r,d,l)).proxy)return t;if(r=function fx(){var e=px;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)hx||(i=d),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(SD(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function av(n,e,t,r,i){if(Array.isArray(e)){for(var l=0;l<e.length;l++)av(n,e[l],t,r,i);return null}return t=cv(t),n&&n[bf]?n.O(e,t,Wg(r)?!!r.capture:!!r,i):Qg(n,e,t,!0,r,i)}function Xg(n,e,t,r,i){if(Array.isArray(e))for(var l=0;l<e.length;l++)Xg(n,e[l],t,r,i);else r=Wg(r)?!!r.capture:!!r,t=cv(t),n&&n[bf]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=Jg(l=n.g[e],t,r,i))&&(Kg(l[t]),Array.prototype.splice.call(l,t,1),0==l.length&&(delete n.g[e],n.h--))):n&&(n=AD(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Jg(e,t,r,i)),(t=-1<n?e[n]:null)&&lv(t))}function lv(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[bf])Yg(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(SD(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=AD(e))?(Yg(t,n),0==t.h&&(t.src=null,e[iv]=null)):Kg(n)}}}function SD(n){return n in sv?sv[n]:sv[n]="on"+n}function px(n,e){if(n.ca)n=!0;else{e=new Zg(e,this);var t=n.listener,r=n.ia||n.src;n.fa&&lv(n),n=t.call(r,e)}return n}function AD(n){return(n=n[iv])instanceof wf?n:null}var uv="__closure_events_fn_"+(1e9*Math.random()>>>0);function cv(n){return"function"==typeof n?n:(n[uv]||(n[uv]=function(e){return n.handleEvent(e)}),n[uv])}function Qr(){Wa.call(this),this.i=new wf(this),this.P=this,this.I=null}function hi(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new ki(e,n);else if(e instanceof ki)e.target=e.target||n;else{var i=e;AI(e=new ki(r,n),i)}if(i=!0,t)for(var l=t.length-1;0<=l;l--){var d=e.g=t[l];i=dv(d,r,!0,e)&&i}if(i=dv(d=e.g=n,r,!0,e)&&i,i=dv(d,r,!1,e)&&i,t)for(l=0;l<t.length;l++)i=dv(d=e.g=t[l],r,!1,e)&&i}function dv(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,l=0;l<e.length;++l){var d=e[l];if(d&&!d.ca&&d.capture==t){var m=d.listener,v=d.ia||d.src;d.fa&&Yg(n.i,d),i=!1!==m.call(v,r)&&i}}return i&&!r.defaultPrevented}Ar(Qr,Wa),Qr.prototype[bf]=!0,Qr.prototype.removeEventListener=function(n,e,t,r){Xg(this,n,e,t,r)},Qr.prototype.M=function(){if(Qr.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)Kg(t[r]);delete n.g[e],n.h--}}this.I=null},Qr.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Qr.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var ND=Mt.JSON.stringify;function gx(){var n=c;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var s,kI=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new mx,n=>n.reset());class mx{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function _x(n){Mt.setTimeout(()=>{throw n},0)}function MD(n,e){s||function o(){var n=Mt.Promise.resolve(void 0);s=function(){n.then(h)}}(),a||(s(),a=!0),c.add(n,e)}var a=!1,c=new class RI{constructor(){this.h=this.g=null}add(e,t){const r=kI.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function h(){for(var n;n=gx();){try{n.h.call(n.g)}catch(t){_x(t)}var e=kI;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}a=!1}function p(n,e){Qr.call(this),this.h=n||1,this.g=e||Mt,this.j=Jr(this.kb,this),this.l=Date.now()}function y(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function w(n,e,t){if("function"==typeof n)t&&(n=Jr(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Jr(n.handleEvent,n)}return 2147483647<Number(e)?-1:Mt.setTimeout(n,e||0)}function E(n){n.g=w(()=>{n.g=null,n.i&&(n.i=!1,E(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Ar(p,Qr),(nt=p.prototype).da=!1,nt.S=null,nt.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),hi(this,"tick"),this.da&&(y(this),this.start()))}},nt.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},nt.M=function(){p.Z.M.call(this),y(this),delete this.g};class A extends Wa{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:E(this)}M(){super.M(),this.g&&(Mt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function N(n){Wa.call(this),this.h=n,this.g={}}Ar(N,Wa);var P=[];function U(n,e,t,r){Array.isArray(t)||(t&&(P[0]=t.toString()),t=P);for(var i=0;i<t.length;i++){var l=ov(e,t[i],r||n.handleEvent,!1,n.h||n);if(!l)break;n.g[l.key]=l}}function z(n){tv(n.g,function(e,t){this.g.hasOwnProperty(t)&&lv(e)},n),n.g={}}function me(){this.g=!0}function Qe(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function _t(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var l=i[0];if("noop"!=l&&"stop"!=l&&"close"!=l)for(var d=1;d<i.length;d++)i[d]=""}}}return ND(t)}catch(m){return e}}(n,t)+(r?" "+r:"")})}N.prototype.M=function(){N.Z.M.call(this),z(this)},N.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},me.prototype.Aa=function(){this.g=!1},me.prototype.info=function(){};var Pt={},pn=null;function fi(){return pn=pn||new Qr}function eu(n){ki.call(this,Pt.Ma,n)}function uc(n){const e=fi();hi(e,new eu(e,n))}function em(n,e){ki.call(this,Pt.STAT_EVENT,n),this.stat=e}function Xr(n){const e=fi();hi(e,new em(e,n))}function tm(n,e){ki.call(this,Pt.Na,n),this.size=e}function cc(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Mt.setTimeout(function(){n()},e)}Pt.Ma="serverreachability",Ar(eu,ki),Pt.STAT_EVENT="statevent",Ar(em,ki),Pt.Na="timingevent",Ar(tm,ki);var Ud={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},nm={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Df(){}function yx(){}Df.prototype.h=null;var LI,hv={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function PI(){ki.call(this,"d")}function FI(){ki.call(this,"c")}function xD(){}function fv(n,e,t,r){this.l=n,this.j=e,this.m=t,this.X=r||1,this.V=new N(this),this.P=IF,this.W=new p(n=Bd?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new vx}function vx(){this.i=null,this.g="",this.h=!1}Ar(PI,ki),Ar(FI,ki),Ar(xD,Df),xD.prototype.g=function(){return new XMLHttpRequest},xD.prototype.i=function(){return{}},LI=new xD;var IF=45e3,VI={},OD={};function BI(n,e,t){n.K=1,n.v=LD(dc(e)),n.s=t,n.U=!0,bx(n,null)}function bx(n,e){n.F=Date.now(),pv(n),n.A=dc(n.v);var t=n.A,r=n.X;Array.isArray(r)||(r=[String(r)]),Nx(t.h,"t",r),n.C=0,t=n.l.H,n.h=new vx,n.g=Qx(n.l,t?e:null,!n.s),0<n.O&&(n.L=new A(Jr(n.Ia,n,n.g),n.O)),U(n.V,n.g,"readystatechange",n.gb),e=n.H?wD(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),uc(1),function Re(n,e,t,r,i,l){n.info(function(){if(n.g)if(l)for(var d="",m=l.split("&"),v=0;v<m.length;v++){var D=m[v].split("=");if(1<D.length){var I=D[0];D=D[1];var M=I.split("_");d=2<=M.length&&"type"==M[1]?d+(I+"=")+D+"&":d+(I+"=redacted&")}}else d=null;else d=l;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+d})}(n.j,n.u,n.A,n.m,n.X,n.s)}function wx(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function Dx(n,e,t){let i,r=!0;for(;!n.I&&n.C<t.length;){if(i=SF(n,t),i==OD){4==e&&(n.o=4,Xr(14),r=!1),Qe(n.j,n.m,null,"[Incomplete Response]");break}if(i==VI){n.o=4,Xr(15),Qe(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Qe(n.j,n.m,i,null),UI(n,i)}wx(n)&&i!=OD&&i!=VI&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Xr(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),JI(e),e.L=!0,Xr(11))):(Qe(n.j,n.m,t,"[Invalid Chunked Response]"),Ef(n),gv(n))}function SF(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?OD:(t=Number(e.substring(t,r)),isNaN(t)?VI:(r+=1)+t>e.length?OD:(e=e.substr(r,t),n.C=r+t,e))}function pv(n){n.Y=Date.now()+n.P,Ex(n,n.P)}function Ex(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=cc(Jr(n.eb,n),e)}function RD(n){n.B&&(Mt.clearTimeout(n.B),n.B=null)}function gv(n){0==n.l.G||n.I||Zx(n.l,n)}function Ef(n){RD(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,y(n.W),z(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function UI(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||HI(t.i,n)))if(t.I=n.N,!n.J&&HI(t.i,n)&&3==t.G){try{var r=t.Ca.g.parse(e)}catch(D){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0])e:if(t.u)t.ta=i[1],0<t.ta-t.U&&37500>i[2]&&t.N&&0==t.A&&!t.v&&(t.v=cc(Jr(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;HD(t),jD(t)}YI(t),Xr(18)}if(1>=Ox(t.i)&&t.ka){try{t.ka()}catch(D){}t.ka=void 0}}else If(t,11)}else if((n.J||t.g==n)&&HD(t),!pf(e))for(i=t.Ca.g.parse(e),e=0;e<i.length;e++){let D=i[e];if(t.U=D[0],D=D[1],2==t.G)if("c"==D[0]){t.J=D[1],t.la=D[2];const I=D[3];null!=I&&(t.ma=I,t.h.info("VER="+t.ma));const M=D[4];null!=M&&(t.za=M,t.h.info("SVER="+t.za));const F=D[5];null!=F&&"number"==typeof F&&0<F&&(t.K=r=1.5*F,t.h.info("backChannelRequestTimeoutMs_="+r)),r=t;const B=n.g;if(B){const Z=B.g?B.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Z){var l=r.i;!l.g&&(Ri(Z,"spdy")||Ri(Z,"quic")||Ri(Z,"h2"))&&(l.j=l.l,l.g=new Set,l.h&&($I(l,l.h),l.h=null))}if(r.D){const se=B.g?B.g.getResponseHeader("X-HTTP-Session-Id"):null;se&&(r.sa=se,Jn(r.F,r.D,se))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var d=n;if((r=t).oa=Jx(r,r.H?r.la:null,r.W),d.J){Rx(r.i,d);var m=d,v=r.K;v&&m.setTimeout(v),m.B&&(RD(m),pv(m)),r.g=d}else qx(r);0<t.l.length&&GD(t)}else"stop"!=D[0]&&"close"!=D[0]||If(t,7);else 3==t.G&&("stop"==D[0]||"close"==D[0]?"stop"==D[0]?If(t,7):ZI(t):"noop"!=D[0]&&t.j&&t.j.wa(D),t.A=0)}uc(4)}catch(D){}}function jI(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Wy(n)||"string"==typeof n)qg(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(Wy(n)||"string"==typeof n){t=[];for(var r=n.length,i=0;i<r;i++)t.push(i)}else for(i in t=[],r=0,n)t[r++]=i;r=function AF(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(Wy(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length;for(var l=0;l<i;l++)e.call(void 0,r[l],t&&t[l],n)}}function im(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var r=0;r<t;r+=2)this.set(arguments[r],arguments[r+1])}else if(n)if(n instanceof im)for(t=n.T(),r=0;r<t.length;r++)this.set(t[r],n.get(t[r]));else for(r in n)this.set(r,n[r])}function GI(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var r=n.g[e];Cf(n.h,r)&&(n.g[t++]=r),e++}n.g.length=t}if(n.i!=n.g.length){var i={};for(t=e=0;e<n.g.length;)Cf(i,r=n.g[e])||(n.g[t++]=r,i[r]=1),e++;n.g.length=t}}function Cf(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(nt=fv.prototype).setTimeout=function(n){this.P=n},nt.gb=function(n){n=n.target;const e=this.L;e&&3==hc(n)?e.l():this.Ia(n)},nt.Ia=function(n){try{if(n==this.g)e:{const I=hc(this.g);var e=this.g.Da();const M=this.g.ba();if(!(3>I)&&(3!=I||Bd||this.g&&(this.h.h||this.g.ga()||jx(this.g)))){this.I||4!=I||7==e||uc(8==e||0>=M?3:2),RD(this);var t=this.g.ba();this.N=t;t:if(wx(this)){var r=jx(this.g);n="";var i=r.length,l=4==hc(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Ef(this),gv(this);var d="";break t}this.h.i=new Mt.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:l&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,d=this.h.g}else d=this.g.ga();if(this.i=200==t,function Ue(n,e,t,r,i,l,d){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+l+" "+d})}(this.j,this.u,this.A,this.m,this.X,I,t),this.i){if(this.$&&!this.J){t:{if(this.g){var m,v=this.g;if((m=v.g?v.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!pf(m)){var D=m;break t}}D=null}if(!(t=D)){this.i=!1,this.o=3,Xr(12),Ef(this),gv(this);break e}Qe(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,UI(this,t)}this.U?(Dx(this,I,d),Bd&&this.i&&3==I&&(U(this.V,this.W,"tick",this.fb),this.W.start())):(Qe(this.j,this.m,d,null),UI(this,d)),4==I&&Ef(this),this.i&&!this.I&&(4==I?Zx(this.l,this):(this.i=!1,pv(this)))}else 400==t&&0<d.indexOf("Unknown SID")?(this.o=3,Xr(12)):(this.o=0,Xr(13)),Ef(this),gv(this)}}}catch(I){}},nt.fb=function(){if(this.g){var n=hc(this.g),e=this.g.ga();this.C<e.length&&(RD(this),Dx(this,n,e),this.i&&4!=n&&pv(this))}},nt.cancel=function(){this.I=!0,Ef(this)},nt.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function Ce(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(uc(3),Xr(17)),Ef(this),this.o=2,gv(this)):Ex(this,this.Y-n)},(nt=im.prototype).R=function(){GI(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},nt.T=function(){return GI(this),this.g.concat()},nt.get=function(n,e){return Cf(this.h,n)?this.h[n]:e},nt.set=function(n,e){Cf(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},nt.forEach=function(n,e){for(var t=this.T(),r=0;r<t.length;r++){var i=t[r],l=this.get(i);n.call(e,l,i,this)}};var Cx=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Tf(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof Tf){this.g=void 0!==e?e:n.g,kD(this,n.j),this.s=n.s,PD(this,n.i),FD(this,n.m),this.l=n.l,e=n.h;var t=new yv;t.i=e.i,e.g&&(t.g=new im(e.g),t.h=e.h),Tx(this,t),this.o=n.o}else n&&(t=String(n).match(Cx))?(this.g=!!e,kD(this,t[1]||"",!0),this.s=mv(t[2]||""),PD(this,t[3]||"",!0),FD(this,t[4]),this.l=mv(t[5]||"",!0),Tx(this,t[6]||"",!0),this.o=mv(t[7]||"")):(this.g=!!e,this.h=new yv(null,this.g))}function dc(n){return new Tf(n)}function kD(n,e,t){n.j=t?mv(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function PD(n,e,t){n.i=t?mv(e,!0):e}function FD(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function Tx(n,e,t){e instanceof yv?(n.h=e,function LF(n,e){e&&!n.j&&(jd(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(Sx(this,r),Nx(this,i,t))},n)),n.j=e}(n.h,n.g)):(t||(e=_v(e,PF)),n.h=new yv(e,n.g))}function Jn(n,e,t){n.h.set(e,t)}function LD(n){return Jn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function mv(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function _v(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,OF),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function OF(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Tf.prototype.toString=function(){var n=[],e=this.j;e&&n.push(_v(e,Ix,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(_v(e,Ix,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(_v(t,"/"==t.charAt(0)?kF:RF,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",_v(t,FF)),n.join("")};var Ix=/[#\/\?@]/g,RF=/[#\?:]/g,kF=/[#\?]/g,PF=/[#\?@]/g,FF=/#/g;function yv(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function jd(n){n.g||(n.g=new im,n.h=0,n.i&&function NF(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var l=n[t].substring(0,r);i=n[t].substring(r+1)}else l=n[t];e(l,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Sx(n,e){jd(n),e=sm(n,e),Cf(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,Cf((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&GI(n)))}function Ax(n,e){return jd(n),e=sm(n,e),Cf(n.g.h,e)}function Nx(n,e,t){Sx(n,e),0<t.length&&(n.i=null,n.g.set(sm(n,e),Jy(t)),n.h+=t.length)}function sm(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function Mx(n){this.l=n||BF,n=Mt.PerformanceNavigationTiming?0<(n=Mt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Mt.g&&Mt.g.Ea&&Mt.g.Ea()&&Mt.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(nt=yv.prototype).add=function(n,e){jd(this),this.i=null,n=sm(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},nt.forEach=function(n,e){jd(this),this.g.forEach(function(t,r){qg(t,function(i){n.call(e,i,r,this)},this)},this)},nt.T=function(){jd(this);for(var n=this.g.R(),e=this.g.T(),t=[],r=0;r<e.length;r++)for(var i=n[r],l=0;l<i.length;l++)t.push(e[r]);return t},nt.R=function(n){jd(this);var e=[];if("string"==typeof n)Ax(this,n)&&(e=Yy(e,this.g.get(sm(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=Yy(e,n[t])}return e},nt.set=function(n,e){return jd(this),this.i=null,Ax(this,n=sm(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},nt.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},nt.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var r=e[t],i=encodeURIComponent(String(r));r=this.R(r);for(var l=0;l<r.length;l++){var d=i;""!==r[l]&&(d+="="+encodeURIComponent(String(r[l]))),n.push(d)}}return this.i=n.join("&")};var BF=10;function xx(n){return!!n.h||!!n.g&&n.g.size>=n.j}function Ox(n){return n.h?1:n.g?n.g.size:0}function HI(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function $I(n,e){n.g?n.g.add(e):n.h=e}function Rx(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function kx(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return Jy(n.i)}function WI(){}function UF(){this.g=new WI}function jF(n,e,t){const r=t||"";try{jI(n,function(i,l){let d=i;Wg(i)&&(d=ND(i)),e.push(r+l+"="+encodeURIComponent(d))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function VD(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(l){}}function vv(n){this.l=n.$b||null,this.j=n.ib||!1}function BD(n,e){Qr.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=qI,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Mx.prototype.cancel=function(){if(this.i=kx(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},WI.prototype.stringify=function(n){return Mt.JSON.stringify(n,void 0)},WI.prototype.parse=function(n){return Mt.JSON.parse(n,void 0)},Ar(vv,Df),vv.prototype.g=function(){return new BD(this.l,this.j)},vv.prototype.i=function(n){return function(){return n}}({}),Ar(BD,Qr);var qI=0;function Px(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function bv(n){n.readyState=4,n.l=null,n.j=null,n.A=null,wv(n)}function wv(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(nt=BD.prototype).open=function(n,e){if(this.readyState!=qI)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,wv(this)},nt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||Mt).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},nt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,bv(this)),this.readyState=qI},nt.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,wv(this)),this.g&&(this.readyState=3,wv(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Mt.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Px(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},nt.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?bv(this):wv(this),3==this.readyState&&Px(this)}},nt.Ua=function(n){this.g&&(this.response=this.responseText=n,bv(this))},nt.Ta=function(n){this.g&&(this.response=n,bv(this))},nt.ha=function(){this.g&&bv(this)},nt.setRequestHeader=function(n,e){this.v.append(n,e)},nt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},nt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(BD.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var HF=Mt.JSON.parse;function Fr(n){Qr.call(this),this.headers=new im,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Fx,this.K=this.L=!1}Ar(Fr,Qr);var Fx="",$F=/^https?$/i,WF=["POST","PUT"];function zF(n){return"content-type"==n.toLowerCase()}function Lx(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,Vx(n),UD(n)}function Vx(n){n.D||(n.D=!0,hi(n,"complete"),hi(n,"error"))}function Bx(n){if(n.h&&void 0!==$a&&(!n.C[1]||4!=hc(n)||2!=n.ba()))if(n.v&&4==hc(n))w(n.Fa,0,n);else if(hi(n,"readystatechange"),4==hc(n)){n.h=!1;try{const m=n.ba();e:switch(m){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===m){var i=String(n.H).match(Cx)[1]||null;if(!i&&Mt.self&&Mt.self.location){var l=Mt.self.location.protocol;i=l.substr(0,l.length-1)}r=!$F.test(i?i.toLowerCase():"")}t=r}if(t)hi(n,"complete"),hi(n,"success");else{n.m=6;try{var d=2<hc(n)?n.g.statusText:""}catch(v){d=""}n.j=d+" ["+n.ba()+"]",Vx(n)}}finally{UD(n)}}}function UD(n,e){if(n.g){Ux(n);const t=n.g,r=n.C[0]?ff:null;n.g=null,n.C=null,e||hi(n,"ready");try{t.onreadystatechange=r}catch(i){}}}function Ux(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Mt.clearTimeout(n.A),n.A=null)}function hc(n){return n.g?n.g.readyState:0}function jx(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case Fx:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function zI(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=function ZF(n){let e="";return tv(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Jn(n,e,t))}function Dv(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function Gx(n){this.za=0,this.l=[],this.h=new me,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Dv("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Dv("baseRetryDelayMs",5e3,n),this.$a=Dv("retryDelaySeedMs",1e4,n),this.Ya=Dv("forwardChannelMaxRetries",2,n),this.ra=Dv("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new Mx(n&&n.concurrentRequestLimit),this.Ca=new UF,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function ZI(n){if(Hx(n),3==n.G){var e=n.V++,t=dc(n.F);Jn(t,"SID",n.J),Jn(t,"RID",e),Jn(t,"TYPE","terminate"),Ev(n,t),(e=new fv(n,n.h,e,void 0)).K=2,e.v=LD(dc(t)),t=!1,Mt.navigator&&Mt.navigator.sendBeacon&&(t=Mt.navigator.sendBeacon(e.v.toString(),"")),!t&&Mt.Image&&((new Image).src=e.v,t=!0),t||(e.g=Qx(e.l,null),e.g.ea(e.v)),e.F=Date.now(),pv(e)}Yx(n)}function jD(n){n.g&&(JI(n),n.g.cancel(),n.g=null)}function Hx(n){jD(n),n.u&&(Mt.clearTimeout(n.u),n.u=null),HD(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Mt.clearTimeout(n.m),n.m=null)}function KI(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&GD(n)}function GD(n){xx(n.i)||n.m||(n.m=!0,MD(n.Ha,n),n.C=0)}function $x(n,e){var t;t=e?e.m:n.V++;const r=dc(n.F);Jn(r,"SID",n.J),Jn(r,"RID",t),Jn(r,"AID",n.U),Ev(n,r),n.o&&n.s&&zI(r,n.o,n.s),t=new fv(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=Wx(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),$I(n.i,t),BI(t,r,e)}function Ev(n,e){n.j&&jI({},function(t,r){Jn(e,r,t)})}function Wx(n,e,t){t=Math.min(n.l.length,t);var r=n.j?Jr(n.j.Oa,n.j,n):null;e:{var i=n.l;let l=-1;for(;;){const d=["count="+t];-1==l?0<t?(l=i[0].h,d.push("ofs="+l)):l=0:d.push("ofs="+l);let m=!0;for(let v=0;v<t;v++){let D=i[v].h;const I=i[v].g;if(D-=l,0>D)l=Math.max(0,i[v].h-100),m=!1;else try{jF(I,d,"req"+D+"_")}catch(M){r&&r(I)}}if(m){r=d.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,r}function qx(n){n.g||n.u||(n.Y=1,MD(n.Ga,n),n.A=0)}function YI(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=cc(Jr(n.Ga,n),Kx(n,n.A)),n.A++,0))}function JI(n){null!=n.B&&(Mt.clearTimeout(n.B),n.B=null)}function zx(n){n.g=new fv(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=dc(n.oa);Jn(e,"RID","rpc"),Jn(e,"SID",n.J),Jn(e,"CI",n.N?"0":"1"),Jn(e,"AID",n.U),Ev(n,e),Jn(e,"TYPE","xmlhttp"),n.o&&n.s&&zI(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=LD(dc(e)),t.s=null,t.U=!0,bx(t,n)}function HD(n){null!=n.v&&(Mt.clearTimeout(n.v),n.v=null)}function Zx(n,e){var t=null;if(n.g==e){HD(n),JI(n),n.g=null;var r=2}else{if(!HI(n.i,e))return;t=e.D,Rx(n.i,e),r=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var i=n.C;hi(r=fi(),new tm(r,t,e,i)),GD(n)}else qx(n);else if(3==(i=e.o)||0==i&&0<n.I||!(1==r&&function KF(n,e){return!(Ox(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=cc(Jr(n.Ha,n,e),Kx(n,n.C)),n.C++,0)))}(n,e)||2==r&&YI(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:If(n,5);break;case 4:If(n,10);break;case 3:If(n,6);break;default:If(n,2)}}function Kx(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function If(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var r=Jr(n.jb,n);t||(t=new Tf("//www.google.com/images/cleardot.gif"),Mt.location&&"http"==Mt.location.protocol||kD(t,"https"),LD(t)),function GF(n,e){const t=new me;if(Mt.Image){const r=new Image;r.onload=zy(VD,t,r,"TestLoadImage: loaded",!0,e),r.onerror=zy(VD,t,r,"TestLoadImage: error",!1,e),r.onabort=zy(VD,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=zy(VD,t,r,"TestLoadImage: timeout",!1,e),Mt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Xr(2);n.G=0,n.j&&n.j.va(e),Yx(n),Hx(n)}function Yx(n){n.G=0,n.I=-1,n.j&&((0!=kx(n.i).length||0!=n.l.length)&&(n.i.i.length=0,Jy(n.l),n.l.length=0),n.j.ua())}function Jx(n,e,t){let r=function MF(n){return n instanceof Tf?dc(n):new Tf(n,void 0)}(t);if(""!=r.i)e&&PD(r,e+"."+r.i),FD(r,r.m);else{const i=Mt.location;r=function xF(n,e,t,r){var i=new Tf(null,void 0);return n&&kD(i,n),e&&PD(i,e),t&&FD(i,t),r&&(i.l=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,t)}return n.aa&&tv(n.aa,function(i,l){Jn(r,l,i)}),t=n.sa,(e=n.D)&&t&&Jn(r,e,t),Jn(r,"VER",n.ma),Ev(n,r),r}function Qx(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Fr(t&&n.Ba&&!n.qa?new vv({ib:!0}):n.qa)).L=n.H,e}function Xx(){}function $D(){if(gf&&!(10<=Number(dx)))throw Error("Environmental error: no available transport.")}function So(n,e){Qr.call(this),this.g=new Gx(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!pf(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!pf(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new om(this)}function eO(n){PI.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function tO(){FI.call(this),this.status=1}function om(n){this.g=n}(nt=Fr.prototype).ea=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():LI.g(),this.C=function rm(n){return n.h||(n.h=n.i())}(this.u?this.u:LI),this.g.onreadystatechange=Jr(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(l){return void Lx(this,l)}n=t||"";const i=new im(this.headers);r&&jI(r,function(l,d){i.set(d,l)}),r=function Ky(n){e:{var e=zF;const t=n.length,r="string"==typeof n?n.split(""):n;for(let i=0;i<t;i++)if(i in r&&e.call(void 0,r[i],i,n)){e=i;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(i.T()),t=Mt.FormData&&n instanceof Mt.FormData,!(0<=Zy(WF,e))||r||t||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(l,d){this.g.setRequestHeader(d,l)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Ux(this),0<this.B&&((this.K=function qF(n){return gf&&function rv(){return function ux(n){var e=MI;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=Qy(String(ia)).split("."),t=Qy("9").split("."),r=Math.max(e.length,t.length);for(let d=0;0==n&&d<r;d++){var i=e[d]||"",l=t[d]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],0==i[0].length&&0==l[0].length)break;n=Xy(0==i[1].length?0:parseInt(i[1],10),0==l[1].length?0:parseInt(l[1],10))||Xy(0==i[2].length,0==l[2].length)||Xy(i[2],l[2]),i=i[3],l=l[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Jr(this.pa,this)):this.A=w(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(l){Lx(this,l)}},nt.pa=function(){void 0!==$a&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,hi(this,"timeout"),this.abort(8))},nt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,hi(this,"complete"),hi(this,"abort"),UD(this))},nt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),UD(this,!0)),Fr.Z.M.call(this)},nt.Fa=function(){this.s||(this.F||this.v||this.l?Bx(this):this.cb())},nt.cb=function(){Bx(this)},nt.ba=function(){try{return 2<hc(this)?this.g.status:-1}catch(n){return-1}},nt.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},nt.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),HF(e)}},nt.Da=function(){return this.m},nt.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(nt=Gx.prototype).ma=8,nt.G=1,nt.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(e){}},nt.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const i=new fv(this,this.h,n,void 0);let l=this.s;if(this.P&&(l?(l=wD(l),AI(l,this.P)):l=this.P),null===this.o&&(i.H=l),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var r=this.l[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Wx(this,i,e),Jn(t=dc(this.F),"RID",n),Jn(t,"CVER",22),this.D&&Jn(t,"X-HTTP-Session-Id",this.D),Ev(this,t),this.o&&l&&zI(t,this.o,l),$I(this.i,i),this.Ra&&Jn(t,"TYPE","init"),this.ja?(Jn(t,"$req",e),Jn(t,"SID","null"),i.$=!0,BI(i,t,null)):BI(i,t,e),this.G=2}}else 3==this.G&&(n?$x(this,n):0==this.l.length||xx(this.i)||$x(this))},nt.Ga=function(){if(this.u=null,zx(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=cc(Jr(this.bb,this),n)}},nt.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Xr(10),jD(this),zx(this))},nt.ab=function(){null!=this.v&&(this.v=null,jD(this),YI(this),Xr(19))},nt.jb=function(n){n?(this.h.info("Successfully pinged google.com"),Xr(2)):(this.h.info("Failed to ping google.com"),Xr(1))},(nt=Xx.prototype).xa=function(){},nt.wa=function(){},nt.va=function(){},nt.ua=function(){},nt.Oa=function(){},$D.prototype.g=function(n,e){return new So(n,e)},Ar(So,Qr),So.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),MD(Jr(n.hb,n,e))),Xr(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=Jx(n,null,n.W),GD(n)},So.prototype.close=function(){ZI(this.g)},So.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,KI(this.g,e)}else this.v?((e={}).__data__=ND(n),KI(this.g,e)):KI(this.g,n)},So.prototype.M=function(){this.g.j=null,delete this.j,ZI(this.g),delete this.g,So.Z.M.call(this)},Ar(eO,PI),Ar(tO,FI),Ar(om,Xx),om.prototype.xa=function(){hi(this.g,"a")},om.prototype.wa=function(n){hi(this.g,new eO(n))},om.prototype.va=function(n){hi(this.g,new tO(n))},om.prototype.ua=function(){hi(this.g,"b")},$D.prototype.createWebChannel=$D.prototype.g,So.prototype.send=So.prototype.u,So.prototype.open=So.prototype.m,So.prototype.close=So.prototype.close,Ud.NO_ERROR=0,Ud.TIMEOUT=8,Ud.HTTP_ERROR=6,nm.COMPLETE="complete",yx.EventType=hv,hv.OPEN="a",hv.CLOSE="b",hv.ERROR="c",hv.MESSAGE="d",Qr.prototype.listen=Qr.prototype.N,Fr.prototype.listenOnce=Fr.prototype.O,Fr.prototype.getLastError=Fr.prototype.La,Fr.prototype.getLastErrorCode=Fr.prototype.Da,Fr.prototype.getStatus=Fr.prototype.ba,Fr.prototype.getResponseJson=Fr.prototype.Qa,Fr.prototype.getResponseText=Fr.prototype.ga,Fr.prototype.send=Fr.prototype.ea;var YF=Ha.createWebChannelTransport=function(){return new $D},JF=Ha.getStatEventTarget=function(){return fi()},QI=Ha.ErrorCode=Ud,QF=Ha.EventType=nm,XF=Ha.Event=Pt,nO=Ha.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},eL=Ha.FetchXmlHttpFactory=vv,WD=Ha.WebChannel=yx,tL=Ha.XhrIo=Fr;const rO="@firebase/firestore";class Pi{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Pi.UNAUTHENTICATED=new Pi(null),Pi.GOOGLE_CREDENTIALS=new Pi("google-credentials-uid"),Pi.FIRST_PARTY=new Pi("first-party-uid"),Pi.MOCK_USER=new Pi("mock-user");let am="9.6.11";const Gd=new Ga.Yd("@firebase/firestore");function XI(){return Gd.logLevel}function Pe(n,...e){if(Gd.logLevel<=Ga.in.DEBUG){const t=e.map(eS);Gd.debug(`Firestore (${am}): ${n}`,...t)}}function Lr(n,...e){if(Gd.logLevel<=Ga.in.ERROR){const t=e.map(eS);Gd.error(`Firestore (${am}): ${n}`,...t)}}function Cv(n,...e){if(Gd.logLevel<=Ga.in.WARN){const t=e.map(eS);Gd.warn(`Firestore (${am}): ${n}`,...t)}}function eS(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function lt(n="Unexpected state"){const e=`FIRESTORE (${am}) INTERNAL ASSERTION FAILED: `+n;throw Lr(e),new Error(e)}function xt(n,e){n||lt()}function Ze(n,e){return n}const ce={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ae extends Kt.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class pi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class iO{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class iL{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Pi.UNAUTHENTICATED))}shutdown(){}}class sL{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class oL{constructor(e){this.t=e,this.currentUser=Pi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const l=D=>this.i!==i?(i=this.i,t(D)):Promise.resolve();let d=new pi;this.o=()=>{this.i++,this.currentUser=this.u(),d.resolve(),d=new pi,e.enqueueRetryable(()=>l(this.currentUser))};const m=()=>{const D=d;e.enqueueRetryable((0,ye.Z)(function*(){yield D.promise,yield l(r.currentUser)}))},v=D=>{Pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=D,this.auth.addAuthTokenListener(this.o),m()};this.t.onInit(D=>v(D)),setTimeout(()=>{if(!this.auth){const D=this.t.getImmediate({optional:!0});D?v(D):(Pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),d.resolve(),d=new pi)}},0),m()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(xt("string"==typeof r.accessToken),new iO(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return xt(null===e||"string"==typeof e),new Pi(e)}}class aL{constructor(e,t,r){this.type="FirstParty",this.user=Pi.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const i=e.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class lL{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new aL(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Pi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class sO{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class uL{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const r=l=>{null!=l.error&&Pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const d=l.token!==this.p;return this.p=l.token,Pe("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>r(l))};const i=l=>{Pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.appCheck.addTokenListener(this.o)};this.g.onInit(l=>i(l)),setTimeout(()=>{if(!this.appCheck){const l=this.g.getImmediate({optional:!0});l?i(l):Pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(xt("string"==typeof t.token),this.p=t.token,new sO(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class Ao{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.I(r),this.T=r=>t.writeSequenceNumber(r))}I(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function cL(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}Ao.A=-1;class oO{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=cL(40);for(let l=0;l<i.length;++l)r.length<20&&i[l]<t&&(r+=e.charAt(i[l]%e.length))}return r}}function jt(n,e){return n<e?-1:n>e?1:0}function lm(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function aO(n){return n+"\0"}class Nr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ae(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ae(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Ae(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ae(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Nr.fromMillis(Date.now())}static fromDate(e){return Nr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Nr(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?jt(this.nanoseconds,e.nanoseconds):jt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class At{constructor(e){this.timestamp=e}static fromTimestamp(e){return new At(e)}static min(){return new At(new Nr(0,0))}static max(){return new At(new Nr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function lO(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Sf(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function uO(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class Tv{constructor(e,t,r){void 0===t?t=0:t>e.length&&lt(),void 0===r?r=e.length-t:r>e.length-t&&lt(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===Tv.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Tv?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const l=e.get(i),d=t.get(i);if(l<d)return-1;if(l>d)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class cn extends Tv{construct(e,t,r){return new cn(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ae(ce.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new cn(t)}static emptyPath(){return new cn([])}}const dL=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class gi extends Tv{construct(e,t,r){return new gi(e,t,r)}static isValidIdentifier(e){return dL.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),gi.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new gi(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const l=()=>{if(0===r.length)throw new Ae(ce.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let d=!1;for(;i<e.length;){const m=e[i];if("\\"===m){if(i+1===e.length)throw new Ae(ce.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[i+1];if("\\"!==v&&"."!==v&&"`"!==v)throw new Ae(ce.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=v,i+=2}else"`"===m?(d=!d,i++):"."!==m||d?(r+=m,i++):(l(),i++)}if(l(),d)throw new Ae(ce.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new gi(t)}static emptyPath(){return new gi([])}}class um{constructor(e){this.fields=e,e.sort(gi.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return lm(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class ei{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new ei(t)}static fromUint8Array(e){const t=function(r){let i="";for(let l=0;l<r.length;++l)i+=String.fromCharCode(r[l]);return i}(e);return new ei(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return jt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ei.EMPTY_BYTE_STRING=new ei("");const fL=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Hd(n){if(xt(!!n),"string"==typeof n){let e=0;const t=fL.exec(n);if(xt(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:_r(n.seconds),nanos:_r(n.nanos)}}function _r(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Af(n){return"string"==typeof n?ei.fromBase64String(n):ei.fromUint8Array(n)}function tS(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function cO(n){const e=n.mapValue.fields.__previous_value__;return tS(e)?cO(e):e}function Iv(n){const e=Hd(n.mapValue.fields.__local_write_time__.timestampValue);return new Nr(e.seconds,e.nanos)}class pL{constructor(e,t,r,i,l,d,m,v){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=l,this.forceLongPolling=d,this.autoDetectLongPolling=m,this.useFetchStreams=v}}class fc{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new fc("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof fc&&e.projectId===this.projectId&&e.database===this.database}}function Nf(n){return null==n}function Sv(n){return 0===n&&1/n==-1/0}function dO(n){return"number"==typeof n&&Number.isInteger(n)&&!Sv(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class Ge{constructor(e){this.path=e}static fromPath(e){return new Ge(cn.fromString(e))}static fromName(e){return new Ge(cn.fromString(e).popFirst(5))}static empty(){return new Ge(cn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===cn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return cn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ge(new cn(e.slice()))}}const hO={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},fO={nullValue:"NULL_VALUE"};function Mf(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?tS(n)?4:_O(n)?9:10:lt()}function tu(n,e){if(n===e)return!0;const t=Mf(n);if(t!==Mf(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Iv(n).isEqual(Iv(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const l=Hd(r.timestampValue),d=Hd(i.timestampValue);return l.seconds===d.seconds&&l.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,Af(n.bytesValue).isEqual(Af(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return _r(r.geoPointValue.latitude)===_r(i.geoPointValue.latitude)&&_r(r.geoPointValue.longitude)===_r(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return _r(r.integerValue)===_r(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const l=_r(r.doubleValue),d=_r(i.doubleValue);return l===d?Sv(l)===Sv(d):isNaN(l)&&isNaN(d)}return!1}(n,e);case 9:return lm(n.arrayValue.values||[],e.arrayValue.values||[],tu);case 10:return function(r,i){const l=r.mapValue.fields||{},d=i.mapValue.fields||{};if(lO(l)!==lO(d))return!1;for(const m in l)if(l.hasOwnProperty(m)&&(void 0===d[m]||!tu(l[m],d[m])))return!1;return!0}(n,e);default:return lt()}var i}function Av(n,e){return void 0!==(n.values||[]).find(t=>tu(t,e))}function $d(n,e){if(n===e)return 0;const t=Mf(n),r=Mf(e);if(t!==r)return jt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return jt(n.booleanValue,e.booleanValue);case 2:return function(i,l){const d=_r(i.integerValue||i.doubleValue),m=_r(l.integerValue||l.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1}(n,e);case 3:return pO(n.timestampValue,e.timestampValue);case 4:return pO(Iv(n),Iv(e));case 5:return jt(n.stringValue,e.stringValue);case 6:return function(i,l){const d=Af(i),m=Af(l);return d.compareTo(m)}(n.bytesValue,e.bytesValue);case 7:return function(i,l){const d=i.split("/"),m=l.split("/");for(let v=0;v<d.length&&v<m.length;v++){const D=jt(d[v],m[v]);if(0!==D)return D}return jt(d.length,m.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,l){const d=jt(_r(i.latitude),_r(l.latitude));return 0!==d?d:jt(_r(i.longitude),_r(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,l){const d=i.values||[],m=l.values||[];for(let v=0;v<d.length&&v<m.length;++v){const D=$d(d[v],m[v]);if(D)return D}return jt(d.length,m.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,l){const d=i.fields||{},m=Object.keys(d),v=l.fields||{},D=Object.keys(v);m.sort(),D.sort();for(let I=0;I<m.length&&I<D.length;++I){const M=jt(m[I],D[I]);if(0!==M)return M;const F=$d(d[m[I]],v[D[I]]);if(0!==F)return F}return jt(m.length,D.length)}(n.mapValue,e.mapValue);default:throw lt()}}function pO(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return jt(n,e);const t=Hd(n),r=Hd(e),i=jt(t.seconds,r.seconds);return 0!==i?i:jt(t.nanos,r.nanos)}function cm(n){return nS(n)}function nS(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=Hd(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Af(n.bytesValue).toBase64():"referenceValue"in n?Ge.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",l=!0;for(const d of r.values||[])l?l=!1:i+=",",i+=nS(d);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let l="{",d=!0;for(const m of i)d?d=!1:l+=",",l+=`${m}:${nS(r.fields[m])}`;return l+"}"}(n.mapValue):lt();var e}function xf(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function rS(n){return!!n&&"integerValue"in n}function Nv(n){return!!n&&"arrayValue"in n}function gO(n){return!!n&&"nullValue"in n}function mO(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function qD(n){return!!n&&"mapValue"in n}function Mv(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Sf(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Mv(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Mv(n.arrayValue.values[t]);return e}return Object.assign({},n)}function _O(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function gL(n){return"nullValue"in n?fO:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?xf(fc.empty(),Ge.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:lt()}function mL(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?xf(fc.empty(),Ge.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?hO:lt()}function yO(n,e){return void 0===n?e:void 0===e||$d(n,e)>0?n:e}function vO(n,e){return void 0===n?e:void 0===e||$d(n,e)<0?n:e}class es{constructor(e){this.value=e}static empty(){return new es({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!qD(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Mv(t)}setAll(e){let t=gi.emptyPath(),r={},i=[];e.forEach((d,m)=>{if(!t.isImmediateParentOf(m)){const v=this.getFieldsMap(t);this.applyChanges(v,r,i),r={},i=[],t=m.popLast()}d?r[m.lastSegment()]=Mv(d):i.push(m.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,r,i)}delete(e){const t=this.field(e.popLast());qD(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return tu(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];qD(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Sf(t,(i,l)=>e[i]=l);for(const i of r)delete e[i]}clone(){return new es(Mv(this.value))}}function bO(n){const e=[];return Sf(n.fields,(t,r)=>{const i=new gi([t]);if(qD(r)){const l=bO(r.mapValue).fields;if(0===l.length)e.push(i);else for(const d of l)e.push(i.child(d))}else e.push(i)}),new um(e)}class Gn{constructor(e,t,r,i,l,d){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.data=l,this.documentState=d}static newInvalidDocument(e){return new Gn(e,0,At.min(),At.min(),es.empty(),0)}static newFoundDocument(e,t,r){return new Gn(e,1,t,At.min(),r,0)}static newNoDocument(e,t){return new Gn(e,2,t,At.min(),es.empty(),0)}static newUnknownDocument(e,t){return new Gn(e,3,t,At.min(),es.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=es.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=es.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Gn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Gn(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class zD{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function iS(n){return n.fields.find(e=>2===e.kind)}function Of(n){return n.fields.filter(e=>2!==e.kind)}zD.UNKNOWN_ID=-1;class ZD{constructor(e,t){this.fieldPath=e,this.kind=t}}class xv{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new xv(0,pc.min())}}function wO(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=At.fromTimestamp(1e9===r?new Nr(t+1,0):new Nr(t,r));return new pc(i,Ge.empty(),e)}function _L(n){return new pc(n.readTime,n.key,-1)}class pc{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new pc(At.min(),Ge.empty(),-1)}static max(){return new pc(At.max(),Ge.empty(),-1)}}function yL(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=Ge.comparator(n.documentKey,e.documentKey),0!==t?t:jt(n.largestBatchId,e.largestBatchId))}class vL{constructor(e,t=null,r=[],i=[],l=null,d=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=l,this.startAt=d,this.endAt=m,this.P=null}}function DO(n,e=null,t=[],r=[],i=null,l=null,d=null){return new vL(n,e,t,r,i,l,d)}function Rf(n){const e=Ze(n);if(null===e.P){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>{return(i=r).field.canonicalString()+i.op.toString()+cm(i.value);var i}).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),Nf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>cm(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>cm(r)).join(",")),e.P=t}return e.P}function Ov(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<n.orderBy.length;i++)if(!AL(n.orderBy[i],e.orderBy[i]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let i=0;i<n.filters.length;i++)if((t=n.filters[i]).op!==(r=e.filters[i]).op||!t.field.isEqual(r.field)||!tu(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!SO(n.startAt,e.startAt)&&SO(n.endAt,e.endAt)}function KD(n){return Ge.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function YD(n,e){return n.filters.filter(t=>t instanceof Fi&&t.field.isEqual(e))}function EO(n,e,t){let r,i=!0;for(const l of YD(n,e)){let d,m=!0;switch(l.op){case"<":case"<=":d=gL(l.value);break;case"==":case"in":case">=":d=l.value;break;case">":d=l.value,m=!1;break;case"!=":case"not-in":d=fO}yO(r,d)===d&&(r=d,i=m)}if(null!==t)for(let l=0;l<n.orderBy.length;++l)if(n.orderBy[l].field.isEqual(e)){const d=t.position[l];yO(r,d)===d&&(r=d,i=t.inclusive);break}return{value:r,inclusive:i}}function CO(n,e,t){let r,i=!0;for(const l of YD(n,e)){let d,m=!0;switch(l.op){case">=":case">":d=mL(l.value),m=!1;break;case"==":case"in":case"<=":d=l.value;break;case"<":d=l.value,m=!1;break;case"!=":case"not-in":d=hO}vO(r,d)===d&&(r=d,i=m)}if(null!==t)for(let l=0;l<n.orderBy.length;++l)if(n.orderBy[l].field.isEqual(e)){const d=t.position[l];vO(r,d)===d&&(r=d,i=t.inclusive);break}return{value:r,inclusive:i}}class Fi extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.V(e,t,r):new wL(e,t,r):"array-contains"===t?new CL(e,r):"in"===t?new TL(e,r):"not-in"===t?new IL(e,r):"array-contains-any"===t?new SL(e,r):new Fi(e,t,r)}static V(e,t,r){return"in"===t?new DL(e,r):new EL(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v($d(t,this.value)):null!==t&&Mf(this.value)===Mf(t)&&this.v($d(t,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return lt()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class wL extends Fi{constructor(e,t,r){super(e,t,r),this.key=Ge.fromName(r.referenceValue)}matches(e){const t=Ge.comparator(e.key,this.key);return this.v(t)}}class DL extends Fi{constructor(e,t){super(e,"in",t),this.keys=TO(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class EL extends Fi{constructor(e,t){super(e,"not-in",t),this.keys=TO(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function TO(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>Ge.fromName(r.referenceValue))}class CL extends Fi{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Nv(t)&&Av(t.arrayValue,this.value)}}class TL extends Fi{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Av(this.value.arrayValue,t)}}class IL extends Fi{constructor(e,t){super(e,"not-in",t)}matches(e){if(Av(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Av(this.value.arrayValue,t)}}class SL extends Fi{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Nv(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Av(this.value.arrayValue,r))}}class Wd{constructor(e,t){this.position=e,this.inclusive=t}}class dm{constructor(e,t="asc"){this.field=e,this.dir=t}}function AL(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function IO(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const l=e[i],d=n.position[i];if(r=l.field.isKeyField()?Ge.comparator(Ge.fromName(d.referenceValue),t.key):$d(d,t.data.field(l.field)),"desc"===l.dir&&(r*=-1),0!==r)break}return r}function SO(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!tu(n.position[t],e.position[t]))return!1;return!0}class gc{constructor(e,t=null,r=[],i=[],l=null,d="F",m=null,v=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=l,this.limitType=d,this.startAt=m,this.endAt=v,this.D=null,this.C=null}}function AO(n,e,t,r,i,l,d,m){return new gc(n,e,t,r,i,l,d,m)}function hm(n){return new gc(n)}function JD(n){return!Nf(n.limit)&&"F"===n.limitType}function QD(n){return!Nf(n.limit)&&"L"===n.limitType}function sS(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function oS(n){for(const e of n.filters)if(e.S())return e.field;return null}function aS(n){return null!==n.collectionGroup}function fm(n){const e=Ze(n);if(null===e.D){e.D=[];const t=oS(e),r=sS(e);if(null!==t&&null===r)t.isKeyField()||e.D.push(new dm(t)),e.D.push(new dm(gi.keyField(),"asc"));else{let i=!1;for(const l of e.explicitOrderBy)e.D.push(l),l.field.isKeyField()&&(i=!0);if(!i){const l=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.D.push(new dm(gi.keyField(),l))}}}return e.D}function sa(n){const e=Ze(n);if(!e.C)if("F"===e.limitType)e.C=DO(e.path,e.collectionGroup,fm(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const l of fm(e))t.push(new dm(l.field,"desc"===l.dir?"asc":"desc"));const r=e.endAt?new Wd(e.endAt.position,!e.endAt.inclusive):null,i=e.startAt?new Wd(e.startAt.position,!e.startAt.inclusive):null;e.C=DO(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e.C}function NO(n,e,t){return new gc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Rv(n,e){return Ov(sa(n),sa(e))&&n.limitType===e.limitType}function MO(n){return`${Rf(sa(n))}|lt:${n.limitType}`}function lS(n){return`Query(target=${function bL(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${cm(r.value)}`;var r}).join(", ")}]`),Nf(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>cm(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>cm(t)).join(",")),`Target(${e})`}(sa(n))}; limitType=${n.limitType})`}function uS(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):Ge.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of t.explicitOrderBy)if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,l,d){const m=IO(i,l,d);return i.inclusive?m<=0:m<0}(t.startAt,fm(t),r)||t.endAt&&!function(i,l,d){const m=IO(i,l,d);return i.inclusive?m>=0:m>0}(t.endAt,fm(t),r)));var t,r}function xO(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function OO(n){return(e,t)=>{let r=!1;for(const i of fm(n)){const l=NL(i,e,t);if(0!==l)return l;r=r||i.field.isKeyField()}return 0}}function NL(n,e,t){const r=n.field.isKeyField()?Ge.comparator(e.key,t.key):function(i,l,d){const m=l.data.field(i),v=d.data.field(i);return null!==m&&null!==v?$d(m,v):lt()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return lt()}}function RO(n,e){if(n.N){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Sv(e)?"-0":e}}function kO(n){return{integerValue:""+n}}function PO(n,e){return dO(e)?kO(e):RO(n,e)}class XD{constructor(){this._=void 0}}function ML(n,e,t){return n instanceof pm?function(r,i){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(l.fields.__previous_value__=i),{mapValue:l}}(t,e):n instanceof kf?LO(n,e):n instanceof Pf?VO(n,e):function(r,i){const l=FO(r,i),d=BO(l)+BO(r.k);return rS(l)&&rS(r.k)?kO(d):RO(r.M,d)}(n,e)}function xL(n,e,t){return n instanceof kf?LO(n,e):n instanceof Pf?VO(n,e):t}function FO(n,e){return n instanceof gm?rS(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class pm extends XD{}class kf extends XD{constructor(e){super(),this.elements=e}}function LO(n,e){const t=UO(e);for(const r of n.elements)t.some(i=>tu(i,r))||t.push(r);return{arrayValue:{values:t}}}class Pf extends XD{constructor(e){super(),this.elements=e}}function VO(n,e){let t=UO(e);for(const r of n.elements)t=t.filter(i=>!tu(i,r));return{arrayValue:{values:t}}}class gm extends XD{constructor(e,t){super(),this.M=e,this.k=t}}function BO(n){return _r(n.integerValue||n.doubleValue)}function UO(n){return Nv(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class kv{constructor(e,t){this.field=e,this.transform=t}}class RL{constructor(e,t){this.version=e,this.transformResults=t}}class Vr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Vr}static exists(e){return new Vr(void 0,e)}static updateTime(e){return new Vr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function e1(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class t1{}function kL(n,e,t){n instanceof Pv?function(r,i,l){const d=r.value.clone(),m=$O(r.fieldTransforms,i,l.transformResults);d.setAll(m),i.convertToFoundDocument(l.version,d).setHasCommittedMutations()}(n,e,t):n instanceof Ff?function(r,i,l){if(!e1(r.precondition,i))return void i.convertToUnknownDocument(l.version);const d=$O(r.fieldTransforms,i,l.transformResults),m=i.data;m.setAll(HO(r)),m.setAll(d),i.convertToFoundDocument(l.version,m).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function cS(n,e,t){var i;n instanceof Pv?function(r,i,l){if(!e1(r.precondition,i))return;const d=r.value.clone(),m=WO(r.fieldTransforms,l,i);d.setAll(m),i.convertToFoundDocument(GO(i),d).setHasLocalMutations()}(n,e,t):n instanceof Ff?function(r,i,l){if(!e1(r.precondition,i))return;const d=WO(r.fieldTransforms,l,i),m=i.data;m.setAll(HO(r)),m.setAll(d),i.convertToFoundDocument(GO(i),m).setHasLocalMutations()}(n,e,t):e1(n.precondition,i=e)&&i.convertToNoDocument(At.min())}function PL(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),l=FO(r.transform,i||null);null!=l&&(null==t&&(t=es.empty()),t.set(r.field,l))}return t||null}function jO(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&lm(t,r,(i,l)=>function OL(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof kf&&r instanceof kf||t instanceof Pf&&r instanceof Pf?lm(t.elements,r.elements,tu):t instanceof gm&&r instanceof gm?tu(t.k,r.k):t instanceof pm&&r instanceof pm);var t,r}(i,l))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}function GO(n){return n.isFoundDocument()?n.version:At.min()}class Pv extends t1{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}}class Ff extends t1{constructor(e,t,r,i,l=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=l,this.type=1}}function HO(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function $O(n,e,t){const r=new Map;xt(n.length===t.length);for(let i=0;i<t.length;i++){const l=n[i],d=l.transform,m=e.data.field(l.field);r.set(l.field,xL(d,m,t[i]))}return r}function WO(n,e,t){const r=new Map;for(const i of n){const l=i.transform,d=t.data.field(i.field);r.set(i.field,ML(l,d,e))}return r}class Fv extends t1{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class dS extends t1{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class FL{constructor(e){this.count=e}}var Br,dn;function qO(n){switch(n){default:return lt();case ce.CANCELLED:case ce.UNKNOWN:case ce.DEADLINE_EXCEEDED:case ce.RESOURCE_EXHAUSTED:case ce.INTERNAL:case ce.UNAVAILABLE:case ce.UNAUTHENTICATED:return!1;case ce.INVALID_ARGUMENT:case ce.NOT_FOUND:case ce.ALREADY_EXISTS:case ce.PERMISSION_DENIED:case ce.FAILED_PRECONDITION:case ce.ABORTED:case ce.OUT_OF_RANGE:case ce.UNIMPLEMENTED:case ce.DATA_LOSS:return!0}}function zO(n){if(void 0===n)return Lr("GRPC error has no .code"),ce.UNKNOWN;switch(n){case Br.OK:return ce.OK;case Br.CANCELLED:return ce.CANCELLED;case Br.UNKNOWN:return ce.UNKNOWN;case Br.DEADLINE_EXCEEDED:return ce.DEADLINE_EXCEEDED;case Br.RESOURCE_EXHAUSTED:return ce.RESOURCE_EXHAUSTED;case Br.INTERNAL:return ce.INTERNAL;case Br.UNAVAILABLE:return ce.UNAVAILABLE;case Br.UNAUTHENTICATED:return ce.UNAUTHENTICATED;case Br.INVALID_ARGUMENT:return ce.INVALID_ARGUMENT;case Br.NOT_FOUND:return ce.NOT_FOUND;case Br.ALREADY_EXISTS:return ce.ALREADY_EXISTS;case Br.PERMISSION_DENIED:return ce.PERMISSION_DENIED;case Br.FAILED_PRECONDITION:return ce.FAILED_PRECONDITION;case Br.ABORTED:return ce.ABORTED;case Br.OUT_OF_RANGE:return ce.OUT_OF_RANGE;case Br.UNIMPLEMENTED:return ce.UNIMPLEMENTED;case Br.DATA_LOSS:return ce.DATA_LOSS;default:return lt()}}(dn=Br||(Br={}))[dn.OK=0]="OK",dn[dn.CANCELLED=1]="CANCELLED",dn[dn.UNKNOWN=2]="UNKNOWN",dn[dn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",dn[dn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",dn[dn.NOT_FOUND=5]="NOT_FOUND",dn[dn.ALREADY_EXISTS=6]="ALREADY_EXISTS",dn[dn.PERMISSION_DENIED=7]="PERMISSION_DENIED",dn[dn.UNAUTHENTICATED=16]="UNAUTHENTICATED",dn[dn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",dn[dn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",dn[dn.ABORTED=10]="ABORTED",dn[dn.OUT_OF_RANGE=11]="OUT_OF_RANGE",dn[dn.UNIMPLEMENTED=12]="UNIMPLEMENTED",dn[dn.INTERNAL=13]="INTERNAL",dn[dn.UNAVAILABLE=14]="UNAVAILABLE",dn[dn.DATA_LOSS=15]="DATA_LOSS";class qd{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,l]of r)if(this.equalsFn(i,e))return l}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let l=0;l<i.length;l++)if(this.equalsFn(i[l][0],e))return void(i[l]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Sf(this.inner,(t,r)=>{for(const[i,l]of r)e(i,l)})}isEmpty(){return uO(this.inner)}size(){return this.innerSize}}class Mr{constructor(e,t){this.comparator=e,this.root=t||Li.EMPTY}insert(e,t){return new Mr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Li.BLACK,null,null))}remove(e){return new Mr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Li.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new n1(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new n1(this.root,e,this.comparator,!1)}getReverseIterator(){return new n1(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new n1(this.root,e,this.comparator,!0)}}class n1{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?r(e.key,t):1,t&&i&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(0===l){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Li{constructor(e,t,r,i,l){this.key=e,this.value=t,this.color=null!=r?r:Li.RED,this.left=null!=i?i:Li.EMPTY,this.right=null!=l?l:Li.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,l){return new Li(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=l?l:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const l=r(e,i.key);return i=l<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===l?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Li.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return Li.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Li.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Li.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw lt();const e=this.left.check();if(e!==this.right.check())throw lt();return e+(this.isRed()?0:1)}}Li.EMPTY=null,Li.RED=!0,Li.BLACK=!1,Li.EMPTY=new class{constructor(){this.size=0}get key(){throw lt()}get value(){throw lt()}get color(){throw lt()}get left(){throw lt()}get right(){throw lt()}copy(n,e,t,r,i){return this}insert(n,e,t){return new Li(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Hn{constructor(e){this.comparator=e,this.data=new Mr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new ZO(this.data.getIterator())}getIteratorFrom(e){return new ZO(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Hn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,l=r.getNext().key;if(0!==this.comparator(i,l))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Hn(this.comparator);return t.data=e,t}}class ZO{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function mm(n){return n.hasNext()?n.getNext():void 0}const LL=new Mr(Ge.comparator);function oa(){return LL}const VL=new Mr(Ge.comparator);function hS(){return VL}function Lv(){return new qd(n=>n.toString(),(n,e)=>n.isEqual(e))}const BL=new Mr(Ge.comparator),UL=new Hn(Ge.comparator);function Dn(...n){let e=UL;for(const t of n)e=e.add(t);return e}const jL=new Hn(jt);function r1(){return jL}class Vv{constructor(e,t,r,i,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t){const r=new Map;return r.set(e,Bv.createSynthesizedTargetChangeForCurrentChange(e,t)),new Vv(At.min(),r,r1(),oa(),Dn())}}class Bv{constructor(e,t,r,i,l){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t){return new Bv(ei.EMPTY_BYTE_STRING,t,Dn(),Dn(),Dn())}}class i1{constructor(e,t,r,i){this.O=e,this.removedTargetIds=t,this.key=r,this.F=i}}class KO{constructor(e,t){this.targetId=e,this.$=t}}class YO{constructor(e,t,r=ei.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class JO{constructor(){this.B=0,this.L=XO(),this.U=ei.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}get current(){return this.q}get resumeToken(){return this.U}get G(){return 0!==this.B}get j(){return this.K}W(e){e.approximateByteSize()>0&&(this.K=!0,this.U=e)}H(){let e=Dn(),t=Dn(),r=Dn();return this.L.forEach((i,l)=>{switch(l){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:lt()}}),new Bv(this.U,this.q,e,t,r)}J(){this.K=!1,this.L=XO()}Y(e,t){this.K=!0,this.L=this.L.insert(e,t)}X(e){this.K=!0,this.L=this.L.remove(e)}Z(){this.B+=1}tt(){this.B-=1}et(){this.K=!0,this.q=!0}}class GL{constructor(e){this.nt=e,this.st=new Map,this.it=oa(),this.rt=QO(),this.ot=new Hn(jt)}ut(e){for(const t of e.O)e.F&&e.F.isFoundDocument()?this.at(t,e.F):this.ct(t,e.key,e.F);for(const t of e.removedTargetIds)this.ct(t,e.key,e.F)}ht(e){this.forEachTarget(e,t=>{const r=this.lt(t);switch(e.state){case 0:this.ft(t)&&r.W(e.resumeToken);break;case 1:r.tt(),r.G||r.J(),r.W(e.resumeToken);break;case 2:r.tt(),r.G||this.removeTarget(t);break;case 3:this.ft(t)&&(r.et(),r.W(e.resumeToken));break;case 4:this.ft(t)&&(this.dt(t),r.W(e.resumeToken));break;default:lt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((r,i)=>{this.ft(i)&&t(i)})}_t(e){const t=e.targetId,r=e.$.count,i=this.wt(t);if(i){const l=i.target;if(KD(l))if(0===r){const d=new Ge(l.path);this.ct(t,d,Gn.newNoDocument(d,At.min()))}else xt(1===r);else this.gt(t)!==r&&(this.dt(t),this.ot=this.ot.add(t))}}yt(e){const t=new Map;this.st.forEach((l,d)=>{const m=this.wt(d);if(m){if(l.current&&KD(m.target)){const v=new Ge(m.target.path);null!==this.it.get(v)||this.It(d,v)||this.ct(d,v,Gn.newNoDocument(v,e))}l.j&&(t.set(d,l.H()),l.J())}});let r=Dn();this.rt.forEach((l,d)=>{let m=!0;d.forEachWhile(v=>{const D=this.wt(v);return!D||2===D.purpose||(m=!1,!1)}),m&&(r=r.add(l))}),this.it.forEach((l,d)=>d.setReadTime(e));const i=new Vv(e,t,this.ot,this.it,r);return this.it=oa(),this.rt=QO(),this.ot=new Hn(jt),i}at(e,t){if(!this.ft(e))return;const r=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,r),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Tt(t.key).add(e))}ct(e,t,r){if(!this.ft(e))return;const i=this.lt(e);this.It(e,t)?i.Y(t,1):i.X(t),this.rt=this.rt.insert(t,this.Tt(t).delete(e)),r&&(this.it=this.it.insert(t,r))}removeTarget(e){this.st.delete(e)}gt(e){const t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Z(e){this.lt(e).Z()}lt(e){let t=this.st.get(e);return t||(t=new JO,this.st.set(e,t)),t}Tt(e){let t=this.rt.get(e);return t||(t=new Hn(jt),this.rt=this.rt.insert(e,t)),t}ft(e){const t=null!==this.wt(e);return t||Pe("WatchChangeAggregator","Detected inactive target",e),t}wt(e){const t=this.st.get(e);return t&&t.G?null:this.nt.Et(e)}dt(e){this.st.set(e,new JO),this.nt.getRemoteKeysForTarget(e).forEach(t=>{this.ct(e,t,null)})}It(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}function QO(){return new Mr(Ge.comparator)}function XO(){return new Mr(Ge.comparator)}const HL={asc:"ASCENDING",desc:"DESCENDING"},$L={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class WL{constructor(e,t){this.databaseId=e,this.N=t}}function Uv(n,e){return n.N?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function eR(n,e){return n.N?e.toBase64():e.toUint8Array()}function qL(n,e){return Uv(n,e.toTimestamp())}function mi(n){return xt(!!n),At.fromTimestamp(function(e){const t=Hd(e);return new Nr(t.seconds,t.nanos)}(n))}function fS(n,e){return(t=n,new cn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function tR(n){const e=cn.fromString(n);return xt(cR(e)),e}function jv(n,e){return fS(n.databaseId,e.path)}function nu(n,e){const t=tR(e);if(t.get(1)!==n.databaseId.projectId)throw new Ae(ce.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ae(ce.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ge(rR(t))}function pS(n,e){return fS(n.databaseId,e)}function nR(n){const e=tR(n);return 4===e.length?cn.emptyPath():rR(e)}function Gv(n){return new cn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function rR(n){return xt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function iR(n,e,t){return{name:jv(n,e),fields:t.value.mapValue.fields}}function sR(n,e,t){const r=nu(n,e.name),i=mi(e.updateTime),l=new es({mapValue:{fields:e.fields}}),d=Gn.newFoundDocument(r,i,l);return t&&d.setHasCommittedMutations(),t?d.setHasCommittedMutations():d}function Hv(n,e){let t;if(e instanceof Pv)t={update:iR(n,e.key,e.value)};else if(e instanceof Fv)t={delete:jv(n,e.key)};else if(e instanceof Ff)t={update:iR(n,e.key,e.data),updateMask:t2(e.fieldMask)};else{if(!(e instanceof dS))return lt();t={verify:jv(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,l){const d=l.transform;if(d instanceof pm)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof kf)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Pf)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof gm)return{fieldPath:l.field.canonicalString(),increment:d.k};throw lt()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:qL(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:lt()),t;var i}function gS(n,e){const t=e.currentDocument?void 0!==(i=e.currentDocument).updateTime?Vr.updateTime(mi(i.updateTime)):void 0!==i.exists?Vr.exists(i.exists):Vr.none():Vr.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(l,d){let m=null;"setToServerValue"in d?(xt("REQUEST_TIME"===d.setToServerValue),m=new pm):"appendMissingElements"in d?m=new kf(d.appendMissingElements.values||[]):"removeAllFromArray"in d?m=new Pf(d.removeAllFromArray.values||[]):"increment"in d?m=new gm(l,d.increment):lt();const v=gi.fromServerFormat(d.fieldPath);return new kv(v,m)}(n,i)):[];var i;if(e.update){const i=nu(n,e.update.name),l=new es({mapValue:{fields:e.update.fields}});if(e.updateMask){const d=new um((e.updateMask.fieldPaths||[]).map(D=>gi.fromServerFormat(D)));return new Ff(i,l,d,t,r)}return new Pv(i,l,t,r)}if(e.delete){const i=nu(n,e.delete);return new Fv(i,t)}if(e.verify){const i=nu(n,e.verify);return new dS(i,t)}return lt()}function oR(n,e){return{documents:[pS(n,e.path)]}}function aR(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=pS(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=pS(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(v){if(0===v.length)return;const D=v.map(I=>function(M){if("=="===M.op){if(mO(M.value))return{unaryFilter:{field:_m(M.field),op:"IS_NAN"}};if(gO(M.value))return{unaryFilter:{field:_m(M.field),op:"IS_NULL"}}}else if("!="===M.op){if(mO(M.value))return{unaryFilter:{field:_m(M.field),op:"IS_NOT_NAN"}};if(gO(M.value))return{unaryFilter:{field:_m(M.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:_m(M.field),op:QL(M.op),value:M.value}}}(I));return 1===D.length?D[0]:{compositeFilter:{op:"AND",filters:D}}}(e.filters);i&&(t.structuredQuery.where=i);const l=function(v){if(0!==v.length)return v.map(D=>{return{field:_m((I=D).field),direction:JL(I.dir)};var I})}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const d=(D=e.limit,n.N||Nf(D)?D:{value:D});var D,m,v;return null!==d&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt={before:(m=e.startAt).inclusive,values:m.position}),e.endAt&&(t.structuredQuery.endAt={before:!(v=e.endAt).inclusive,values:v.position}),t}function lR(n){let e=nR(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){xt(1===r);const I=t.from[0];I.allDescendants?i=I.collectionId:e=e.child(I.collectionId)}let l=[];t.where&&(l=uR(t.where));let d=[];t.orderBy&&(d=t.orderBy.map(I=>{return new dm(ym((M=I).field),function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(M.direction));var M}));let m=null;t.limit&&(m=function(I){let M;return M="object"==typeof I?I.value:I,Nf(M)?null:M}(t.limit));let v=null;var I;t.startAt&&(v=new Wd((I=t.startAt).values||[],!!I.before));let D=null;return t.endAt&&(D=function(I){return new Wd(I.values||[],!I.before)}(t.endAt)),AO(e,i,d,l,m,"F",v,D)}function uR(n){return n?void 0!==n.unaryFilter?[e2(n)]:void 0!==n.fieldFilter?[XL(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>uR(e)).reduce((e,t)=>e.concat(t)):lt():[]}function JL(n){return HL[n]}function QL(n){return $L[n]}function _m(n){return{fieldPath:n.canonicalString()}}function ym(n){return gi.fromServerFormat(n.fieldPath)}function XL(n){return Fi.create(ym(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return lt()}}(n.fieldFilter.op),n.fieldFilter.value)}function e2(n){switch(n.unaryFilter.op){case"IS_NAN":const e=ym(n.unaryFilter.field);return Fi.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=ym(n.unaryFilter.field);return Fi.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=ym(n.unaryFilter.field);return Fi.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=ym(n.unaryFilter.field);return Fi.create(i,"!=",{nullValue:"NULL_VALUE"});default:return lt()}}function t2(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function cR(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function vs(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=dR(e)),e=n2(n.get(t),e);return dR(e)}function n2(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const l=n.charAt(i);switch(l){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=l}}return t}function dR(n){return n+"\x01\x01"}function ru(n){const e=n.length;if(xt(e>=2),2===e)return xt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),cn.emptyPath();const t=e-2,r=[];let i="";for(let l=0;l<e;){const d=n.indexOf("\x01",l);switch((d<0||d>t)&&lt(),n.charAt(d+1)){case"\x01":const m=n.substring(l,d);let v;0===i.length?v=m:(i+=m,v=i,i=""),r.push(v);break;case"\x10":i+=n.substring(l,d),i+="\0";break;case"\x11":i+=n.substring(l,d+1);break;default:lt()}l=d+2}return new cn(r)}const hR=["userId","batchId"];function s1(n,e){return[n,vs(e)]}function fR(n,e,t){return[n,vs(e),t]}const r2={},s2=["prefixPath","collectionGroup","readTime","documentId"],o2=["prefixPath","collectionGroup","documentId"],a2=["collectionGroup","readTime","prefixPath","documentId"],l2=["canonicalId","targetId"],u2=["targetId","path"],c2=["path","targetId"],d2=["collectionId","parent"],h2=["indexId","uid"],f2=["uid","sequenceNumber"],p2=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],g2=["indexId","uid","orderedDocumentKey"],m2=["userId","collectionPath","documentId"],_2=["userId","collectionPath","largestBatchId"],y2=["userId","collectionGroup","largestBatchId"],pR=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],v2=[...pR,"documentOverlays"],gR=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],b2=[...gR,"indexConfiguration","indexState","indexEntries"],mR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class _R{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class fe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&lt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new fe((r,i)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(r,i)},this.catchCallback=l=>{this.wrapFailure(t,l).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof fe?t:fe.resolve(t)}catch(t){return fe.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):fe.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):fe.reject(t)}static resolve(e){return new fe((t,r)=>{t(e)})}static reject(e){return new fe((t,r)=>{r(e)})}static waitFor(e){return new fe((t,r)=>{let i=0,l=0,d=!1;e.forEach(m=>{++i,m.next(()=>{++l,d&&l===i&&t()},v=>r(v))}),d=!0,l===i&&t()})}static or(e){let t=fe.resolve(!1);for(const r of e)t=t.next(i=>i?fe.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,l)=>{r.push(t.call(this,i,l))}),this.waitFor(r)}}class o1{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.At=new pi,this.transaction.oncomplete=()=>{this.At.resolve()},this.transaction.onabort=()=>{t.error?this.At.reject(new $v(e,t.error)):this.At.resolve()},this.transaction.onerror=r=>{const i=mS(r.target.error);this.At.reject(new $v(e,i))}}static open(e,t,r,i){try{return new o1(t,e.transaction(i,r))}catch(l){throw new $v(t,l)}}get Rt(){return this.At.promise}abort(e){e&&this.At.reject(e),this.aborted||(Pe("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}Pt(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new D2(t)}}class qa{constructor(e,t,r){this.name=e,this.version=t,this.bt=r,12.2===qa.Vt((0,Kt.z$)())&&Lr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Pe("SimpleDb","Removing database:",e),Vf(window.indexedDB.deleteDatabase(e)).toPromise()}static vt(){if(!(0,Kt.hl)())return!1;if(qa.St())return!0;const e=(0,Kt.z$)(),t=qa.Vt(e),r=0<t&&t<10,i=qa.Dt(e),l=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||l)}static St(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Ct)}static xt(e,t){return e.store(t)}static Vt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static Dt(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}Nt(e){var t=this;return(0,ye.Z)(function*(){return t.db||(Pe("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const l=indexedDB.open(t.name,t.version);l.onsuccess=d=>{r(d.target.result)},l.onblocked=()=>{i(new $v(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},l.onerror=d=>{const m=d.target.error;i("VersionError"===m.name?new Ae(ce.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===m.name?new Ae(ce.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+m):new $v(e,m))},l.onupgradeneeded=d=>{Pe("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',d.oldVersion),t.bt.kt(d.target.result,l.transaction,d.oldVersion,t.version).next(()=>{Pe("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.Mt&&(t.db.onversionchange=r=>t.Mt(r)),t.db})()}Ot(e){this.Mt=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var l=this;return(0,ye.Z)(function*(){const d="readonly"===t;let m=0;for(;;){++m;try{l.db=yield l.Nt(e);const v=o1.open(l.db,e,d?"readonly":"readwrite",r),D=i(v).next(I=>(v.Pt(),I)).catch(I=>(v.abort(I),fe.reject(I))).toPromise();return D.catch(()=>{}),yield v.Rt,D}catch(v){const D="FirebaseError"!==v.name&&m<3;if(Pe("SimpleDb","Transaction failed with error:",v.message,"Retrying:",D),l.close(),!D)return Promise.reject(v)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class w2{constructor(e){this.Ft=e,this.$t=!1,this.Bt=null}get isDone(){return this.$t}get Lt(){return this.Bt}set cursor(e){this.Ft=e}done(){this.$t=!0}Ut(e){this.Bt=e}delete(){return Vf(this.Ft.delete())}}class $v extends Ae{constructor(e,t){super(ce.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Lf(n){return"IndexedDbTransactionError"===n.name}class D2{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(Pe("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(Pe("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Vf(r)}add(e){return Pe("SimpleDb","ADD",this.store.name,e,e),Vf(this.store.add(e))}get(e){return Vf(this.store.get(e)).next(t=>(void 0===t&&(t=null),Pe("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Pe("SimpleDb","DELETE",this.store.name,e),Vf(this.store.delete(e))}count(){return Pe("SimpleDb","COUNT",this.store.name),Vf(this.store.count())}qt(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),l=[];return this.Kt(i,(d,m)=>{l.push(m)}).next(()=>l)}{const i=this.store.getAll(r.range);return new fe((l,d)=>{i.onerror=m=>{d(m.target.error)},i.onsuccess=m=>{l(m.target.result)}})}}Gt(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new fe((i,l)=>{r.onerror=d=>{l(d.target.error)},r.onsuccess=d=>{i(d.target.result)}})}Qt(e,t){Pe("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.jt=!1;const i=this.cursor(r);return this.Kt(i,(l,d,m)=>m.delete())}Wt(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.Kt(i,t)}zt(e){const t=this.cursor({});return new fe((r,i)=>{t.onerror=l=>{const d=mS(l.target.error);i(d)},t.onsuccess=l=>{const d=l.target.result;d?e(d.primaryKey,d.value).next(m=>{m?d.continue():r()}):r()}})}Kt(e,t){const r=[];return new fe((i,l)=>{e.onerror=d=>{l(d.target.error)},e.onsuccess=d=>{const m=d.target.result;if(!m)return void i();const v=new w2(m),D=t(m.primaryKey,m.value,v);if(D instanceof fe){const I=D.catch(M=>(v.done(),fe.reject(M)));r.push(I)}v.isDone?i():null===v.Lt?m.continue():m.continue(v.Lt)}}).next(()=>fe.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.jt?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Vf(n){return new fe((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=mS(r.target.error);t(i)}})}let yR=!1;function mS(n){const e=qa.Vt((0,Kt.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Ae("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return yR||(yR=!0,setTimeout(()=>{throw r},0)),r}}return n}class vR extends _R{constructor(e,t){super(),this.Ht=e,this.currentSequenceNumber=t}}function _i(n,e){const t=Ze(n);return qa.xt(t.Ht,e)}class _S{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const l=this.mutations[i];l.key.isEqual(e.key)&&kL(l,e,r[i])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&cS(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&cS(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const r=e.get(t.key),i=r;this.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(At.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Dn())}isEqual(e){return this.batchId===e.batchId&&lm(this.mutations,e.mutations,(t,r)=>jO(t,r))&&lm(this.baseMutations,e.baseMutations,(t,r)=>jO(t,r))}}class yS{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){xt(e.mutations.length===r.length);let i=BL;const l=e.mutations;for(let d=0;d<l.length;d++)i=i.insert(l[d].key,r[d].version);return new yS(e,t,r,i)}}class vS{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class zd{constructor(e,t,r,i,l=At.min(),d=At.min(),m=ei.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=m}withSequenceNumber(e){return new zd(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new zd(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new zd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class bR{constructor(e){this.Jt=e}}function wR(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:a1(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:jv(i=n.Jt,(l=e).key),fields:l.data.value.mapValue.fields,updateTime:Uv(i,l.version.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:Bf(e.version)};else{if(!e.isUnknownDocument())return lt();r.unknownDocument={path:t.path.toArray(),version:Bf(e.version)}}var i,l;return r}function a1(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Bf(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Uf(n){const e=new Nr(n.seconds,n.nanoseconds);return At.fromTimestamp(e)}function vm(n,e){const t=(e.baseMutations||[]).map(l=>gS(n.Jt,l));for(let l=0;l<e.mutations.length-1;++l){const d=e.mutations[l];l+1<e.mutations.length&&void 0!==e.mutations[l+1].transform&&(d.updateTransforms=e.mutations[l+1].transform.fieldTransforms,e.mutations.splice(l+1,1),++l)}const r=e.mutations.map(l=>gS(n.Jt,l)),i=Nr.fromMillis(e.localWriteTimeMs);return new _S(e.batchId,i,t,r)}function Wv(n){const e=Uf(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Uf(n.lastLimboFreeSnapshotVersion):At.min();let r;var i;return void 0!==n.query.documents?(xt(1===(i=n.query).documents.length),r=sa(hm(nR(i.documents[0])))):r=sa(lR(n.query)),new zd(r,n.targetId,0,n.lastListenSequenceNumber,e,t,ei.fromBase64String(n.resumeToken))}function DR(n,e){const t=Bf(e.snapshotVersion),r=Bf(e.lastLimboFreeSnapshotVersion);let i;i=KD(e.target)?oR(n.Jt,e.target):aR(n.Jt,e.target);const l=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Rf(e.target),readTime:t,resumeToken:l,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function bS(n){const e=lR({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?NO(e,e.limit,"L"):e}function wS(n,e){return new vS(e.largestBatchId,gS(n.Jt,e.overlayMutation))}function ER(n,e){const t=e.path.lastSegment();return[n,vs(e.path.popLast()),t]}class C2{getBundleMetadata(e,t){return CR(e).get(t).next(r=>{if(r)return{id:(i=r).bundleId,createTime:Uf(i.createTime),version:i.version};var i})}saveBundleMetadata(e,t){return CR(e).put({bundleId:(r=t).id,createTime:Bf(mi(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return TR(e).get(t).next(r=>{if(r)return{name:(i=r).name,query:bS(i.bundledQuery),readTime:Uf(i.readTime)};var i})}saveNamedQuery(e,t){return TR(e).put({name:(r=t).name,readTime:Bf(mi(r.readTime)),bundledQuery:r.bundledQuery});var r}}function CR(n){return _i(n,"bundles")}function TR(n){return _i(n,"namedQueries")}class DS{constructor(e,t){this.M=e,this.userId=t}static Yt(e,t){return new DS(e,t.uid||"")}getOverlay(e,t){return qv(e).get(ER(this.userId,t)).next(r=>r?wS(this.M,r):null)}saveOverlays(e,t,r){const i=[];return r.forEach((l,d)=>{const m=new vS(t,d);i.push(this.Xt(e,m))}),fe.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(d=>i.add(vs(d.getCollectionPath())));const l=[];return i.forEach(d=>{const m=IDBKeyRange.bound([this.userId,d,r],[this.userId,d,r+1],!1,!0);l.push(qv(e).Qt("collectionPathOverlayIndex",m))}),fe.waitFor(l)}getOverlaysForCollection(e,t,r){const i=Lv(),l=vs(t),d=IDBKeyRange.bound([this.userId,l,r],[this.userId,l,Number.POSITIVE_INFINITY],!0);return qv(e).qt("collectionPathOverlayIndex",d).next(m=>{for(const v of m){const D=wS(this.M,v);i.set(D.getKey(),D)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const l=Lv();let d;const m=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return qv(e).Wt({index:"collectionGroupOverlayIndex",range:m},(v,D,I)=>{const M=wS(this.M,D);l.size()<i||M.largestBatchId===d?(l.set(M.getKey(),M),d=M.largestBatchId):I.done()}).next(()=>l)}Xt(e,t){return qv(e).put(function(r,i,l){const[d,m,v]=ER(i,l.mutation.key);return{userId:i,collectionPath:m,documentId:v,collectionGroup:l.mutation.key.getCollectionGroup(),largestBatchId:l.largestBatchId,overlayMutation:Hv(r.Jt,l.mutation)}}(this.M,this.userId,t))}}function qv(n){return _i(n,"documentOverlays")}class jf{constructor(){}Zt(e,t){this.te(e,t),t.ee()}te(e,t){if("nullValue"in e)this.ne(t,5);else if("booleanValue"in e)this.ne(t,10),t.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(t,15),t.se(_r(e.integerValue));else if("doubleValue"in e){const r=_r(e.doubleValue);isNaN(r)?this.ne(t,13):(this.ne(t,15),Sv(r)?t.se(0):t.se(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ne(t,20),"string"==typeof r?t.ie(r):(t.ie(`${r.seconds||""}`),t.se(r.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,t),this.oe(t);else if("bytesValue"in e)this.ne(t,30),t.ue(Af(e.bytesValue)),this.oe(t);else if("referenceValue"in e)this.ae(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ne(t,45),t.se(r.latitude||0),t.se(r.longitude||0)}else"mapValue"in e?_O(e)?this.ne(t,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,t),this.oe(t)):"arrayValue"in e?(this.he(e.arrayValue,t),this.oe(t)):lt()}re(e,t){this.ne(t,25),this.le(e,t)}le(e,t){t.ie(e)}ce(e,t){const r=e.fields||{};this.ne(t,55);for(const i of Object.keys(r))this.re(i,t),this.te(r[i],t)}he(e,t){const r=e.values||[];this.ne(t,50);for(const i of r)this.te(i,t)}ae(e,t){this.ne(t,37),Ge.fromName(e).path.forEach(r=>{this.ne(t,60),this.le(r,t)})}ne(e,t){e.se(t)}oe(e){e.se(2)}}function T2(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function IR(n){const e=64-function(t){let r=0;for(let i=0;i<8;++i){const l=T2(255&t[i]);if(r+=l,8!==l)break}return r}(n);return Math.ceil(e/8)}jf.fe=new jf;class I2{constructor(){this.buffer=new Uint8Array(1024),this.position=0}de(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this._e(r.value),r=t.next();this.we()}me(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.ge(r.value),r=t.next();this.ye()}pe(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this._e(r);else if(r<2048)this._e(960|r>>>6),this._e(128|63&r);else if(t<"\ud800"||"\udbff"<t)this._e(480|r>>>12),this._e(128|63&r>>>6),this._e(128|63&r);else{const i=t.codePointAt(0);this._e(240|i>>>18),this._e(128|63&i>>>12),this._e(128|63&i>>>6),this._e(128|63&i)}}this.we()}Ie(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.ge(r);else if(r<2048)this.ge(960|r>>>6),this.ge(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.ge(480|r>>>12),this.ge(128|63&r>>>6),this.ge(128|63&r);else{const i=t.codePointAt(0);this.ge(240|i>>>18),this.ge(128|63&i>>>12),this.ge(128|63&i>>>6),this.ge(128|63&i)}}this.ye()}Te(e){const t=this.Ee(e),r=IR(t);this.Ae(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}Re(e){const t=this.Ee(e),r=IR(t);this.Ae(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}Pe(){this.be(255),this.be(255)}Ve(){this.ve(255),this.ve(255)}reset(){this.position=0}seed(e){this.Ae(e.length),this.buffer.set(e,this.position),this.position+=e.length}Se(){return this.buffer.slice(0,this.position)}Ee(e){const t=function(i){const l=new DataView(new ArrayBuffer(8));return l.setFloat64(0,i,!1),new Uint8Array(l.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}_e(e){const t=255&e;0===t?(this.be(0),this.be(255)):255===t?(this.be(255),this.be(0)):this.be(t)}ge(e){const t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}we(){this.be(0),this.be(1)}ye(){this.ve(0),this.ve(1)}be(e){this.Ae(1),this.buffer[this.position++]=e}ve(e){this.Ae(1),this.buffer[this.position++]=~e}Ae(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class S2{constructor(e){this.De=e}ue(e){this.De.de(e)}ie(e){this.De.pe(e)}se(e){this.De.Te(e)}ee(){this.De.Pe()}}class A2{constructor(e){this.De=e}ue(e){this.De.me(e)}ie(e){this.De.Ie(e)}se(e){this.De.Re(e)}ee(){this.De.Ve()}}class zv{constructor(){this.De=new I2,this.Ce=new S2(this.De),this.xe=new A2(this.De)}seed(e){this.De.seed(e)}Ne(e){return 0===e?this.Ce:this.xe}Se(){return this.De.Se()}reset(){this.De.reset()}}class Zd{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Zd(this.indexId,this.documentKey,this.arrayValue,r)}}function Gf(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=SR(n.arrayValue,e.arrayValue),0!==t?t:(t=SR(n.directionalValue,e.directionalValue),0!==t?t:Ge.comparator(n.documentKey,e.documentKey)))}function SR(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class N2{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Me=e.orderBy,this.Oe=[];for(const t of e.filters){const r=t;r.S()?this.Fe=r:this.Oe.push(r)}}$e(e){const t=iS(e);if(void 0!==t&&!this.Be(t))return!1;const r=Of(e);let i=0,l=0;for(;i<r.length&&this.Be(r[i]);++i);if(i===r.length)return!0;if(void 0!==this.Fe){const d=r[i];if(!this.Le(this.Fe,d)||!this.Ue(this.Me[l++],d))return!1;++i}for(;i<r.length;++i){const d=r[i];if(l>=this.Me.length||!this.Ue(this.Me[l++],d))return!1}return!0}Be(e){for(const t of this.Oe)if(this.Le(t,e))return!0;return!1}Le(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Ue(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class M2{constructor(){this.qe=new ES}addToCollectionParentIndex(e,t){return this.qe.add(t),fe.resolve()}getCollectionParents(e,t){return fe.resolve(this.qe.getEntries(t))}addFieldIndex(e,t){return fe.resolve()}deleteFieldIndex(e,t){return fe.resolve()}getDocumentsMatchingTarget(e,t){return fe.resolve(null)}getFieldIndex(e,t){return fe.resolve(null)}getFieldIndexes(e,t){return fe.resolve([])}getNextCollectionGroupToUpdate(e){return fe.resolve(null)}updateCollectionGroup(e,t,r){return fe.resolve()}updateIndexEntries(e,t){return fe.resolve()}}class ES{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Hn(cn.comparator),l=!i.has(r);return this.index[t]=i.add(r),l}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Hn(cn.comparator)).toArray()}}const bm=new Uint8Array(0);class x2{constructor(e,t){this.user=e,this.databaseId=t,this.Ke=new ES,this.Ge=new qd(r=>Rf(r),(r,i)=>Ov(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Ke.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.Ke.add(t)});const l={collectionId:r,parent:vs(i)};return AR(e).put(l)}return fe.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[aO(t),""],!1,!0);return AR(e).qt(i).next(l=>{for(const d of l){if(d.collectionId!==t)break;r.push(ru(d.parent))}return r})}addFieldIndex(e,t){const r=l1(e),i={indexId:(l=t).indexId,collectionGroup:l.collectionGroup,fields:l.fields.map(d=>[d.fieldPath.canonicalString(),d.kind])};var l;return delete i.indexId,r.add(i).next()}deleteFieldIndex(e,t){const r=l1(e),i=u1(e),l=Zv(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>l.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=Zv(e);let i=!0;const l=new Map;return fe.forEach(this.Qe(t),d=>this.getFieldIndex(e,d).next(m=>{i&&(i=!!m),l.set(d,m)})).next(()=>{if(i){let d=Dn();const m=[];return fe.forEach(l,(v,D)=>{var I;Pe("IndexedDbIndexManager",`Using index ${I=v,`id=${I.indexId}|cg=${I.collectionGroup}|f=${I.fields.map(ot=>`${ot.fieldPath}:${ot.kind}`).join(",")}`} to execute ${Rf(t)}`);const M=function(ot,qe){const et=iS(qe);if(void 0===et)return null;for(const ut of YD(ot,et.fieldPath))switch(ut.op){case"array-contains-any":return ut.value.arrayValue.values||[];case"array-contains":return[ut.value]}return null}(D,v),F=function(ot,qe){const et=new Map;for(const ut of Of(qe))for(const Rt of YD(ot,ut.fieldPath))switch(Rt.op){case"==":case"in":et.set(ut.fieldPath.canonicalString(),Rt.value);break;case"not-in":case"!=":return et.set(ut.fieldPath.canonicalString(),Rt.value),Array.from(et.values())}return null}(D,v),B=function(ot,qe){const et=[];let ut=!0;for(const Rt of Of(qe)){const en=0===Rt.kind?EO(ot,Rt.fieldPath,ot.startAt):CO(ot,Rt.fieldPath,ot.startAt);if(!en.value)return null;et.push(en.value),ut&&(ut=en.inclusive)}return new Wd(et,ut)}(D,v),Z=function(ot,qe){const et=[];let ut=!0;for(const Rt of Of(qe)){const en=0===Rt.kind?CO(ot,Rt.fieldPath,ot.endAt):EO(ot,Rt.fieldPath,ot.endAt);if(!en.value)return null;et.push(en.value),ut&&(ut=en.inclusive)}return new Wd(et,ut)}(D,v),se=this.je(v,D,B),Ne=this.je(v,D,Z),Xe=this.We(v,D,F),$e=this.ze(v.indexId,M,se,!!B&&B.inclusive,Ne,!!Z&&Z.inclusive,Xe);return fe.forEach($e,ot=>r.Gt(ot,t.limit).next(qe=>{qe.forEach(et=>{const ut=Ge.fromSegments(et.documentKey);d.has(ut)||(d=d.add(ut),m.push(ut))})}))}).next(()=>m)}return fe.resolve(null)})}Qe(e){let t=this.Ge.get(e);return t||(t=[e],this.Ge.set(e,t),t)}ze(e,t,r,i,l,d,m){const v=(null!=t?t.length:1)*Math.max(null!=r?r.length:1,null!=l?l.length:1),D=v/(null!=t?t.length:1),I=[];for(let M=0;M<v;++M){const F=t?this.He(t[M/D]):bm,B=r?this.Je(e,F,r[M%D],i):this.Ye(e),Z=l?this.Xe(e,F,l[M%D],d):this.Ye(e+1);I.push(...this.createRange(B,Z,m.map(se=>this.Je(e,F,se,!0))))}return I}Je(e,t,r,i){const l=new Zd(e,Ge.empty(),t,r);return i?l:l.ke()}Xe(e,t,r,i){const l=new Zd(e,Ge.empty(),t,r);return i?l.ke():l}Ye(e){return new Zd(e,Ge.empty(),bm,bm)}getFieldIndex(e,t){const r=new N2(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(l=>{const d=l.filter(m=>r.$e(m));return d.sort((m,v)=>v.fields.length-m.fields.length),d.length>0?d[0]:null})}Ze(e,t){const r=new zv;for(const i of Of(e)){const l=t.data.field(i.fieldPath);if(null==l)return null;const d=r.Ne(i.kind);jf.fe.Zt(l,d)}return r.Se()}He(e){const t=new zv;return jf.fe.Zt(e,t.Ne(0)),t.Se()}tn(e,t){const r=new zv;return jf.fe.Zt(xf(this.databaseId,t),r.Ne(function(i){const l=Of(i);return 0===l.length?0:l[l.length-1].kind}(e))),r.Se()}We(e,t,r){if(null===r)return[];let i=[];i.push(new zv);let l=0;for(const d of Of(e)){const m=r[l++];for(const v of i)if(this.en(t,d.fieldPath)&&Nv(m))i=this.nn(i,d,m);else{const D=v.Ne(d.kind);jf.fe.Zt(m,D)}}return this.sn(i)}je(e,t,r){return null==r?null:this.We(e,t,r.position)}sn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Se();return t}nn(e,t,r){const i=[...e],l=[];for(const d of r.arrayValue.values||[])for(const m of i){const v=new zv;v.seed(m.Se()),jf.fe.Zt(d,v.Ne(t.kind)),l.push(v)}return l}en(e,t){return!!e.filters.find(r=>r instanceof Fi&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=l1(e),i=u1(e);return(t?r.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.qt()).next(l=>{const d=[];return fe.forEach(l,m=>i.get([m.indexId,this.uid]).next(v=>{d.push(function(D,I){const M=I?new xv(I.sequenceNumber,new pc(Uf(I.readTime),new Ge(ru(I.documentKey)),I.largestBatchId)):xv.empty(),F=D.fields.map(([B,Z])=>new ZD(gi.fromServerFormat(B),Z));return new zD(D.indexId,D.collectionGroup,F,M)}(m,v))})).next(()=>d)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,i)=>{const l=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==l?l:jt(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=l1(e),l=u1(e);return this.rn(e).next(d=>i.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(m=>fe.forEach(m,v=>{return l.put({indexId:v.indexId,uid:this.user.uid||"",sequenceNumber:d,readTime:Bf((F=r).readTime),documentKey:vs(F.documentKey.path),largestBatchId:F.largestBatchId});var F})))}updateIndexEntries(e,t){const r=new Map;return fe.forEach(t,(i,l)=>{const d=r.get(i.collectionGroup);return(d?fe.resolve(d):this.getFieldIndexes(e,i.collectionGroup)).next(m=>(r.set(i.collectionGroup,m),fe.forEach(m,v=>this.on(e,i,v).next(D=>{const I=this.un(l,v);return D.isEqual(I)?fe.resolve():this.an(e,l,v,D,I)}))))})}cn(e,t,r,i){return Zv(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.tn(r,t.key),documentKey:t.key.path.toArray()})}hn(e,t,r,i){return Zv(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.tn(r,t.key),t.key.path.toArray()])}on(e,t,r){const i=Zv(e);let l=new Hn(Gf);return i.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.tn(r,t)])},(d,m)=>{l=l.add(new Zd(r.indexId,t,m.arrayValue,m.directionalValue))}).next(()=>l)}un(e,t){let r=new Hn(Gf);const i=this.Ze(t,e);if(null==i)return r;const l=iS(t);if(null!=l){const d=e.data.field(l.fieldPath);if(Nv(d))for(const m of d.arrayValue.values||[])r=r.add(new Zd(t.indexId,e.key,this.He(m),i))}else r=r.add(new Zd(t.indexId,e.key,bm,i));return r}an(e,t,r,i,l){Pe("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const d=[];return function(m,v,D,I,M){const F=m.getIterator(),B=v.getIterator();let Z=mm(F),se=mm(B);for(;Z||se;){let Ne=!1,Xe=!1;if(Z&&se){const $e=D(Z,se);$e<0?Xe=!0:$e>0&&(Ne=!0)}else null!=Z?Xe=!0:Ne=!0;Ne?(I(se),se=mm(B)):Xe?(M(Z),Z=mm(F)):(Z=mm(F),se=mm(B))}}(i,l,Gf,m=>{d.push(this.cn(e,t,r,m))},m=>{d.push(this.hn(e,t,r,m))}),fe.waitFor(d)}rn(e){let t=1;return u1(e).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,l)=>{l.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((d,m)=>Gf(d,m)).filter((d,m,v)=>!m||0!==Gf(d,v[m-1]));const i=[];i.push(e);for(const d of r){const m=Gf(d,e),v=Gf(d,t);if(0===m)i[0]=e.ke();else if(m>0&&v<0)i.push(d),i.push(d.ke());else if(v>0)break}i.push(t);const l=[];for(let d=0;d<i.length;d+=2)l.push(IDBKeyRange.bound([i[d].indexId,this.uid,i[d].arrayValue,i[d].directionalValue,bm,[]],[i[d+1].indexId,this.uid,i[d+1].arrayValue,i[d+1].directionalValue,bm,[]]));return l}}function AR(n){return _i(n,"collectionParents")}function Zv(n){return _i(n,"indexEntries")}function l1(n){return _i(n,"indexConfiguration")}function u1(n){return _i(n,"indexState")}const NR={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class to{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new to(e,to.DEFAULT_COLLECTION_PERCENTILE,to.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function MR(n,e,t){const r=n.store("mutations"),i=n.store("documentMutations"),l=[],d=IDBKeyRange.only(t.batchId);let m=0;const v=r.Wt({range:d},(I,M,F)=>(m++,F.delete()));l.push(v.next(()=>{xt(1===m)}));const D=[];for(const I of t.mutations){const M=fR(e,I.key.path,t.batchId);l.push(i.delete(M)),D.push(I.key)}return fe.waitFor(l).next(()=>D)}function c1(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw lt();e=n.noDocument}return JSON.stringify(e).length}to.DEFAULT_COLLECTION_PERCENTILE=10,to.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,to.DEFAULT=new to(41943040,to.DEFAULT_COLLECTION_PERCENTILE,to.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),to.DISABLED=new to(-1,0,0);class CS{constructor(e,t,r,i){this.userId=e,this.M=t,this.indexManager=r,this.referenceDelegate=i,this.ln={}}static Yt(e,t,r,i){xt(""!==e.uid);const l=e.isAuthenticated()?e.uid:"";return new CS(l,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Kd(e).Wt({index:"userMutationsIndex",range:r},(i,l,d)=>{t=!1,d.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const l=wm(e),d=Kd(e);return d.add({}).next(m=>{xt("number"==typeof m);const v=new _S(m,t,r,i),D=function(F,B,Z){const se=Z.baseMutations.map(Xe=>Hv(F.Jt,Xe)),Ne=Z.mutations.map(Xe=>Hv(F.Jt,Xe));return{userId:B,batchId:Z.batchId,localWriteTimeMs:Z.localWriteTime.toMillis(),baseMutations:se,mutations:Ne}}(this.M,this.userId,v),I=[];let M=new Hn((F,B)=>jt(F.canonicalString(),B.canonicalString()));for(const F of i){const B=fR(this.userId,F.key.path,m);M=M.add(F.key.path.popLast()),I.push(d.put(D)),I.push(l.put(B,r2))}return M.forEach(F=>{I.push(this.indexManager.addToCollectionParentIndex(e,F))}),e.addOnCommittedListener(()=>{this.ln[m]=v.keys()}),fe.waitFor(I).next(()=>v)})}lookupMutationBatch(e,t){return Kd(e).get(t).next(r=>r?(xt(r.userId===this.userId),vm(this.M,r)):null)}fn(e,t){return this.ln[t]?fe.resolve(this.ln[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.ln[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let l=null;return Kd(e).Wt({index:"userMutationsIndex",range:i},(d,m,v)=>{m.userId===this.userId&&(xt(m.batchId>=r),l=vm(this.M,m)),v.done()}).next(()=>l)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Kd(e).Wt({index:"userMutationsIndex",range:t,reverse:!0},(i,l,d)=>{r=l.batchId,d.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Kd(e).qt("userMutationsIndex",t).next(r=>r.map(i=>vm(this.M,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=s1(this.userId,t.path),i=IDBKeyRange.lowerBound(r),l=[];return wm(e).Wt({range:i},(d,m,v)=>{const[D,I,M]=d,F=ru(I);if(D===this.userId&&t.path.isEqual(F))return Kd(e).get(M).next(B=>{if(!B)throw lt();xt(B.userId===this.userId),l.push(vm(this.M,B))});v.done()}).next(()=>l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Hn(jt);const i=[];return t.forEach(l=>{const d=s1(this.userId,l.path),m=IDBKeyRange.lowerBound(d),v=wm(e).Wt({range:m},(D,I,M)=>{const[F,B,Z]=D,se=ru(B);F===this.userId&&l.path.isEqual(se)?r=r.add(Z):M.done()});i.push(v)}),fe.waitFor(i).next(()=>this.dn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,l=s1(this.userId,r),d=IDBKeyRange.lowerBound(l);let m=new Hn(jt);return wm(e).Wt({range:d},(v,D,I)=>{const[M,F,B]=v,Z=ru(F);M===this.userId&&r.isPrefixOf(Z)?Z.length===i&&(m=m.add(B)):I.done()}).next(()=>this.dn(e,m))}dn(e,t){const r=[],i=[];return t.forEach(l=>{i.push(Kd(e).get(l).next(d=>{if(null===d)throw lt();xt(d.userId===this.userId),r.push(vm(this.M,d))}))}),fe.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return MR(e.Ht,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this._n(t.batchId)}),fe.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}_n(e){delete this.ln[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return fe.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return wm(e).Wt({range:r},(l,d,m)=>{if(l[0]===this.userId){const v=ru(l[1]);i.push(v)}else m.done()}).next(()=>{xt(0===i.length)})})}containsKey(e,t){return xR(e,this.userId,t)}wn(e){return OR(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function xR(n,e,t){const r=s1(e,t.path),i=r[1],l=IDBKeyRange.lowerBound(r);let d=!1;return wm(n).Wt({range:l,jt:!0},(m,v,D)=>{const[I,M,F]=m;I===e&&M===i&&(d=!0),D.done()}).next(()=>d)}function Kd(n){return _i(n,"mutations")}function wm(n){return _i(n,"documentMutations")}function OR(n){return _i(n,"mutationQueues")}class Hf{constructor(e){this.mn=e}next(){return this.mn+=2,this.mn}static gn(){return new Hf(0)}static yn(){return new Hf(-1)}}class O2{constructor(e,t){this.referenceDelegate=e,this.M=t}allocateTargetId(e){return this.pn(e).next(t=>{const r=new Hf(t.highestTargetId);return t.highestTargetId=r.next(),this.In(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.pn(e).next(t=>At.fromTimestamp(new Nr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.pn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.pn(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.In(e,i)))}addTargetData(e,t){return this.Tn(e,t).next(()=>this.pn(e).next(r=>(r.targetCount+=1,this.En(t,r),this.In(e,r))))}updateTargetData(e,t){return this.Tn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Dm(e).delete(t.targetId)).next(()=>this.pn(e)).next(r=>(xt(r.targetCount>0),r.targetCount-=1,this.In(e,r)))}removeTargets(e,t,r){let i=0;const l=[];return Dm(e).Wt((d,m)=>{const v=Wv(m);v.sequenceNumber<=t&&null===r.get(v.targetId)&&(i++,l.push(this.removeTargetData(e,v)))}).next(()=>fe.waitFor(l)).next(()=>i)}forEachTarget(e,t){return Dm(e).Wt((r,i)=>{const l=Wv(i);t(l)})}pn(e){return RR(e).get("targetGlobalKey").next(t=>(xt(null!==t),t))}In(e,t){return RR(e).put("targetGlobalKey",t)}Tn(e,t){return Dm(e).put(DR(this.M,t))}En(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.pn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=Rf(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let l=null;return Dm(e).Wt({range:i,index:"queryTargetsIndex"},(d,m,v)=>{const D=Wv(m);Ov(t,D.target)&&(l=D,v.done())}).next(()=>l)}addMatchingKeys(e,t,r){const i=[],l=Yd(e);return t.forEach(d=>{const m=vs(d.path);i.push(l.put({targetId:r,path:m})),i.push(this.referenceDelegate.addReference(e,r,d))}),fe.waitFor(i)}removeMatchingKeys(e,t,r){const i=Yd(e);return fe.forEach(t,l=>{const d=vs(l.path);return fe.waitFor([i.delete([r,d]),this.referenceDelegate.removeReference(e,r,l)])})}removeMatchingKeysForTargetId(e,t){const r=Yd(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=Yd(e);let l=Dn();return i.Wt({range:r,jt:!0},(d,m,v)=>{const D=ru(d[1]),I=new Ge(D);l=l.add(I)}).next(()=>l)}containsKey(e,t){const r=vs(t.path),i=IDBKeyRange.bound([r],[aO(r)],!1,!0);let l=0;return Yd(e).Wt({index:"documentTargetsIndex",jt:!0,range:i},([d,m],v,D)=>{0!==d&&(l++,D.done())}).next(()=>l>0)}Et(e,t){return Dm(e).get(t).next(r=>r?Wv(r):null)}}function Dm(n){return _i(n,"targets")}function RR(n){return _i(n,"targetGlobal")}function Yd(n){return _i(n,"targetDocuments")}function $f(n){return TS.apply(this,arguments)}function TS(){return TS=(0,ye.Z)(function*(n){if(n.code!==ce.FAILED_PRECONDITION||n.message!==mR)throw n;Pe("LocalStore","Unexpectedly lost primary lease")}),TS.apply(this,arguments)}function kR([n,e],[t,r]){const i=jt(n,t);return 0===i?jt(e,r):i}class R2{constructor(e){this.An=e,this.buffer=new Hn(kR),this.Rn=0}Pn(){return++this.Rn}bn(e){const t=[e,this.Pn()];if(this.buffer.size<this.An)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();kR(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class k2{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.Vn=!1,this.vn=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Sn(e)}stop(){this.vn&&(this.vn.cancel(),this.vn=null)}get started(){return null!==this.vn}Sn(e){var t=this;const r=this.Vn?3e5:6e4;Pe("LruGarbageCollector",`Garbage collection scheduled in ${r}ms`),this.vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,(0,ye.Z)(function*(){t.vn=null,t.Vn=!0;try{yield e.collectGarbage(t.garbageCollector)}catch(i){Lf(i)?Pe("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield $f(i)}yield t.Sn(e)}))}}class P2{constructor(e,t){this.Dn=e,this.params=t}calculateTargetCount(e,t){return this.Dn.Cn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return fe.resolve(Ao.A);const r=new R2(t);return this.Dn.forEachTarget(e,i=>r.bn(i.sequenceNumber)).next(()=>this.Dn.xn(e,i=>r.bn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Dn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Dn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Pe("LruGarbageCollector","Garbage collection skipped; disabled"),fe.resolve(NR)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Pe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),NR):this.Nn(e,t))}getCacheSize(e){return this.Dn.getCacheSize(e)}Nn(e,t){let r,i,l,d,m,v,D;const I=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(M=>(M>this.params.maximumSequenceNumbersToCollect?(Pe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${M}`),i=this.params.maximumSequenceNumbersToCollect):i=M,d=Date.now(),this.nthSequenceNumber(e,i))).next(M=>(r=M,m=Date.now(),this.removeTargets(e,r,t))).next(M=>(l=M,v=Date.now(),this.removeOrphanedDocuments(e,r))).next(M=>(D=Date.now(),XI()<=Ga.in.DEBUG&&Pe("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${d-I}ms\n\tDetermined least recently used ${i} in `+(m-d)+`ms\n\tRemoved ${l} targets in `+(v-m)+`ms\n\tRemoved ${M} documents in `+(D-v)+`ms\nTotal Duration: ${D-I}ms`),fe.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:l,documentsRemoved:M})))}}class F2{constructor(e,t){this.db=e,this.garbageCollector=new P2(this,t)}Cn(e){const t=this.kn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}kn(e){let t=0;return this.xn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}xn(e,t){return this.Mn(e,(r,i)=>t(i))}addReference(e,t,r){return d1(e,r)}removeReference(e,t,r){return d1(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return d1(e,t)}On(e,t){return function(r,i){let l=!1;return OR(r).zt(d=>xR(r,d,i).next(m=>(m&&(l=!0),fe.resolve(!m)))).next(()=>l)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let l=0;return this.Mn(e,(d,m)=>{if(m<=t){const v=this.On(e,d).next(D=>{if(!D)return l++,r.getEntry(e,d).next(()=>(r.removeEntry(d,At.min()),Yd(e).delete([0,vs(d.path)])))});i.push(v)}}).next(()=>fe.waitFor(i)).next(()=>r.apply(e)).next(()=>l)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return d1(e,t)}Mn(e,t){const r=Yd(e);let i,l=Ao.A;return r.Wt({index:"documentTargetsIndex"},([d,m],{path:v,sequenceNumber:D})=>{0===d?(l!==Ao.A&&t(new Ge(ru(i)),l),l=D,i=v):l=Ao.A}).next(()=>{l!==Ao.A&&t(new Ge(ru(i)),l)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function d1(n,e){return Yd(n).put((r=n.currentSequenceNumber,{targetId:0,path:vs(e.path),sequenceNumber:r}));var r}class PR{constructor(){this.changes=new qd(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Gn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?fe.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class L2{constructor(e){this.M=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return Wf(e).put(r)}removeEntry(e,t,r){return Wf(e).delete(function(i,l){const d=i.path.toArray();return[d.slice(0,d.length-2),d[d.length-2],a1(l),d[d.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Fn(e,r)))}getEntry(e,t){let r=Gn.newInvalidDocument(t);return Wf(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(Kv(t))},(i,l)=>{r=this.$n(t,l)}).next(()=>r)}Bn(e,t){let r={size:0,document:Gn.newInvalidDocument(t)};return Wf(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(Kv(t))},(i,l)=>{r={document:this.$n(t,l),size:c1(l)}}).next(()=>r)}getEntries(e,t){let r=oa();return this.Ln(e,t,(i,l)=>{const d=this.$n(i,l);r=r.insert(i,d)}).next(()=>r)}Un(e,t){let r=oa(),i=new Mr(Ge.comparator);return this.Ln(e,t,(l,d)=>{const m=this.$n(l,d);r=r.insert(l,m),i=i.insert(l,c1(d))}).next(()=>({documents:r,qn:i}))}Ln(e,t,r){if(t.isEmpty())return fe.resolve();let i=new Hn(VR);t.forEach(v=>i=i.add(v));const l=IDBKeyRange.bound(Kv(i.first()),Kv(i.last())),d=i.getIterator();let m=d.getNext();return Wf(e).Wt({index:"documentKeyIndex",range:l},(v,D,I)=>{const M=Ge.fromSegments([...D.prefixPath,D.collectionGroup,D.documentId]);for(;m&&VR(m,M)<0;)r(m,null),m=d.getNext();m&&m.isEqual(M)&&(r(m,D),m=d.hasNext()?d.getNext():null),m?I.Ut(Kv(m)):I.done()}).next(()=>{for(;m;)r(m,null),m=d.hasNext()?d.getNext():null})}getAllFromCollection(e,t,r){const i=[t.popLast().toArray(),t.lastSegment(),a1(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],l=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Wf(e).qt(IDBKeyRange.bound(i,l,!0)).next(d=>{let m=oa();for(const v of d){const D=this.$n(Ge.fromSegments(v.prefixPath.concat(v.collectionGroup,v.documentId)),v);m=m.insert(D.key,D)}return m})}getAllFromCollectionGroup(e,t,r,i){let l=oa();const d=LR(t,r),m=LR(t,pc.max());return Wf(e).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(d,m,!0)},(v,D,I)=>{const M=this.$n(Ge.fromSegments(D.prefixPath.concat(D.collectionGroup,D.documentId)),D);l=l.insert(M.key,M),l.size===i&&I.done()}).next(()=>l)}newChangeBuffer(e){return new V2(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return FR(e).get("remoteDocumentGlobalKey").next(t=>(xt(!!t),t))}Fn(e,t){return FR(e).put("remoteDocumentGlobalKey",t)}$n(e,t){if(t){const r=function E2(n,e){let t;if(e.document)t=sR(n.Jt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=Ge.fromSegments(e.noDocument.path),i=Uf(e.noDocument.readTime);t=Gn.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return lt();{const r=Ge.fromSegments(e.unknownDocument.path),i=Uf(e.unknownDocument.version);t=Gn.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(r){const i=new Nr(r[0],r[1]);return At.fromTimestamp(i)}(e.readTime)),t}(this.M,t);if(!r.isNoDocument()||!r.version.isEqual(At.min()))return r}return Gn.newInvalidDocument(e)}}class V2 extends PR{constructor(e,t){super(),this.Kn=e,this.trackRemovals=t,this.Gn=new qd(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new Hn((l,d)=>jt(l.canonicalString(),d.canonicalString()));return this.changes.forEach((l,d)=>{const m=this.Gn.get(l);if(t.push(this.Kn.removeEntry(e,l,m.readTime)),d.isValidDocument()){const v=wR(this.Kn.M,d);i=i.add(l.path.popLast()),r+=c1(v)-m.size,t.push(this.Kn.addEntry(e,l,v))}else if(r-=m.size,this.trackRemovals){const v=wR(this.Kn.M,d.convertToNoDocument(At.min()));t.push(this.Kn.addEntry(e,l,v))}}),i.forEach(l=>{t.push(this.Kn.indexManager.addToCollectionParentIndex(e,l))}),t.push(this.Kn.updateMetadata(e,r)),fe.waitFor(t)}getFromCache(e,t){return this.Kn.Bn(e,t).next(r=>(this.Gn.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.Kn.Un(e,t).next(({documents:r,qn:i})=>(i.forEach((l,d)=>{this.Gn.set(l,{size:d,readTime:r.get(l).readTime})}),r))}}function FR(n){return _i(n,"remoteDocumentGlobal")}function Wf(n){return _i(n,"remoteDocumentsV14")}function Kv(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function LR(n,e){const t=e.documentKey.path.toArray();return[n,a1(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function VR(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let l=0;l<t.length-2&&l<r.length-2;++l)if(i=jt(t[l],r[l]),i)return i;return i=jt(t.length,r.length),i||(i=jt(t[t.length-2],r[r.length-2]),i||jt(t[t.length-1],r[r.length-1]))}class B2{constructor(e){this.M=e}kt(e,t,r,i){const l=new o1("createOrUpgrade",t);var m;r<1&&i>=1&&(e.createObjectStore("owner"),(m=e).createObjectStore("mutationQueues",{keyPath:"userId"}),m.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",hR,{unique:!0}),m.createObjectStore("documentMutations"),BR(e),function(m){m.createObjectStore("remoteDocuments")}(e));let d=fe.resolve();return r<3&&i>=3&&(0!==r&&(function(m){m.deleteObjectStore("targetDocuments"),m.deleteObjectStore("targets"),m.deleteObjectStore("targetGlobal")}(e),BR(e)),d=d.next(()=>function(m){const v=m.store("targetGlobal"),D={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:At.min().toTimestamp(),targetCount:0};return v.put("targetGlobalKey",D)}(l))),r<4&&i>=4&&(0!==r&&(d=d.next(()=>function(m,v){return v.store("mutations").qt().next(D=>{m.deleteObjectStore("mutations"),m.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",hR,{unique:!0});const I=v.store("mutations"),M=D.map(F=>I.put(F));return fe.waitFor(M)})}(e,l))),d=d.next(()=>{!function(m){m.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(d=d.next(()=>this.Qn(l))),r<6&&i>=6&&(d=d.next(()=>(function(m){m.createObjectStore("remoteDocumentGlobal")}(e),this.jn(l)))),r<7&&i>=7&&(d=d.next(()=>this.Wn(l))),r<8&&i>=8&&(d=d.next(()=>this.zn(e,l))),r<9&&i>=9&&(d=d.next(()=>{!function(m){m.objectStoreNames.contains("remoteDocumentChanges")&&m.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(d=d.next(()=>this.Hn(l))),r<11&&i>=11&&(d=d.next(()=>{(function(m){m.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(m){m.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(d=d.next(()=>{!function(m){const v=m.createObjectStore("documentOverlays",{keyPath:m2});v.createIndex("collectionPathOverlayIndex",_2,{unique:!1}),v.createIndex("collectionGroupOverlayIndex",y2,{unique:!1})}(e)})),r<13&&i>=13&&(d=d.next(()=>function(m){const v=m.createObjectStore("remoteDocumentsV14",{keyPath:s2});v.createIndex("documentKeyIndex",o2),v.createIndex("collectionGroupIndex",a2)}(e)).next(()=>this.Jn(e,l)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(d=d.next(()=>{!function(m){m.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),m.createObjectStore("indexState",{keyPath:h2}).createIndex("sequenceNumberIndex",f2,{unique:!1}),m.createObjectStore("indexEntries",{keyPath:p2}).createIndex("documentKeyIndex",g2,{unique:!1})}(e)})),d}jn(e){let t=0;return e.store("remoteDocuments").Wt((r,i)=>{t+=c1(i)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Qn(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.qt().next(i=>fe.forEach(i,l=>{const d=IDBKeyRange.bound([l.userId,-1],[l.userId,l.lastAcknowledgedBatchId]);return r.qt("userMutationsIndex",d).next(m=>fe.forEach(m,v=>{xt(v.userId===l.userId);const D=vm(this.M,v);return MR(e,l.userId,D).next(()=>{})}))}))}Wn(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const l=[];return r.Wt((d,m)=>{const v=new cn(d),D=[0,vs(v)];l.push(t.get(D).next(I=>I?fe.resolve():t.put({targetId:0,path:vs(v),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>fe.waitFor(l))})}zn(e,t){e.createObjectStore("collectionParents",{keyPath:d2});const r=t.store("collectionParents"),i=new ES,l=d=>{if(i.add(d)){const m=d.lastSegment(),v=d.popLast();return r.put({collectionId:m,parent:vs(v)})}};return t.store("remoteDocuments").Wt({jt:!0},(d,m)=>{const v=new cn(d);return l(v.popLast())}).next(()=>t.store("documentMutations").Wt({jt:!0},([d,m,v],D)=>{const I=ru(m);return l(I.popLast())}))}Hn(e){const t=e.store("targets");return t.Wt((r,i)=>{const l=Wv(i),d=DR(this.M,l);return t.put(d)})}Jn(e,t){const r=t.store("remoteDocuments"),i=[];return r.Wt((l,d)=>{const m=t.store("remoteDocumentsV14"),v=(D=d,D.document?new Ge(cn.fromString(D.document.name).popFirst(5)):D.noDocument?Ge.fromSegments(D.noDocument.path):D.unknownDocument?Ge.fromSegments(D.unknownDocument.path):lt()).path.toArray();var D;const I={prefixPath:v.slice(0,v.length-2),collectionGroup:v[v.length-2],documentId:v[v.length-1],readTime:d.readTime||[0,0],unknownDocument:d.unknownDocument,noDocument:d.noDocument,document:d.document,hasCommittedMutations:!!d.hasCommittedMutations};i.push(m.put(I))}).next(()=>fe.waitFor(i))}}function BR(n){n.createObjectStore("targetDocuments",{keyPath:u2}).createIndex("documentTargetsIndex",c2,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",l2,{unique:!0}),n.createObjectStore("targetGlobal")}const IS="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class SS{constructor(e,t,r,i,l,d,m,v,D,I,M=13){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Yn=l,this.window=d,this.document=m,this.Xn=D,this.Zn=I,this.ts=M,this.es=null,this.ns=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ss=null,this.inForeground=!1,this.rs=null,this.os=null,this.us=Number.NEGATIVE_INFINITY,this.cs=F=>Promise.resolve(),!SS.vt())throw new Ae(ce.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new F2(this,i),this.hs=t+"main",this.M=new bR(v),this.ls=new qa(this.hs,this.ts,new B2(this.M)),this.fs=new O2(this.referenceDelegate,this.M),this.ds=new L2(this.M),this._s=new C2,this.window&&this.window.localStorage?this.ws=this.window.localStorage:(this.ws=null,!1===I&&Lr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.gs().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ae(ce.FAILED_PRECONDITION,IS);return this.ys(),this.ps(),this.Is(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.fs.getHighestSequenceNumber(e))}).then(e=>{this.es=new Ao(e,this.Xn)}).then(()=>{this.ns=!0}).catch(e=>(this.ls&&this.ls.close(),Promise.reject(e)))}Ts(e){var t=this;return this.cs=function(){var r=(0,ye.Z)(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ls.Ot(function(){var t=(0,ye.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Yn.enqueueAndForget((0,ye.Z)(function*(){t.started&&(yield t.gs())})))}gs(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>h1(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Es(e).next(t=>{t||(this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)))})}).next(()=>this.As(e)).next(t=>this.isPrimary&&!t?this.Rs(e).next(()=>!1):!!t&&this.Ps(e).next(()=>!0))).catch(e=>{if(Lf(e))return Pe("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Pe("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Yn.enqueueRetryable(()=>this.cs(e)),this.isPrimary=e})}Es(e){return Yv(e).get("owner").next(t=>fe.resolve(this.bs(t)))}Vs(e){return h1(e).delete(this.clientId)}vs(){var e=this;return(0,ye.Z)(function*(){if(e.isPrimary&&!e.Ss(e.us,18e5)){e.us=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=_i(r,"clientMetadata");return i.qt().next(l=>{const d=e.Ds(l,18e5),m=l.filter(v=>-1===d.indexOf(v));return fe.forEach(m,v=>i.delete(v.clientId)).next(()=>m)})}).catch(()=>[]);if(e.ws)for(const r of t)e.ws.removeItem(e.Cs(r.clientId))}})()}Is(){this.os=this.Yn.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.gs().then(()=>this.vs()).then(()=>this.Is()))}bs(e){return!!e&&e.ownerId===this.clientId}As(e){return this.Zn?fe.resolve(!0):Yv(e).get("owner").next(t=>{if(null!==t&&this.Ss(t.leaseTimestampMs,5e3)&&!this.xs(t.ownerId)){if(this.bs(t)&&this.networkEnabled)return!0;if(!this.bs(t)){if(!t.allowTabSynchronization)throw new Ae(ce.FAILED_PRECONDITION,IS);return!1}}return!(!this.networkEnabled||!this.inForeground)||h1(e).qt().next(r=>void 0===this.Ds(r,5e3).find(i=>{if(this.clientId!==i.clientId){const d=!this.inForeground&&i.inForeground,m=this.networkEnabled===i.networkEnabled;if(!this.networkEnabled&&i.networkEnabled||d&&m)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Pe("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,ye.Z)(function*(){e.ns=!1,e.Ns(),e.os&&(e.os.cancel(),e.os=null),e.ks(),e.Ms(),yield e.ls.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new vR(t,Ao.A);return e.Rs(r).next(()=>e.Vs(r))}),e.ls.close(),e.Os()})()}Ds(e,t){return e.filter(r=>this.Ss(r.updateTimeMs,t)&&!this.xs(r.clientId))}Fs(){return this.runTransaction("getActiveClients","readonly",e=>h1(e).qt().next(t=>this.Ds(t,18e5).map(r=>r.clientId)))}get started(){return this.ns}getMutationQueue(e,t){return CS.Yt(e,this.M,t,this.referenceDelegate)}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getIndexManager(e){return new x2(e,this.M.Jt.databaseId)}getDocumentOverlayCache(e){return DS.Yt(this.M,e)}getBundleCache(){return this._s}runTransaction(e,t,r){Pe("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",l=14===(d=this.ts)?b2:13===d?gR:12===d?v2:11===d?pR:void lt();var d;let m;return this.ls.runTransaction(e,i,l,v=>(m=new vR(v,this.es?this.es.next():Ao.A),"readwrite-primary"===t?this.Es(m).next(D=>!!D||this.As(m)).next(D=>{if(!D)throw Lr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)),new Ae(ce.FAILED_PRECONDITION,mR);return r(m)}).next(D=>this.Ps(m).next(()=>D)):this.$s(m).next(()=>r(m)))).then(v=>(m.raiseOnCommittedEvent(),v))}$s(e){return Yv(e).get("owner").next(t=>{if(null!==t&&this.Ss(t.leaseTimestampMs,5e3)&&!this.xs(t.ownerId)&&!this.bs(t)&&!(this.Zn||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Ae(ce.FAILED_PRECONDITION,IS)})}Ps(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Yv(e).put("owner",t)}static vt(){return qa.vt()}Rs(e){const t=Yv(e);return t.get("owner").next(r=>this.bs(r)?(Pe("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):fe.resolve())}Ss(e,t){const r=Date.now();return!(e<r-t||e>r&&(Lr(`Detected an update time that is in the future: ${e} > ${r}`),1))}ys(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.rs=()=>{this.Yn.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.gs()))},this.document.addEventListener("visibilitychange",this.rs),this.inForeground="visible"===this.document.visibilityState)}ks(){this.rs&&(this.document.removeEventListener("visibilitychange",this.rs),this.rs=null)}ps(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ss=()=>{this.Ns(),(0,Kt.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Yn.enterRestrictedMode(!0),this.Yn.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ss))}Ms(){this.ss&&(this.window.removeEventListener("pagehide",this.ss),this.ss=null)}xs(e){var t;try{const r=null!==(null===(t=this.ws)||void 0===t?void 0:t.getItem(this.Cs(e)));return Pe("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Lr("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Ns(){if(this.ws)try{this.ws.setItem(this.Cs(this.clientId),String(Date.now()))}catch(e){Lr("Failed to set zombie client id.",e)}}Os(){if(this.ws)try{this.ws.removeItem(this.Cs(this.clientId))}catch(e){}}Cs(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Yv(n){return _i(n,"owner")}function h1(n){return _i(n,"clientMetadata")}function AS(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class U2{constructor(e,t,r){this.ds=e,this.Bs=t,this.indexManager=r}Ls(e,t){return this.Bs.getAllMutationBatchesAffectingDocumentKey(e,t).next(r=>this.Us(e,t,r))}Us(e,t,r){return this.ds.getEntry(e,t).next(i=>{for(const l of r)l.applyToLocalView(i);return i})}qs(e,t){e.forEach((r,i)=>{for(const l of t)l.applyToLocalView(i)})}Ks(e,t){return this.ds.getEntries(e,t).next(r=>this.Gs(e,r).next(()=>r))}Gs(e,t){return this.Bs.getAllMutationBatchesAffectingDocumentKeys(e,t).next(r=>this.qs(t,r))}Qs(e,t,r){return Ge.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.js(e,t.path):aS(t)?this.Ws(e,t,r):this.zs(e,t,r);var i}js(e,t){return this.Ls(e,new Ge(t)).next(r=>{let i=hS();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}Ws(e,t,r){const i=t.collectionGroup;let l=hS();return this.indexManager.getCollectionParents(e,i).next(d=>fe.forEach(d,m=>{const v=(D=t,I=m.child(i),new gc(I,null,D.explicitOrderBy.slice(),D.filters.slice(),D.limit,D.limitType,D.startAt,D.endAt));var D,I;return this.zs(e,v,r).next(D=>{D.forEach((I,M)=>{l=l.insert(I,M)})})}).next(()=>l))}zs(e,t,r){let i;return this.ds.getAllFromCollection(e,t.path,r).next(l=>(i=l,this.Bs.getAllMutationBatchesAffectingQuery(e,t))).next(l=>{for(const d of l)for(const m of d.mutations){const v=m.key;let D=i.get(v);null==D&&(D=Gn.newInvalidDocument(v),i=i.insert(v,D)),cS(m,D,d.localWriteTime),D.isFoundDocument()||(i=i.remove(v))}}).next(()=>(i.forEach((l,d)=>{uS(t,d)||(i=i.remove(l))}),i))}}class NS{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Hs=r,this.Js=i}static Ys(e,t){let r=Dn(),i=Dn();for(const l of t.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:i=i.add(l.doc.key)}return new NS(e,t.fromCache,r,i)}}class UR{Xs(e){this.Zs=e}Qs(e,t,r,i){return 0===(l=t).filters.length&&null===l.limit&&null==l.startAt&&null==l.endAt&&(0===l.explicitOrderBy.length||1===l.explicitOrderBy.length&&l.explicitOrderBy[0].field.isKeyField())||r.isEqual(At.min())?this.ti(e,t):this.Zs.Ks(e,i).next(l=>{const d=this.ei(t,l);return(JD(t)||QD(t))&&this.ni(t.limitType,d,i,r)?this.ti(e,t):(XI()<=Ga.in.DEBUG&&Pe("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),lS(t)),this.Zs.Qs(e,t,wO(r,-1)).next(m=>(d.forEach(v=>{m=m.insert(v.key,v)}),m)))});var l}ei(e,t){let r=new Hn(OO(e));return t.forEach((i,l)=>{uS(e,l)&&(r=r.add(l))}),r}ni(e,t,r,i){if(r.size!==t.size)return!0;const l="F"===e?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(i)>0)}ti(e,t){return XI()<=Ga.in.DEBUG&&Pe("QueryEngine","Using full collection scan to execute query:",lS(t)),this.Zs.Qs(e,t,pc.min())}}class j2{constructor(e,t,r,i){this.persistence=e,this.si=t,this.M=i,this.ii=new Mr(jt),this.ri=new qd(l=>Rf(l),Ov),this.oi=new Map,this.ui=e.getRemoteDocumentCache(),this.fs=e.getTargetCache(),this._s=e.getBundleCache(),this.ai(r)}ai(e){this.indexManager=this.persistence.getIndexManager(e),this.Bs=this.persistence.getMutationQueue(e,this.indexManager),this.ci=new U2(this.ui,this.Bs,this.indexManager),this.ui.setIndexManager(this.indexManager),this.si.Xs(this.ci)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.ii))}}function jR(n,e,t,r){return new j2(n,e,t,r)}function GR(n,e){return MS.apply(this,arguments)}function MS(){return MS=(0,ye.Z)(function*(n,e){const t=Ze(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.Bs.getAllMutationBatches(r).next(l=>(i=l,t.ai(e),t.Bs.getAllMutationBatches(r))).next(l=>{const d=[],m=[];let v=Dn();for(const D of i){d.push(D.batchId);for(const I of D.mutations)v=v.add(I.key)}for(const D of l){m.push(D.batchId);for(const I of D.mutations)v=v.add(I.key)}return t.ci.Ks(r,v).next(D=>({hi:D,removedBatchIds:d,addedBatchIds:m}))})})}),MS.apply(this,arguments)}function G2(n,e){const t=Ze(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),l=t.ui.newChangeBuffer({trackRemovals:!0});return function(d,m,v,D){const I=v.batch,M=I.keys();let F=fe.resolve();return M.forEach(B=>{F=F.next(()=>D.getEntry(m,B)).next(Z=>{const se=v.docVersions.get(B);xt(null!==se),Z.version.compareTo(se)<0&&(I.applyToRemoteDocument(Z,v),Z.isValidDocument()&&(Z.setReadTime(v.commitVersion),D.addEntry(Z)))})}),F.next(()=>d.Bs.removeMutationBatch(m,I))}(t,r,e,l).next(()=>l.apply(r)).next(()=>t.Bs.performConsistencyCheck(r)).next(()=>t.ci.Ks(r,i))})}function HR(n){const e=Ze(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.fs.getLastRemoteSnapshotVersion(t))}function H2(n,e){const t=Ze(n),r=e.snapshotVersion;let i=t.ii;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const d=t.ui.newChangeBuffer({trackRemovals:!0});i=t.ii;const m=[];e.targetChanges.forEach((D,I)=>{const M=i.get(I);if(!M)return;m.push(t.fs.removeMatchingKeys(l,D.removedDocuments,I).next(()=>t.fs.addMatchingKeys(l,D.addedDocuments,I)));let F=M.withSequenceNumber(l.currentSequenceNumber);var B,Z,se;e.targetMismatches.has(I)?F=F.withResumeToken(ei.EMPTY_BYTE_STRING,At.min()).withLastLimboFreeSnapshotVersion(At.min()):D.resumeToken.approximateByteSize()>0&&(F=F.withResumeToken(D.resumeToken,r)),i=i.insert(I,F),Z=F,se=D,(0===(B=M).resumeToken.approximateByteSize()||Z.snapshotVersion.toMicroseconds()-B.snapshotVersion.toMicroseconds()>=3e8||se.addedDocuments.size+se.modifiedDocuments.size+se.removedDocuments.size>0)&&m.push(t.fs.updateTargetData(l,F))});let v=oa();if(e.documentUpdates.forEach(D=>{e.resolvedLimboDocuments.has(D)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(l,D))}),m.push($R(l,d,e.documentUpdates).next(D=>{v=D})),!r.isEqual(At.min())){const D=t.fs.getLastRemoteSnapshotVersion(l).next(I=>t.fs.setTargetsMetadata(l,l.currentSequenceNumber,r));m.push(D)}return fe.waitFor(m).next(()=>d.apply(l)).next(()=>t.ci.Gs(l,v)).next(()=>v)}).then(l=>(t.ii=i,l))}function $R(n,e,t){let r=Dn();return t.forEach(i=>r=r.add(i)),e.getEntries(n,r).next(i=>{let l=oa();return t.forEach((d,m)=>{const v=i.get(d);m.isNoDocument()&&m.version.isEqual(At.min())?(e.removeEntry(d,m.readTime),l=l.insert(d,m)):!v.isValidDocument()||m.version.compareTo(v.version)>0||0===m.version.compareTo(v.version)&&v.hasPendingWrites?(e.addEntry(m),l=l.insert(d,m)):Pe("LocalStore","Ignoring outdated watch update for ",d,". Current version:",v.version," Watch version:",m.version)}),l})}function $2(n,e){const t=Ze(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.Bs.getNextMutationBatchAfterBatchId(r,e)))}function Em(n,e){const t=Ze(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.fs.getTargetData(r,e).next(l=>l?(i=l,fe.resolve(i)):t.fs.allocateTargetId(r).next(d=>(i=new zd(e,d,0,r.currentSequenceNumber),t.fs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.ii.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.ii=t.ii.insert(r.targetId,r),t.ri.set(e,r.targetId)),r})}function Cm(n,e,t){return xS.apply(this,arguments)}function xS(){return xS=(0,ye.Z)(function*(n,e,t){const r=Ze(n),i=r.ii.get(e),l=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",l,d=>r.persistence.referenceDelegate.removeTarget(d,i)))}catch(d){if(!Lf(d))throw d;Pe("LocalStore",`Failed to update sequence numbers for target ${e}: ${d}`)}r.ii=r.ii.remove(e),r.ri.delete(i.target)}),xS.apply(this,arguments)}function f1(n,e,t){const r=Ze(n);let i=At.min(),l=Dn();return r.persistence.runTransaction("Execute query","readonly",d=>function(m,v,D){const I=Ze(m),M=I.ri.get(D);return void 0!==M?fe.resolve(I.ii.get(M)):I.fs.getTargetData(v,D)}(r,d,sa(e)).next(m=>{if(m)return i=m.lastLimboFreeSnapshotVersion,r.fs.getMatchingKeysForTargetId(d,m.targetId).next(v=>{l=v})}).next(()=>r.si.Qs(d,e,t?i:At.min(),t?l:Dn())).next(m=>(zR(r,xO(e),m),{documents:m,li:l})))}function WR(n,e){const t=Ze(n),r=Ze(t.fs),i=t.ii.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",l=>r.Et(l,e).next(d=>d?d.target:null))}function qR(n,e){const t=Ze(n),r=t.oi.get(e)||At.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.ui.getAllFromCollectionGroup(i,e,wO(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(zR(t,e,i),i))}function zR(n,e,t){let r=At.min();t.forEach((i,l)=>{l.readTime.compareTo(r)>0&&(r=l.readTime)}),n.oi.set(e,r)}function OS(){return OS=(0,ye.Z)(function*(n,e,t,r){const i=Ze(n);let l=Dn(),d=oa();for(const D of t){const I=e.fi(D.metadata.name);D.document&&(l=l.add(I));const M=e.di(D);M.setReadTime(e._i(D.metadata.readTime)),d=d.insert(I,M)}const m=i.ui.newChangeBuffer({trackRemovals:!0}),v=yield Em(i,(D=r,sa(hm(cn.fromString(`__bundle__/docs/${D}`)))));var D;return i.persistence.runTransaction("Apply bundle documents","readwrite",D=>$R(D,m,d).next(I=>(m.apply(D),I)).next(I=>i.fs.removeMatchingKeysForTargetId(D,v.targetId).next(()=>i.fs.addMatchingKeys(D,l,v.targetId)).next(()=>i.ci.Gs(D,I)).next(()=>I)))}),OS.apply(this,arguments)}function q2(n,e){return RS.apply(this,arguments)}function RS(){return RS=(0,ye.Z)(function*(n,e,t=Dn()){const r=yield Em(n,sa(bS(e.bundledQuery))),i=Ze(n);return i.persistence.runTransaction("Save named query","readwrite",l=>{const d=mi(e.readTime);if(r.snapshotVersion.compareTo(d)>=0)return i._s.saveNamedQuery(l,e);const m=r.withResumeToken(ei.EMPTY_BYTE_STRING,d);return i.ii=i.ii.insert(m.targetId,m),i.fs.updateTargetData(l,m).next(()=>i.fs.removeMatchingKeysForTargetId(l,r.targetId)).next(()=>i.fs.addMatchingKeys(l,t,r.targetId)).next(()=>i._s.saveNamedQuery(l,e))})}),RS.apply(this,arguments)}class z2{constructor(e){this.M=e,this.wi=new Map,this.mi=new Map}getBundleMetadata(e,t){return fe.resolve(this.wi.get(t))}saveBundleMetadata(e,t){var r;return this.wi.set(t.id,{id:(r=t).id,version:r.version,createTime:mi(r.createTime)}),fe.resolve()}getNamedQuery(e,t){return fe.resolve(this.mi.get(t))}saveNamedQuery(e,t){return this.mi.set(t.name,{name:(r=t).name,query:bS(r.bundledQuery),readTime:mi(r.readTime)}),fe.resolve();var r}}class Z2{constructor(){this.overlays=new Mr(Ge.comparator),this.gi=new Map}getOverlay(e,t){return fe.resolve(this.overlays.get(t))}saveOverlays(e,t,r){return r.forEach((i,l)=>{this.Xt(e,t,l)}),fe.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.gi.get(r);return void 0!==i&&(i.forEach(l=>this.overlays=this.overlays.remove(l)),this.gi.delete(r)),fe.resolve()}getOverlaysForCollection(e,t,r){const i=Lv(),l=t.length+1,d=new Ge(t.child("")),m=this.overlays.getIteratorFrom(d);for(;m.hasNext();){const v=m.getNext().value,D=v.getKey();if(!t.isPrefixOf(D.path))break;D.path.length===l&&v.largestBatchId>r&&i.set(v.getKey(),v)}return fe.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let l=new Mr((D,I)=>D-I);const d=this.overlays.getIterator();for(;d.hasNext();){const D=d.getNext().value;if(D.getKey().getCollectionGroup()===t&&D.largestBatchId>r){let I=l.get(D.largestBatchId);null===I&&(I=Lv(),l=l.insert(D.largestBatchId,I)),I.set(D.getKey(),D)}}const m=Lv(),v=l.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach((D,I)=>m.set(D,I)),!(m.size()>=i)););return fe.resolve(m)}Xt(e,t,r){if(null===r)return;const i=this.overlays.get(r.key);if(null!==i){const d=this.gi.get(i.largestBatchId).delete(r.key);this.gi.set(i.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new vS(t,r));let l=this.gi.get(t);void 0===l&&(l=Dn(),this.gi.set(t,l)),this.gi.set(t,l.add(r.key))}}class kS{constructor(){this.yi=new Hn(yi.pi),this.Ii=new Hn(yi.Ti)}isEmpty(){return this.yi.isEmpty()}addReference(e,t){const r=new yi(e,t);this.yi=this.yi.add(r),this.Ii=this.Ii.add(r)}Ei(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Ai(new yi(e,t))}Ri(e,t){e.forEach(r=>this.removeReference(r,t))}Pi(e){const t=new Ge(new cn([])),r=new yi(t,e),i=new yi(t,e+1),l=[];return this.Ii.forEachInRange([r,i],d=>{this.Ai(d),l.push(d.key)}),l}bi(){this.yi.forEach(e=>this.Ai(e))}Ai(e){this.yi=this.yi.delete(e),this.Ii=this.Ii.delete(e)}Vi(e){const t=new Ge(new cn([])),r=new yi(t,e),i=new yi(t,e+1);let l=Dn();return this.Ii.forEachInRange([r,i],d=>{l=l.add(d.key)}),l}containsKey(e){const t=new yi(e,0),r=this.yi.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class yi{constructor(e,t){this.key=e,this.vi=t}static pi(e,t){return Ge.comparator(e.key,t.key)||jt(e.vi,t.vi)}static Ti(e,t){return jt(e.vi,t.vi)||Ge.comparator(e.key,t.key)}}class K2{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.Bs=[],this.Si=1,this.Di=new Hn(yi.pi)}checkEmpty(e){return fe.resolve(0===this.Bs.length)}addMutationBatch(e,t,r,i){const l=this.Si;this.Si++;const d=new _S(l,t,r,i);this.Bs.push(d);for(const m of i)this.Di=this.Di.add(new yi(m.key,l)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return fe.resolve(d)}lookupMutationBatch(e,t){return fe.resolve(this.Ci(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.xi(t+1),l=i<0?0:i;return fe.resolve(this.Bs.length>l?this.Bs[l]:null)}getHighestUnacknowledgedBatchId(){return fe.resolve(0===this.Bs.length?-1:this.Si-1)}getAllMutationBatches(e){return fe.resolve(this.Bs.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new yi(t,0),i=new yi(t,Number.POSITIVE_INFINITY),l=[];return this.Di.forEachInRange([r,i],d=>{const m=this.Ci(d.vi);l.push(m)}),fe.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Hn(jt);return t.forEach(i=>{const l=new yi(i,0),d=new yi(i,Number.POSITIVE_INFINITY);this.Di.forEachInRange([l,d],m=>{r=r.add(m.vi)})}),fe.resolve(this.Ni(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let l=r;Ge.isDocumentKey(l)||(l=l.child(""));const d=new yi(new Ge(l),0);let m=new Hn(jt);return this.Di.forEachWhile(v=>{const D=v.key.path;return!!r.isPrefixOf(D)&&(D.length===i&&(m=m.add(v.vi)),!0)},d),fe.resolve(this.Ni(m))}Ni(e){const t=[];return e.forEach(r=>{const i=this.Ci(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){xt(0===this.ki(t.batchId,"removed")),this.Bs.shift();let r=this.Di;return fe.forEach(t.mutations,i=>{const l=new yi(i.key,t.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Di=r})}_n(e){}containsKey(e,t){const r=new yi(t,0),i=this.Di.firstAfterOrEqual(r);return fe.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return fe.resolve()}ki(e,t){return this.xi(e)}xi(e){return 0===this.Bs.length?0:e-this.Bs[0].batchId}Ci(e){const t=this.xi(e);return t<0||t>=this.Bs.length?null:this.Bs[t]}}class Y2{constructor(e){this.Mi=e,this.docs=new Mr(Ge.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),l=i?i.size:0,d=this.Mi(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:d}),this.size+=d-l,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return fe.resolve(r?r.document.mutableCopy():Gn.newInvalidDocument(t))}getEntries(e,t){let r=oa();return t.forEach(i=>{const l=this.docs.get(i);r=r.insert(i,l?l.document.mutableCopy():Gn.newInvalidDocument(i))}),fe.resolve(r)}getAllFromCollection(e,t,r){let i=oa();const l=new Ge(t.child("")),d=this.docs.getIteratorFrom(l);for(;d.hasNext();){const{key:m,value:{document:v}}=d.getNext();if(!t.isPrefixOf(m.path))break;m.path.length>t.length+1||yL(_L(v),r)<=0||(i=i.insert(v.key,v.mutableCopy()))}return fe.resolve(i)}getAllFromCollectionGroup(e,t,r,i){lt()}Oi(e,t){return fe.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new J2(this)}getSize(e){return fe.resolve(this.size)}}class J2 extends PR{constructor(e){super(),this.Kn=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Kn.addEntry(e,i)):this.Kn.removeEntry(r)}),fe.waitFor(t)}getFromCache(e,t){return this.Kn.getEntry(e,t)}getAllFromCache(e,t){return this.Kn.getEntries(e,t)}}class Q2{constructor(e){this.persistence=e,this.Fi=new qd(t=>Rf(t),Ov),this.lastRemoteSnapshotVersion=At.min(),this.highestTargetId=0,this.$i=0,this.Bi=new kS,this.targetCount=0,this.Li=Hf.gn()}forEachTarget(e,t){return this.Fi.forEach((r,i)=>t(i)),fe.resolve()}getLastRemoteSnapshotVersion(e){return fe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return fe.resolve(this.$i)}allocateTargetId(e){return this.highestTargetId=this.Li.next(),fe.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.$i&&(this.$i=t),fe.resolve()}Tn(e){this.Fi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Li=new Hf(t),this.highestTargetId=t),e.sequenceNumber>this.$i&&(this.$i=e.sequenceNumber)}addTargetData(e,t){return this.Tn(t),this.targetCount+=1,fe.resolve()}updateTargetData(e,t){return this.Tn(t),fe.resolve()}removeTargetData(e,t){return this.Fi.delete(t.target),this.Bi.Pi(t.targetId),this.targetCount-=1,fe.resolve()}removeTargets(e,t,r){let i=0;const l=[];return this.Fi.forEach((d,m)=>{m.sequenceNumber<=t&&null===r.get(m.targetId)&&(this.Fi.delete(d),l.push(this.removeMatchingKeysForTargetId(e,m.targetId)),i++)}),fe.waitFor(l).next(()=>i)}getTargetCount(e){return fe.resolve(this.targetCount)}getTargetData(e,t){const r=this.Fi.get(t)||null;return fe.resolve(r)}addMatchingKeys(e,t,r){return this.Bi.Ei(t,r),fe.resolve()}removeMatchingKeys(e,t,r){this.Bi.Ri(t,r);const i=this.persistence.referenceDelegate,l=[];return i&&t.forEach(d=>{l.push(i.markPotentiallyOrphaned(e,d))}),fe.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.Bi.Pi(t),fe.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Bi.Vi(t);return fe.resolve(r)}containsKey(e,t){return fe.resolve(this.Bi.containsKey(t))}}class X2{constructor(e,t){this.Ui={},this.overlays={},this.es=new Ao(0),this.ns=!1,this.ns=!0,this.referenceDelegate=e(this),this.fs=new Q2(this),this.indexManager=new M2,this.ds=new Y2(r=>this.referenceDelegate.qi(r)),this.M=new bR(t),this._s=new z2(this.M)}start(){return Promise.resolve()}shutdown(){return this.ns=!1,Promise.resolve()}get started(){return this.ns}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Z2,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Ui[e.toKey()];return r||(r=new K2(t,this.referenceDelegate),this.Ui[e.toKey()]=r),r}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getBundleCache(){return this._s}runTransaction(e,t,r){Pe("MemoryPersistence","Starting transaction:",e);const i=new eV(this.es.next());return this.referenceDelegate.Ki(),r(i).next(l=>this.referenceDelegate.Gi(i).next(()=>l)).toPromise().then(l=>(i.raiseOnCommittedEvent(),l))}Qi(e,t){return fe.or(Object.values(this.Ui).map(r=>()=>r.containsKey(e,t)))}}class eV extends _R{constructor(e){super(),this.currentSequenceNumber=e}}class PS{constructor(e){this.persistence=e,this.ji=new kS,this.Wi=null}static zi(e){return new PS(e)}get Hi(){if(this.Wi)return this.Wi;throw lt()}addReference(e,t,r){return this.ji.addReference(r,t),this.Hi.delete(r.toString()),fe.resolve()}removeReference(e,t,r){return this.ji.removeReference(r,t),this.Hi.add(r.toString()),fe.resolve()}markPotentiallyOrphaned(e,t){return this.Hi.add(t.toString()),fe.resolve()}removeTarget(e,t){this.ji.Pi(t.targetId).forEach(i=>this.Hi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(l=>this.Hi.add(l.toString()))}).next(()=>r.removeTargetData(e,t))}Ki(){this.Wi=new Set}Gi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return fe.forEach(this.Hi,r=>{const i=Ge.fromPath(r);return this.Ji(e,i).next(l=>{l||t.removeEntry(i,At.min())})}).next(()=>(this.Wi=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ji(e,t).next(r=>{r?this.Hi.delete(t.toString()):this.Hi.add(t.toString())})}qi(e){return 0}Ji(e,t){return fe.or([()=>fe.resolve(this.ji.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Qi(e,t)])}}function ZR(n,e){return`firestore_clients_${n}_${e}`}function KR(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function FS(n,e){return`firestore_targets_${n}_${e}`}class p1{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static Yi(e,t,r){const i=JSON.parse(r);let l,d="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return d&&i.error&&(d="string"==typeof i.error.message&&"string"==typeof i.error.code,d&&(l=new Ae(i.error.code,i.error.message))),d?new p1(e,t,i.state,l):(Lr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}Xi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Jv{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Yi(e,t){const r=JSON.parse(t);let i,l="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return l&&r.error&&(l="string"==typeof r.error.message&&"string"==typeof r.error.code,l&&(i=new Ae(r.error.code,r.error.message))),l?new Jv(e,r.state,i):(Lr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Xi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class g1{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Yi(e,t){const r=JSON.parse(t);let i="object"==typeof r&&r.activeTargetIds instanceof Array,l=r1();for(let d=0;i&&d<r.activeTargetIds.length;++d)i=dO(r.activeTargetIds[d]),l=l.add(r.activeTargetIds[d]);return i?new g1(e,l):(Lr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class LS{constructor(e,t){this.clientId=e,this.onlineState=t}static Yi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new LS(t.clientId,t.onlineState):(Lr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class VS{constructor(){this.activeTargetIds=r1()}Zi(e){this.activeTargetIds=this.activeTargetIds.add(e)}tr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Xi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class BS{constructor(e,t,r,i,l){this.window=e,this.Yn=t,this.persistenceKey=r,this.er=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.nr=this.sr.bind(this),this.ir=new Mr(jt),this.started=!1,this.rr=[];const d=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=l,this.ur=ZR(this.persistenceKey,this.er),this.ar=`firestore_sequence_number_${this.persistenceKey}`,this.ir=this.ir.insert(this.er,new VS),this.cr=new RegExp(`^firestore_clients_${d}_([^_]*)$`),this.hr=new RegExp(`^firestore_mutations_${d}_(\\d+)(?:_(.*))?$`),this.lr=new RegExp(`^firestore_targets_${d}_(\\d+)$`),this.dr=`firestore_online_state_${this.persistenceKey}`,this._r=function(m){return`firestore_bundle_loaded_v2_${m}`}(this.persistenceKey),this.window.addEventListener("storage",this.nr)}static vt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,ye.Z)(function*(){const t=yield e.syncEngine.Fs();for(const i of t){if(i===e.er)continue;const l=e.getItem(ZR(e.persistenceKey,i));if(l){const d=g1.Yi(i,l);d&&(e.ir=e.ir.insert(d.clientId,d))}}e.wr();const r=e.storage.getItem(e.dr);if(r){const i=e.mr(r);i&&e.gr(i)}for(const i of e.rr)e.sr(i);e.rr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ar,JSON.stringify(e))}getAllActiveQueryTargets(){return this.yr(this.ir)}isActiveQueryTarget(e){let t=!1;return this.ir.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.pr(e,"pending")}updateMutationState(e,t,r){this.pr(e,t,r),this.Ir(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(FS(this.persistenceKey,e));if(r){const i=Jv.Yi(e,r);i&&(t=i.state)}}return this.Tr.Zi(e),this.wr(),t}removeLocalQueryTarget(e){this.Tr.tr(e),this.wr()}isLocalQueryTarget(e){return this.Tr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(FS(this.persistenceKey,e))}updateQueryState(e,t,r){this.Er(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.Ir(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Ar(e)}notifyBundleLoaded(e){this.Rr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.nr),this.removeItem(this.ur),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Pe("SharedClientState","READ",e,t),t}setItem(e,t){Pe("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Pe("SharedClientState","REMOVE",e),this.storage.removeItem(e)}sr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(Pe("SharedClientState","EVENT",r.key,r.newValue),r.key===this.ur)return void Lr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Yn.enqueueRetryable((0,ye.Z)(function*(){if(t.started){if(null!==r.key)if(t.cr.test(r.key)){if(null==r.newValue){const i=t.Pr(r.key);return t.br(i,null)}{const i=t.Vr(r.key,r.newValue);if(i)return t.br(i.clientId,i)}}else if(t.hr.test(r.key)){if(null!==r.newValue){const i=t.vr(r.key,r.newValue);if(i)return t.Sr(i)}}else if(t.lr.test(r.key)){if(null!==r.newValue){const i=t.Dr(r.key,r.newValue);if(i)return t.Cr(i)}}else if(r.key===t.dr){if(null!==r.newValue){const i=t.mr(r.newValue);if(i)return t.gr(i)}}else if(r.key===t.ar){const i=function(l){let d=Ao.A;if(null!=l)try{const m=JSON.parse(l);xt("number"==typeof m),d=m}catch(m){Lr("SharedClientState","Failed to read sequence number from WebStorage",m)}return d}(r.newValue);i!==Ao.A&&t.sequenceNumberHandler(i)}else if(r.key===t._r){const i=t.Nr(r.newValue);yield Promise.all(i.map(l=>t.syncEngine.kr(l)))}}else t.rr.push(r)}))}}get Tr(){return this.ir.get(this.er)}wr(){this.setItem(this.ur,this.Tr.Xi())}pr(e,t,r){const i=new p1(this.currentUser,e,t,r),l=KR(this.persistenceKey,this.currentUser,e);this.setItem(l,i.Xi())}Ir(e){const t=KR(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Ar(e){this.storage.setItem(this.dr,JSON.stringify({clientId:this.er,onlineState:e}))}Er(e,t,r){const i=FS(this.persistenceKey,e),l=new Jv(e,t,r);this.setItem(i,l.Xi())}Rr(e){const t=JSON.stringify(Array.from(e));this.setItem(this._r,t)}Pr(e){const t=this.cr.exec(e);return t?t[1]:null}Vr(e,t){const r=this.Pr(e);return g1.Yi(r,t)}vr(e,t){const r=this.hr.exec(e),i=Number(r[1]);return p1.Yi(new Pi(void 0!==r[2]?r[2]:null),i,t)}Dr(e,t){const r=this.lr.exec(e),i=Number(r[1]);return Jv.Yi(i,t)}mr(e){return LS.Yi(e)}Nr(e){return JSON.parse(e)}Sr(e){var t=this;return(0,ye.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Mr(e.batchId,e.state,e.error);Pe("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Cr(e){return this.syncEngine.Or(e.targetId,e.state,e.error)}br(e,t){const r=t?this.ir.insert(e,t):this.ir.remove(e),i=this.yr(this.ir),l=this.yr(r),d=[],m=[];return l.forEach(v=>{i.has(v)||d.push(v)}),i.forEach(v=>{l.has(v)||m.push(v)}),this.syncEngine.Fr(d,m).then(()=>{this.ir=r})}gr(e){this.ir.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}yr(e){let t=r1();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class YR{constructor(){this.$r=new VS,this.Br={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.$r.Zi(e),this.Br[e]||"not-current"}updateQueryState(e,t,r){this.Br[e]=t}removeLocalQueryTarget(e){this.$r.tr(e)}isLocalQueryTarget(e){return this.$r.activeTargetIds.has(e)}clearQueryState(e){delete this.Br[e]}getAllActiveQueryTargets(){return this.$r.activeTargetIds}isActiveQueryTarget(e){return this.$r.activeTargetIds.has(e)}start(){return this.$r=new VS,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class tV{Lr(e){}shutdown(){}}class JR{constructor(){this.Ur=()=>this.qr(),this.Kr=()=>this.Gr(),this.Qr=[],this.jr()}Lr(e){this.Qr.push(e)}shutdown(){window.removeEventListener("online",this.Ur),window.removeEventListener("offline",this.Kr)}jr(){window.addEventListener("online",this.Ur),window.addEventListener("offline",this.Kr)}qr(){Pe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Qr)e(0)}Gr(){Pe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Qr)e(1)}static vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const nV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class rV{constructor(e){this.Wr=e.Wr,this.zr=e.zr}Hr(e){this.Jr=e}Yr(e){this.Xr=e}onMessage(e){this.Zr=e}close(){this.zr()}send(e){this.Wr(e)}eo(){this.Jr()}no(e){this.Xr(e)}so(e){this.Zr(e)}}class iV extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.io=(e.ssl?"https":"http")+"://"+e.host,this.ro="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}oo(e,t,r,i,l){const d=this.uo(e,t);Pe("RestConnection","Sending: ",d,r);const m={};return this.ao(m,i,l),this.co(e,d,m,r).then(v=>(Pe("RestConnection","Received: ",v),v),v=>{throw Cv("RestConnection",`${e} failed with error: `,v,"url: ",d,"request:",r),v})}ho(e,t,r,i,l){return this.oo(e,t,r,i,l)}ao(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+am,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,l)=>e[l]=i),r&&r.headers.forEach((i,l)=>e[l]=i)}uo(e,t){return`${this.io}/v1/${t}:${nV[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}co(e,t,r,i){return new Promise((l,d)=>{const m=new tL;m.listenOnce(QF.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case QI.NO_ERROR:const D=m.getResponseJson();Pe("Connection","XHR received:",JSON.stringify(D)),l(D);break;case QI.TIMEOUT:Pe("Connection",'RPC "'+e+'" timed out'),d(new Ae(ce.DEADLINE_EXCEEDED,"Request time out"));break;case QI.HTTP_ERROR:const I=m.getStatus();if(Pe("Connection",'RPC "'+e+'" failed with status:',I,"response text:",m.getResponseText()),I>0){const M=m.getResponseJson().error;if(M&&M.status&&M.message){const F=function(B){const Z=B.toLowerCase().replace(/_/g,"-");return Object.values(ce).indexOf(Z)>=0?Z:ce.UNKNOWN}(M.status);d(new Ae(F,M.message))}else d(new Ae(ce.UNKNOWN,"Server responded with status "+m.getStatus()))}else d(new Ae(ce.UNAVAILABLE,"Connection failed."));break;default:lt()}}finally{Pe("Connection",'RPC "'+e+'" completed.')}});const v=JSON.stringify(i);m.send(t,"POST",v,r,15)})}lo(e,t,r){const i=[this.io,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=YF(),d=JF(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(m.xmlHttpFactory=new eL({})),this.ao(m.initMessageHeaders,t,r),(0,Kt.uI)()||(0,Kt.b$)()||(0,Kt.d)()||(0,Kt.w1)()||(0,Kt.Mn)()||(0,Kt.ru)()||(m.httpHeadersOverwriteParam="$httpHeaders");const v=i.join("");Pe("Connection","Creating WebChannel: "+v,m);const D=l.createWebChannel(v,m);let I=!1,M=!1;const F=new rV({Wr:Z=>{M?Pe("Connection","Not sending because WebChannel is closed:",Z):(I||(Pe("Connection","Opening WebChannel transport."),D.open(),I=!0),Pe("Connection","WebChannel sending:",Z),D.send(Z))},zr:()=>D.close()}),B=(Z,se,Ne)=>{Z.listen(se,Xe=>{try{Ne(Xe)}catch($e){setTimeout(()=>{throw $e},0)}})};return B(D,WD.EventType.OPEN,()=>{M||Pe("Connection","WebChannel transport opened.")}),B(D,WD.EventType.CLOSE,()=>{M||(M=!0,Pe("Connection","WebChannel transport closed"),F.no())}),B(D,WD.EventType.ERROR,Z=>{M||(M=!0,Cv("Connection","WebChannel transport errored:",Z),F.no(new Ae(ce.UNAVAILABLE,"The operation could not be completed")))}),B(D,WD.EventType.MESSAGE,Z=>{var se;if(!M){const Ne=Z.data[0];xt(!!Ne);const Xe=Ne,$e=Xe.error||(null===(se=Xe[0])||void 0===se?void 0:se.error);if($e){Pe("Connection","WebChannel received error:",$e);const ot=$e.status;let qe=function(ut){const Rt=Br[ut];if(void 0!==Rt)return zO(Rt)}(ot),et=$e.message;void 0===qe&&(qe=ce.INTERNAL,et="Unknown error status: "+ot+" with message "+$e.message),M=!0,F.no(new Ae(qe,et)),D.close()}else Pe("Connection","WebChannel received:",Ne),F.so(Ne)}}),B(d,XF.STAT_EVENT,Z=>{Z.stat===nO.PROXY?Pe("Connection","Detected buffering proxy"):Z.stat===nO.NOPROXY&&Pe("Connection","Detected no buffering proxy")}),setTimeout(()=>{F.eo()},0),F}}function QR(){return"undefined"!=typeof window?window:null}function m1(){return"undefined"!=typeof document?document:null}function Qv(n){return new WL(n,!0)}class US{constructor(e,t,r=1e3,i=1.5,l=6e4){this.Yn=e,this.timerId=t,this.fo=r,this._o=i,this.wo=l,this.mo=0,this.yo=null,this.po=Date.now(),this.reset()}reset(){this.mo=0}Io(){this.mo=this.wo}To(e){this.cancel();const t=Math.floor(this.mo+this.Eo()),r=Math.max(0,Date.now()-this.po),i=Math.max(0,t-r);i>0&&Pe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.mo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.yo=this.Yn.enqueueAfterDelay(this.timerId,i,()=>(this.po=Date.now(),e())),this.mo*=this._o,this.mo<this.fo&&(this.mo=this.fo),this.mo>this.wo&&(this.mo=this.wo)}Ao(){null!==this.yo&&(this.yo.skipDelay(),this.yo=null)}cancel(){null!==this.yo&&(this.yo.cancel(),this.yo=null)}Eo(){return(Math.random()-.5)*this.mo}}class XR{constructor(e,t,r,i,l,d,m,v){this.Yn=e,this.Ro=r,this.Po=i,this.bo=l,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=m,this.listener=v,this.state=0,this.Vo=0,this.vo=null,this.So=null,this.stream=null,this.Do=new US(e,t)}Co(){return 1===this.state||5===this.state||this.xo()}xo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.No()}stop(){var e=this;return(0,ye.Z)(function*(){e.Co()&&(yield e.close(0))})()}ko(){this.state=0,this.Do.reset()}Mo(){this.xo()&&null===this.vo&&(this.vo=this.Yn.enqueueAfterDelay(this.Ro,6e4,()=>this.Oo()))}Fo(e){this.$o(),this.stream.send(e)}Oo(){var e=this;return(0,ye.Z)(function*(){if(e.xo())return e.close(0)})()}$o(){this.vo&&(this.vo.cancel(),this.vo=null)}Bo(){this.So&&(this.So.cancel(),this.So=null)}close(e,t){var r=this;return(0,ye.Z)(function*(){r.$o(),r.Bo(),r.Do.cancel(),r.Vo++,4!==e?r.Do.reset():t&&t.code===ce.RESOURCE_EXHAUSTED?(Lr(t.toString()),Lr("Using maximum backoff delay to prevent overloading the backend."),r.Do.Io()):t&&t.code===ce.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Lo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Yr(t)})()}Lo(){}auth(){this.state=1;const e=this.Uo(this.Vo),t=this.Vo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Vo===t&&this.qo(r,i)},r=>{e(()=>{const i=new Ae(ce.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Ko(i)})})}qo(e,t){const r=this.Uo(this.Vo);this.stream=this.Go(e,t),this.stream.Hr(()=>{r(()=>(this.state=2,this.So=this.Yn.enqueueAfterDelay(this.Po,1e4,()=>(this.xo()&&(this.state=3),Promise.resolve())),this.listener.Hr()))}),this.stream.Yr(i=>{r(()=>this.Ko(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}No(){var e=this;this.state=5,this.Do.To((0,ye.Z)(function*(){e.state=0,e.start()}))}Ko(e){return Pe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Uo(e){return t=>{this.Yn.enqueueAndForget(()=>this.Vo===e?t():(Pe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class sV extends XR{constructor(e,t,r,i,l,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,d),this.M=l}Go(e,t){return this.bo.lo("Listen",e,t)}onMessage(e){this.Do.reset();const t=function ZL(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(v=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===v?1:"REMOVE"===v?2:"CURRENT"===v?3:"RESET"===v?4:lt(),i=e.targetChange.targetIds||[],l=function(v,D){return v.N?(xt(void 0===D||"string"==typeof D),ei.fromBase64String(D||"")):(xt(void 0===D||D instanceof Uint8Array),ei.fromUint8Array(D||new Uint8Array))}(n,e.targetChange.resumeToken),d=e.targetChange.cause,m=d&&function(v){const D=void 0===v.code?ce.UNKNOWN:zO(v.code);return new Ae(D,v.message||"")}(d);t=new YO(r,i,l,m||null)}else if("documentChange"in e){const r=e.documentChange,i=nu(n,r.document.name),l=mi(r.document.updateTime),d=new es({mapValue:{fields:r.document.fields}}),m=Gn.newFoundDocument(i,l,d);t=new i1(r.targetIds||[],r.removedTargetIds||[],m.key,m)}else if("documentDelete"in e){const r=e.documentDelete,i=nu(n,r.document),l=r.readTime?mi(r.readTime):At.min(),d=Gn.newNoDocument(i,l);t=new i1([],r.removedTargetIds||[],d.key,d)}else if("documentRemove"in e){const r=e.documentRemove,i=nu(n,r.document);t=new i1([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return lt();{const r=e.filter,l=new FL(r.count||0);t=new KO(r.targetId,l)}}var v;return t}(this.M,e),r=function(i){if(!("targetChange"in i))return At.min();const l=i.targetChange;return l.targetIds&&l.targetIds.length?At.min():l.readTime?mi(l.readTime):At.min()}(e);return this.listener.Qo(t,r)}jo(e){const t={};t.database=Gv(this.M),t.addTarget=function(i,l){let d;const m=l.target;return d=KD(m)?{documents:oR(i,m)}:{query:aR(i,m)},d.targetId=l.targetId,l.resumeToken.approximateByteSize()>0?d.resumeToken=eR(i,l.resumeToken):l.snapshotVersion.compareTo(At.min())>0&&(d.readTime=Uv(i,l.snapshotVersion.toTimestamp())),d}(this.M,e);const r=function YL(n,e){const t=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return lt()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Fo(t)}Wo(e){const t={};t.database=Gv(this.M),t.removeTarget=e,this.Fo(t)}}class oV extends XR{constructor(e,t,r,i,l,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,d),this.M=l,this.zo=!1}get Ho(){return this.zo}start(){this.zo=!1,this.lastStreamToken=void 0,super.start()}Lo(){this.zo&&this.Jo([])}Go(e,t){return this.bo.lo("Write",e,t)}onMessage(e){if(xt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.zo){this.Do.reset();const t=function KL(n,e){return n&&n.length>0?(xt(void 0!==e),n.map(t=>function(r,i){let l=mi(r.updateTime?r.updateTime:i);return l.isEqual(At.min())&&(l=mi(i)),new RL(l,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=mi(e.commitTime);return this.listener.Yo(r,t)}return xt(!e.writeResults||0===e.writeResults.length),this.zo=!0,this.listener.Xo()}Zo(){const e={};e.database=Gv(this.M),this.Fo(e)}Jo(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>Hv(this.M,r))};this.Fo(t)}}class aV extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.bo=r,this.M=i,this.tu=!1}eu(){if(this.tu)throw new Ae(ce.FAILED_PRECONDITION,"The client has already been terminated.")}oo(e,t,r){return this.eu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,l])=>this.bo.oo(e,t,r,i,l)).catch(i=>{throw"FirebaseError"===i.name?(i.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Ae(ce.UNKNOWN,i.toString())})}ho(e,t,r){return this.eu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,l])=>this.bo.ho(e,t,r,i,l)).catch(i=>{throw"FirebaseError"===i.name?(i.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Ae(ce.UNKNOWN,i.toString())})}terminate(){this.tu=!0}}class lV{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.nu=0,this.su=null,this.iu=!0}ru(){0===this.nu&&(this.ou("Unknown"),this.su=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.su=null,this.uu("Backend didn't respond within 10 seconds."),this.ou("Offline"),Promise.resolve())))}au(e){"Online"===this.state?this.ou("Unknown"):(this.nu++,this.nu>=1&&(this.cu(),this.uu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ou("Offline")))}set(e){this.cu(),this.nu=0,"Online"===e&&(this.iu=!1),this.ou(e)}ou(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}uu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.iu?(Lr(t),this.iu=!1):Pe("OnlineStateTracker",t)}cu(){null!==this.su&&(this.su.cancel(),this.su=null)}}class uV{constructor(e,t,r,i,l){var d=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.hu=[],this.lu=new Map,this.fu=new Set,this.du=[],this._u=l,this._u.Lr(m=>{r.enqueueAndForget((0,ye.Z)(function*(){var v;Jd(d)&&(Pe("RemoteStore","Restarting streams for network reachability change."),yield(v=(0,ye.Z)(function*(D){const I=Ze(D);I.fu.add(4),yield Tm(I),I.wu.set("Unknown"),I.fu.delete(4),yield Xv(I)}),function(D){return v.apply(this,arguments)})(d))}))}),this.wu=new lV(r,i)}}function Xv(n){return jS.apply(this,arguments)}function jS(){return jS=(0,ye.Z)(function*(n){if(Jd(n))for(const e of n.du)yield e(!0)}),jS.apply(this,arguments)}function Tm(n){return GS.apply(this,arguments)}function GS(){return GS=(0,ye.Z)(function*(n){for(const e of n.du)yield e(!1)}),GS.apply(this,arguments)}function _1(n,e){const t=Ze(n);t.lu.has(e.targetId)||(t.lu.set(e.targetId,e),WS(t)?$S(t):Sm(t).xo()&&HS(t,e))}function e0(n,e){const t=Ze(n),r=Sm(t);t.lu.delete(e),r.xo()&&ek(t,e),0===t.lu.size&&(r.xo()?r.Mo():Jd(t)&&t.wu.set("Unknown"))}function HS(n,e){n.mu.Z(e.targetId),Sm(n).jo(e)}function ek(n,e){n.mu.Z(e),Sm(n).Wo(e)}function $S(n){n.mu=new GL({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.lu.get(e)||null}),Sm(n).start(),n.wu.ru()}function WS(n){return Jd(n)&&!Sm(n).Co()&&n.lu.size>0}function Jd(n){return 0===Ze(n).fu.size}function tk(n){n.mu=void 0}function cV(n){return qS.apply(this,arguments)}function qS(){return qS=(0,ye.Z)(function*(n){n.lu.forEach((e,t)=>{HS(n,e)})}),qS.apply(this,arguments)}function dV(n,e){return zS.apply(this,arguments)}function zS(){return zS=(0,ye.Z)(function*(n,e){tk(n),WS(n)?(n.wu.au(e),$S(n)):n.wu.set("Unknown")}),zS.apply(this,arguments)}function hV(n,e,t){return ZS.apply(this,arguments)}function ZS(){return ZS=(0,ye.Z)(function*(n,e,t){if(n.wu.set("Online"),e instanceof YO&&2===e.state&&e.cause)try{yield(r=(0,ye.Z)(function*(i,l){const d=l.cause;for(const m of l.targetIds)i.lu.has(m)&&(yield i.remoteSyncer.rejectListen(m,d),i.lu.delete(m),i.mu.removeTarget(m))}),function(i,l){return r.apply(this,arguments)})(n,e)}catch(r){Pe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield y1(n,r)}else if(e instanceof i1?n.mu.ut(e):e instanceof KO?n.mu._t(e):n.mu.ht(e),!t.isEqual(At.min()))try{const r=yield HR(n.localStore);t.compareTo(r)>=0&&(yield function(i,l){const d=i.mu.yt(l);return d.targetChanges.forEach((m,v)=>{if(m.resumeToken.approximateByteSize()>0){const D=i.lu.get(v);D&&i.lu.set(v,D.withResumeToken(m.resumeToken,l))}}),d.targetMismatches.forEach(m=>{const v=i.lu.get(m);if(!v)return;i.lu.set(m,v.withResumeToken(ei.EMPTY_BYTE_STRING,v.snapshotVersion)),ek(i,m);const D=new zd(v.target,m,1,v.sequenceNumber);HS(i,D)}),i.remoteSyncer.applyRemoteEvent(d)}(n,t))}catch(r){Pe("RemoteStore","Failed to raise snapshot:",r),yield y1(n,r)}var r}),ZS.apply(this,arguments)}function y1(n,e,t){return KS.apply(this,arguments)}function KS(){return KS=(0,ye.Z)(function*(n,e,t){if(!Lf(e))throw e;n.fu.add(1),yield Tm(n),n.wu.set("Offline"),t||(t=()=>HR(n.localStore)),n.asyncQueue.enqueueRetryable((0,ye.Z)(function*(){Pe("RemoteStore","Retrying IndexedDB access"),yield t(),n.fu.delete(1),yield Xv(n)}))}),KS.apply(this,arguments)}function nk(n,e){return e().catch(t=>y1(n,t,e))}function Im(n){return YS.apply(this,arguments)}function YS(){return YS=(0,ye.Z)(function*(n){const e=Ze(n),t=Qd(e);let r=e.hu.length>0?e.hu[e.hu.length-1].batchId:-1;for(;fV(e);)try{const i=yield $2(e.localStore,r);if(null===i){0===e.hu.length&&t.Mo();break}r=i.batchId,pV(e,i)}catch(i){yield y1(e,i)}rk(e)&&ik(e)}),YS.apply(this,arguments)}function fV(n){return Jd(n)&&n.hu.length<10}function pV(n,e){n.hu.push(e);const t=Qd(n);t.xo()&&t.Ho&&t.Jo(e.mutations)}function rk(n){return Jd(n)&&!Qd(n).Co()&&n.hu.length>0}function ik(n){Qd(n).start()}function gV(n){return JS.apply(this,arguments)}function JS(){return JS=(0,ye.Z)(function*(n){Qd(n).Zo()}),JS.apply(this,arguments)}function mV(n){return QS.apply(this,arguments)}function QS(){return QS=(0,ye.Z)(function*(n){const e=Qd(n);for(const t of n.hu)e.Jo(t.mutations)}),QS.apply(this,arguments)}function _V(n,e,t){return XS.apply(this,arguments)}function XS(){return XS=(0,ye.Z)(function*(n,e,t){const r=n.hu.shift(),i=yS.from(r,e,t);yield nk(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Im(n)}),XS.apply(this,arguments)}function yV(n,e){return eA.apply(this,arguments)}function eA(){return eA=(0,ye.Z)(function*(n,e){var t;e&&Qd(n).Ho&&(yield(t=(0,ye.Z)(function*(r,i){if(qO(l=i.code)&&l!==ce.ABORTED){const d=r.hu.shift();Qd(r).ko(),yield nk(r,()=>r.remoteSyncer.rejectFailedWrite(d.batchId,i)),yield Im(r)}var l}),function(r,i){return t.apply(this,arguments)})(n,e)),rk(n)&&ik(n)}),eA.apply(this,arguments)}function sk(n,e){return tA.apply(this,arguments)}function tA(){return tA=(0,ye.Z)(function*(n,e){const t=Ze(n);t.asyncQueue.verifyOperationInProgress(),Pe("RemoteStore","RemoteStore received new credentials");const r=Jd(t);t.fu.add(3),yield Tm(t),r&&t.wu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.fu.delete(3),yield Xv(t)}),tA.apply(this,arguments)}function nA(n,e){return rA.apply(this,arguments)}function rA(){return rA=(0,ye.Z)(function*(n,e){const t=Ze(n);e?(t.fu.delete(2),yield Xv(t)):e||(t.fu.add(2),yield Tm(t),t.wu.set("Unknown"))}),rA.apply(this,arguments)}function Sm(n){return n.gu||(n.gu=function(e,t,r){const i=Ze(e);return i.eu(),new sV(t,i.bo,i.authCredentials,i.appCheckCredentials,i.M,r)}(n.datastore,n.asyncQueue,{Hr:cV.bind(null,n),Yr:dV.bind(null,n),Qo:hV.bind(null,n)}),n.du.push(function(){var e=(0,ye.Z)(function*(t){t?(n.gu.ko(),WS(n)?$S(n):n.wu.set("Unknown")):(yield n.gu.stop(),tk(n))});return function(t){return e.apply(this,arguments)}}())),n.gu}function Qd(n){return n.yu||(n.yu=function(e,t,r){const i=Ze(e);return i.eu(),new oV(t,i.bo,i.authCredentials,i.appCheckCredentials,i.M,r)}(n.datastore,n.asyncQueue,{Hr:gV.bind(null,n),Yr:yV.bind(null,n),Xo:mV.bind(null,n),Yo:_V.bind(null,n)}),n.du.push(function(){var e=(0,ye.Z)(function*(t){t?(n.yu.ko(),yield Im(n)):(yield n.yu.stop(),n.hu.length>0&&(Pe("RemoteStore",`Stopping write stream with ${n.hu.length} pending writes`),n.hu=[]))});return function(t){return e.apply(this,arguments)}}())),n.yu}class iA{constructor(e,t,r,i,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=l,this.deferred=new pi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}static createAndSchedule(e,t,r,i,l){const d=Date.now()+r,m=new iA(e,t,d,i,l);return m.start(r),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ae(ce.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Am(n,e){if(Lr("AsyncQueue",`${e}: ${n}`),Lf(n))return new Ae(ce.UNAVAILABLE,`${e}: ${n}`);throw n}class Nm{constructor(e){this.comparator=e?(t,r)=>e(t,r)||Ge.comparator(t.key,r.key):(t,r)=>Ge.comparator(t.key,r.key),this.keyedMap=hS(),this.sortedSet=new Mr(this.comparator)}static emptySet(e){return new Nm(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Nm)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,l=r.getNext().key;if(!i.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new Nm;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class ok{constructor(){this.pu=new Mr(Ge.comparator)}track(e){const t=e.doc.key,r=this.pu.get(t);r?0!==e.type&&3===r.type?this.pu=this.pu.insert(t,e):3===e.type&&1!==r.type?this.pu=this.pu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.pu=this.pu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.pu=this.pu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.pu=this.pu.remove(t):1===e.type&&2===r.type?this.pu=this.pu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.pu=this.pu.insert(t,{type:2,doc:e.doc}):lt():this.pu=this.pu.insert(t,e)}Iu(){const e=[];return this.pu.inorderTraversal((t,r)=>{e.push(r)}),e}}class Mm{constructor(e,t,r,i,l,d,m,v){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=l,this.fromCache=d,this.syncStateChanged=m,this.excludesMetadataChanges=v}static fromInitialDocuments(e,t,r,i){const l=[];return t.forEach(d=>{l.push({type:0,doc:d})}),new Mm(e,t,Nm.emptySet(t),l,r,i,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Rv(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class vV{constructor(){this.Tu=void 0,this.listeners=[]}}class bV{constructor(){this.queries=new qd(e=>MO(e),Rv),this.onlineState="Unknown",this.Eu=new Set}}function sA(n,e){return oA.apply(this,arguments)}function oA(){return oA=(0,ye.Z)(function*(n,e){const t=Ze(n),r=e.query;let i=!1,l=t.queries.get(r);if(l||(i=!0,l=new vV),i)try{l.Tu=yield t.onListen(r)}catch(d){const m=Am(d,`Initialization of query '${lS(e.query)}' failed`);return void e.onError(m)}t.queries.set(r,l),l.listeners.push(e),e.Au(t.onlineState),l.Tu&&e.Ru(l.Tu)&&uA(t)}),oA.apply(this,arguments)}function aA(n,e){return lA.apply(this,arguments)}function lA(){return lA=(0,ye.Z)(function*(n,e){const t=Ze(n),r=e.query;let i=!1;const l=t.queries.get(r);if(l){const d=l.listeners.indexOf(e);d>=0&&(l.listeners.splice(d,1),i=0===l.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),lA.apply(this,arguments)}function wV(n,e){const t=Ze(n);let r=!1;for(const i of e){const d=t.queries.get(i.query);if(d){for(const m of d.listeners)m.Ru(i)&&(r=!0);d.Tu=i}}r&&uA(t)}function DV(n,e,t){const r=Ze(n),i=r.queries.get(e);if(i)for(const l of i.listeners)l.onError(t);r.queries.delete(e)}function uA(n){n.Eu.forEach(e=>{e.next()})}class cA{constructor(e,t,r){this.query=e,this.Pu=t,this.bu=!1,this.Vu=null,this.onlineState="Unknown",this.options=r||{}}Ru(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Mm(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.bu?this.vu(e)&&(this.Pu.next(e),t=!0):this.Su(e,this.onlineState)&&(this.Du(e),t=!0),this.Vu=e,t}onError(e){this.Pu.error(e)}Au(e){this.onlineState=e;let t=!1;return this.Vu&&!this.bu&&this.Su(this.Vu,e)&&(this.Du(this.Vu),t=!0),t}Su(e,t){return!e.fromCache||!(this.options.Cu&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}vu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Vu&&this.Vu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Du(e){e=Mm.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Pu.next(e)}}class EV{constructor(e,t){this.payload=e,this.byteLength=t}xu(){return"metadata"in this.payload}}class ak{constructor(e){this.M=e}fi(e){return nu(this.M,e)}di(e){return e.metadata.exists?sR(this.M,e.document,!1):Gn.newNoDocument(this.fi(e.metadata.name),this._i(e.metadata.readTime))}_i(e){return mi(e)}}class CV{constructor(e,t,r){this.Nu=e,this.localStore=t,this.M=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=lk(e)}ku(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const r=cn.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Mu(e){const t=new Map,r=new ak(this.M);for(const i of e)if(i.metadata.queries){const l=r.fi(i.metadata.name);for(const d of i.metadata.queries){const m=(t.get(d)||Dn()).add(l);t.set(d,m)}}return t}complete(){var e=this;return(0,ye.Z)(function*(){const t=yield function W2(n,e,t,r){return OS.apply(this,arguments)}(e.localStore,new ak(e.M),e.documents,e.Nu.id),r=e.Mu(e.documents);for(const i of e.queries)yield q2(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,Ou:e.collectionGroups,Fu:t}})()}}function lk(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class uk{constructor(e){this.key=e}}class ck{constructor(e){this.key=e}}class dk{constructor(e,t){this.query=e,this.$u=t,this.Bu=null,this.current=!1,this.Lu=Dn(),this.mutatedKeys=Dn(),this.Uu=OO(e),this.qu=new Nm(this.Uu)}get Ku(){return this.$u}Gu(e,t){const r=t?t.Qu:new ok,i=t?t.qu:this.qu;let l=t?t.mutatedKeys:this.mutatedKeys,d=i,m=!1;const v=JD(this.query)&&i.size===this.query.limit?i.last():null,D=QD(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((I,M)=>{const F=i.get(I),B=uS(this.query,M)?M:null,Z=!!F&&this.mutatedKeys.has(F.key),se=!!B&&(B.hasLocalMutations||this.mutatedKeys.has(B.key)&&B.hasCommittedMutations);let Ne=!1;F&&B?F.data.isEqual(B.data)?Z!==se&&(r.track({type:3,doc:B}),Ne=!0):this.ju(F,B)||(r.track({type:2,doc:B}),Ne=!0,(v&&this.Uu(B,v)>0||D&&this.Uu(B,D)<0)&&(m=!0)):!F&&B?(r.track({type:0,doc:B}),Ne=!0):F&&!B&&(r.track({type:1,doc:F}),Ne=!0,(v||D)&&(m=!0)),Ne&&(B?(d=d.add(B),l=se?l.add(I):l.delete(I)):(d=d.delete(I),l=l.delete(I)))}),JD(this.query)||QD(this.query))for(;d.size>this.query.limit;){const I=JD(this.query)?d.last():d.first();d=d.delete(I.key),l=l.delete(I.key),r.track({type:1,doc:I})}return{qu:d,Qu:r,ni:m,mutatedKeys:l}}ju(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.qu;this.qu=e.qu,this.mutatedKeys=e.mutatedKeys;const l=e.Qu.Iu();l.sort((D,I)=>function(M,F){const B=Z=>{switch(Z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return lt()}};return B(M)-B(F)}(D.type,I.type)||this.Uu(D.doc,I.doc)),this.Wu(r);const d=t?this.zu():[],m=0===this.Lu.size&&this.current?1:0,v=m!==this.Bu;return this.Bu=m,0!==l.length||v?{snapshot:new Mm(this.query,e.qu,i,l,e.mutatedKeys,0===m,v,!1),Hu:d}:{Hu:d}}Au(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({qu:this.qu,Qu:new ok,mutatedKeys:this.mutatedKeys,ni:!1},!1)):{Hu:[]}}Ju(e){return!this.$u.has(e)&&!!this.qu.has(e)&&!this.qu.get(e).hasLocalMutations}Wu(e){e&&(e.addedDocuments.forEach(t=>this.$u=this.$u.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.$u=this.$u.delete(t)),this.current=e.current)}zu(){if(!this.current)return[];const e=this.Lu;this.Lu=Dn(),this.qu.forEach(r=>{this.Ju(r.key)&&(this.Lu=this.Lu.add(r.key))});const t=[];return e.forEach(r=>{this.Lu.has(r)||t.push(new ck(r))}),this.Lu.forEach(r=>{e.has(r)||t.push(new uk(r))}),t}Yu(e){this.$u=e.li,this.Lu=Dn();const t=this.Gu(e.documents);return this.applyChanges(t,!0)}Xu(){return Mm.fromInitialDocuments(this.query,this.qu,this.mutatedKeys,0===this.Bu)}}class TV{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class IV{constructor(e){this.key=e,this.Zu=!1}}class SV{constructor(e,t,r,i,l,d){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=l,this.maxConcurrentLimboResolutions=d,this.ta={},this.ea=new qd(m=>MO(m),Rv),this.na=new Map,this.sa=new Set,this.ia=new Mr(Ge.comparator),this.ra=new Map,this.oa=new kS,this.ua={},this.aa=new Map,this.ca=Hf.yn(),this.onlineState="Unknown",this.ha=void 0}get isPrimaryClient(){return!0===this.ha}}function AV(n,e){return dA.apply(this,arguments)}function dA(){return dA=(0,ye.Z)(function*(n,e){const t=kA(n);let r,i;const l=t.ea.get(e);if(l)r=l.targetId,t.sharedClientState.addLocalQueryTarget(r),i=l.view.Xu();else{const d=yield Em(t.localStore,sa(e));t.isPrimaryClient&&_1(t.remoteStore,d);const m=t.sharedClientState.addLocalQueryTarget(d.targetId);r=d.targetId,i=yield hA(t,e,r,"current"===m)}return i}),dA.apply(this,arguments)}function hA(n,e,t,r){return fA.apply(this,arguments)}function fA(){return fA=(0,ye.Z)(function*(n,e,t,r){n.la=(I,M,F)=>{return(B=(0,ye.Z)(function*(Z,se,Ne,Xe){let $e=se.view.Gu(Ne);$e.ni&&($e=yield f1(Z.localStore,se.query,!1).then(({documents:et})=>se.view.Gu(et,$e)));const ot=Xe&&Xe.targetChanges.get(se.targetId),qe=se.view.applyChanges($e,Z.isPrimaryClient,ot);return EA(Z,se.targetId,qe.Hu),qe.snapshot}),function(Z,se,Ne,Xe){return B.apply(this,arguments)})(n,I,M,F);var B};const i=yield f1(n.localStore,e,!0),l=new dk(e,i.li),d=l.Gu(i.documents),m=Bv.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState),v=l.applyChanges(d,n.isPrimaryClient,m);EA(n,t,v.Hu);const D=new TV(e,t,l);return n.ea.set(e,D),n.na.has(t)?n.na.get(t).push(e):n.na.set(t,[e]),v.snapshot}),fA.apply(this,arguments)}function NV(n,e){return pA.apply(this,arguments)}function pA(){return pA=(0,ye.Z)(function*(n,e){const t=Ze(n),r=t.ea.get(e),i=t.na.get(r.targetId);if(i.length>1)return t.na.set(r.targetId,i.filter(l=>!Rv(l,e))),void t.ea.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Cm(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),e0(t.remoteStore,r.targetId),xm(t,r.targetId)}).catch($f))):(xm(t,r.targetId),yield Cm(t.localStore,r.targetId,!0))}),pA.apply(this,arguments)}function gA(){return gA=(0,ye.Z)(function*(n,e,t){const r=PA(n);try{const i=yield function(l,d){const m=Ze(l),v=Nr.now(),D=d.reduce((M,F)=>M.add(F.key),Dn());let I;return m.persistence.runTransaction("Locally write mutations","readwrite",M=>m.ci.Ks(M,D).next(F=>{I=F;const B=[];for(const Z of d){const se=PL(Z,I.get(Z.key));null!=se&&B.push(new Ff(Z.key,se,bO(se.value.mapValue),Vr.exists(!0)))}return m.Bs.addMutationBatch(M,v,B,d)})).then(M=>(M.applyToLocalDocumentSet(I),{batchId:M.batchId,changes:I}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(l,d,m){let v=l.ua[l.currentUser.toKey()];v||(v=new Mr(jt)),v=v.insert(d,m),l.ua[l.currentUser.toKey()]=v}(r,i.batchId,t),yield mc(r,i.changes),yield Im(r.remoteStore)}catch(i){const l=Am(i,"Failed to persist write");t.reject(l)}}),gA.apply(this,arguments)}function hk(n,e){return mA.apply(this,arguments)}function mA(){return mA=(0,ye.Z)(function*(n,e){const t=Ze(n);try{const r=yield H2(t.localStore,e);e.targetChanges.forEach((i,l)=>{const d=t.ra.get(l);d&&(xt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?d.Zu=!0:i.modifiedDocuments.size>0?xt(d.Zu):i.removedDocuments.size>0&&(xt(d.Zu),d.Zu=!1))}),yield mc(t,r,e)}catch(r){yield $f(r)}}),mA.apply(this,arguments)}function fk(n,e,t){const r=Ze(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.ea.forEach((l,d)=>{const m=d.view.Au(e);m.snapshot&&i.push(m.snapshot)}),function(l,d){const m=Ze(l);m.onlineState=d;let v=!1;m.queries.forEach((D,I)=>{for(const M of I.listeners)M.Au(d)&&(v=!0)}),v&&uA(m)}(r.eventManager,e),i.length&&r.ta.Qo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function xV(n,e,t){return _A.apply(this,arguments)}function _A(){return _A=(0,ye.Z)(function*(n,e,t){const r=Ze(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.ra.get(e),l=i&&i.key;if(l){let d=new Mr(Ge.comparator);d=d.insert(l,Gn.newNoDocument(l,At.min()));const m=Dn().add(l),v=new Vv(At.min(),new Map,new Hn(jt),d,m);yield hk(r,v),r.ia=r.ia.remove(l),r.ra.delete(e),CA(r)}else yield Cm(r.localStore,e,!1).then(()=>xm(r,e,t)).catch($f)}),_A.apply(this,arguments)}function OV(n,e){return yA.apply(this,arguments)}function yA(){return yA=(0,ye.Z)(function*(n,e){const t=Ze(n),r=e.batch.batchId;try{const i=yield G2(t.localStore,e);DA(t,r,null),wA(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield mc(t,i)}catch(i){yield $f(i)}}),yA.apply(this,arguments)}function RV(n,e,t){return vA.apply(this,arguments)}function vA(){return vA=(0,ye.Z)(function*(n,e,t){const r=Ze(n);try{const i=yield function(l,d){const m=Ze(l);return m.persistence.runTransaction("Reject batch","readwrite-primary",v=>{let D;return m.Bs.lookupMutationBatch(v,d).next(I=>(xt(null!==I),D=I.keys(),m.Bs.removeMutationBatch(v,I))).next(()=>m.Bs.performConsistencyCheck(v)).next(()=>m.ci.Ks(v,D))})}(r.localStore,e);DA(r,e,t),wA(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield mc(r,i)}catch(i){yield $f(i)}}),vA.apply(this,arguments)}function bA(){return bA=(0,ye.Z)(function*(n,e){const t=Ze(n);Jd(t.remoteStore)||Pe("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(l){const d=Ze(l);return d.persistence.runTransaction("Get highest unacknowledged batch id","readonly",m=>d.Bs.getHighestUnacknowledgedBatchId(m))}(t.localStore);if(-1===r)return void e.resolve();const i=t.aa.get(r)||[];i.push(e),t.aa.set(r,i)}catch(r){const i=Am(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),bA.apply(this,arguments)}function wA(n,e){(n.aa.get(e)||[]).forEach(t=>{t.resolve()}),n.aa.delete(e)}function DA(n,e,t){const r=Ze(n);let i=r.ua[r.currentUser.toKey()];if(i){const l=i.get(e);l&&(t?l.reject(t):l.resolve(),i=i.remove(e)),r.ua[r.currentUser.toKey()]=i}}function xm(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.na.get(e))n.ea.delete(r),t&&n.ta.fa(r,t);n.na.delete(e),n.isPrimaryClient&&n.oa.Pi(e).forEach(r=>{n.oa.containsKey(r)||pk(n,r)})}function pk(n,e){n.sa.delete(e.path.canonicalString());const t=n.ia.get(e);null!==t&&(e0(n.remoteStore,t),n.ia=n.ia.remove(e),n.ra.delete(t),CA(n))}function EA(n,e,t){for(const r of t)r instanceof uk?(n.oa.addReference(r.key,e),PV(n,r)):r instanceof ck?(Pe("SyncEngine","Document no longer in limbo: "+r.key),n.oa.removeReference(r.key,e),n.oa.containsKey(r.key)||pk(n,r.key)):lt()}function PV(n,e){const t=e.key,r=t.path.canonicalString();n.ia.get(t)||n.sa.has(r)||(Pe("SyncEngine","New document in limbo: "+t),n.sa.add(r),CA(n))}function CA(n){for(;n.sa.size>0&&n.ia.size<n.maxConcurrentLimboResolutions;){const e=n.sa.values().next().value;n.sa.delete(e);const t=new Ge(cn.fromString(e)),r=n.ca.next();n.ra.set(r,new IV(t)),n.ia=n.ia.insert(t,r),_1(n.remoteStore,new zd(sa(hm(t.path)),r,2,Ao.A))}}function mc(n,e,t){return TA.apply(this,arguments)}function TA(){return TA=(0,ye.Z)(function*(n,e,t){const r=Ze(n),i=[],l=[],d=[];var m;r.ea.isEmpty()||(r.ea.forEach((m,v)=>{d.push(r.la(v,e,t).then(D=>{if(D){r.isPrimaryClient&&r.sharedClientState.updateQueryState(v.targetId,D.fromCache?"not-current":"current"),i.push(D);const I=NS.Ys(v.targetId,D);l.push(I)}}))}),yield Promise.all(d),r.ta.Qo(i),yield(m=(0,ye.Z)(function*(v,D){const I=Ze(v);try{yield I.persistence.runTransaction("notifyLocalViewChanges","readwrite",M=>fe.forEach(D,F=>fe.forEach(F.Hs,B=>I.persistence.referenceDelegate.addReference(M,F.targetId,B)).next(()=>fe.forEach(F.Js,B=>I.persistence.referenceDelegate.removeReference(M,F.targetId,B)))))}catch(M){if(!Lf(M))throw M;Pe("LocalStore","Failed to update sequence numbers: "+M)}for(const M of D){const F=M.targetId;if(!M.fromCache){const B=I.ii.get(F),se=B.withLastLimboFreeSnapshotVersion(B.snapshotVersion);I.ii=I.ii.insert(F,se)}}}),function(v,D){return m.apply(this,arguments)})(r.localStore,l))}),TA.apply(this,arguments)}function FV(n,e){return IA.apply(this,arguments)}function IA(){return IA=(0,ye.Z)(function*(n,e){const t=Ze(n);if(!t.currentUser.isEqual(e)){Pe("SyncEngine","User change. New user:",e.toKey());const r=yield GR(t.localStore,e);t.currentUser=e,(i=t).aa.forEach(d=>{d.forEach(m=>{m.reject(new Ae(ce.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.aa.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield mc(t,r.hi)}var i}),IA.apply(this,arguments)}function LV(n,e){const t=Ze(n),r=t.ra.get(e);if(r&&r.Zu)return Dn().add(r.key);{let i=Dn();const l=t.na.get(e);if(!l)return i;for(const d of l){const m=t.ea.get(d);i=i.unionWith(m.view.Ku)}return i}}function VV(n,e){return SA.apply(this,arguments)}function SA(){return SA=(0,ye.Z)(function*(n,e){const t=Ze(n),r=yield f1(t.localStore,e.query,!0),i=e.view.Yu(r);return t.isPrimaryClient&&EA(t,e.targetId,i.Hu),i}),SA.apply(this,arguments)}function BV(n,e){return AA.apply(this,arguments)}function AA(){return AA=(0,ye.Z)(function*(n,e){const t=Ze(n);return qR(t.localStore,e).then(r=>mc(t,r))}),AA.apply(this,arguments)}function UV(n,e,t,r){return NA.apply(this,arguments)}function NA(){return NA=(0,ye.Z)(function*(n,e,t,r){const i=Ze(n),l=yield function(d,m){const v=Ze(d),D=Ze(v.Bs);return v.persistence.runTransaction("Lookup mutation documents","readonly",I=>D.fn(I,m).next(M=>M?v.ci.Ks(I,M):fe.resolve(null)))}(i.localStore,e);var m;null!==l?("pending"===t?yield Im(i.remoteStore):"acknowledged"===t||"rejected"===t?(DA(i,e,r||null),wA(i,e),m=e,Ze(Ze(i.localStore).Bs)._n(m)):lt(),yield mc(i,l)):Pe("SyncEngine","Cannot apply mutation batch with id: "+e)}),NA.apply(this,arguments)}function MA(){return MA=(0,ye.Z)(function*(n,e){const t=Ze(n);if(kA(t),PA(t),!0===e&&!0!==t.ha){const r=t.sharedClientState.getAllActiveQueryTargets(),i=yield gk(t,r.toArray());t.ha=!0,yield nA(t.remoteStore,!0);for(const l of i)_1(t.remoteStore,l)}else if(!1===e&&!1!==t.ha){const r=[];let i=Promise.resolve();t.na.forEach((l,d)=>{t.sharedClientState.isLocalQueryTarget(d)?r.push(d):i=i.then(()=>(xm(t,d),Cm(t.localStore,d,!0))),e0(t.remoteStore,d)}),yield i,yield gk(t,r),function(l){const d=Ze(l);d.ra.forEach((m,v)=>{e0(d.remoteStore,v)}),d.oa.bi(),d.ra=new Map,d.ia=new Mr(Ge.comparator)}(t),t.ha=!1,yield nA(t.remoteStore,!1)}}),MA.apply(this,arguments)}function gk(n,e,t){return xA.apply(this,arguments)}function xA(){return xA=(0,ye.Z)(function*(n,e,t){const r=Ze(n),i=[],l=[];for(const d of e){let m;const v=r.na.get(d);if(v&&0!==v.length){m=yield Em(r.localStore,sa(v[0]));for(const D of v){const I=r.ea.get(D),M=yield VV(r,I);M.snapshot&&l.push(M.snapshot)}}else{const D=yield WR(r.localStore,d);m=yield Em(r.localStore,D),yield hA(r,mk(D),d,!1)}i.push(m)}return r.ta.Qo(l),i}),xA.apply(this,arguments)}function mk(n){return AO(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function GV(n){const e=Ze(n);return Ze(Ze(e.localStore).persistence).Fs()}function HV(n,e,t,r){return OA.apply(this,arguments)}function OA(){return OA=(0,ye.Z)(function*(n,e,t,r){const i=Ze(n);if(i.ha)return void Pe("SyncEngine","Ignoring unexpected query state notification.");const l=i.na.get(e);if(l&&l.length>0)switch(t){case"current":case"not-current":{const d=yield qR(i.localStore,xO(l[0])),m=Vv.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield mc(i,d,m);break}case"rejected":yield Cm(i.localStore,e,!0),xm(i,e,r);break;default:lt()}}),OA.apply(this,arguments)}function $V(n,e,t){return RA.apply(this,arguments)}function RA(){return RA=(0,ye.Z)(function*(n,e,t){const r=kA(n);if(r.ha){for(const i of e){if(r.na.has(i)){Pe("SyncEngine","Adding an already active target "+i);continue}const l=yield WR(r.localStore,i),d=yield Em(r.localStore,l);yield hA(r,mk(l),d.targetId,!1),_1(r.remoteStore,d)}for(const i of t)r.na.has(i)&&(yield Cm(r.localStore,i,!1).then(()=>{e0(r.remoteStore,i),xm(r,i)}).catch($f))}}),RA.apply(this,arguments)}function kA(n){const e=Ze(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=hk.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=LV.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=xV.bind(null,e),e.ta.Qo=wV.bind(null,e.eventManager),e.ta.fa=DV.bind(null,e.eventManager),e}function PA(n){const e=Ze(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=OV.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=RV.bind(null,e),e}class _k{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,ye.Z)(function*(){t.M=Qv(e.databaseInfo.databaseId),t.sharedClientState=t._a(e),t.persistence=t.wa(e),yield t.persistence.start(),t.gcScheduler=t.ma(e),t.localStore=t.ga(e)})()}ma(e){return null}ga(e){return jR(this.persistence,new UR,e.initialUser,this.M)}wa(e){return new X2(PS.zi,this.M)}_a(e){return new YR}terminate(){var e=this;return(0,ye.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class yk extends _k{constructor(e,t,r){super(),this.ya=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,ye.Z)(function*(){yield t().call(r,e),yield r.ya.initialize(r,e),yield PA(r.ya.syncEngine),yield Im(r.ya.remoteStore),yield r.persistence.Ts(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()))})()}ga(e){return jR(this.persistence,new UR,e.initialUser,this.M)}ma(e){return new k2(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}wa(e){const t=AS(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?to.withCacheSize(this.cacheSizeBytes):to.DEFAULT;return new SS(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,QR(),m1(),this.M,this.sharedClientState,!!this.forceOwnership)}_a(e){return new YR}}class qV extends yk{constructor(e,t){super(e,t,!1),this.ya=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,ye.Z)(function*(){yield t().call(r,e);const i=r.ya.syncEngine;r.sharedClientState instanceof BS&&(r.sharedClientState.syncEngine={Mr:UV.bind(null,i),Or:HV.bind(null,i),Fr:$V.bind(null,i),Fs:GV.bind(null,i),kr:BV.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.Ts(function(){var l=(0,ye.Z)(function*(d){yield function jV(n,e){return MA.apply(this,arguments)}(r.ya.syncEngine,d),r.gcScheduler&&(d&&!r.gcScheduler.started?r.gcScheduler.start(r.localStore):d||r.gcScheduler.stop())});return function(d){return l.apply(this,arguments)}}())})()}_a(e){const t=QR();if(!BS.vt(t))throw new Ae(ce.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=AS(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new BS(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class FA{initialize(e,t){var r=this;return(0,ye.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>fk(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=FV.bind(null,r.syncEngine),yield nA(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new bV}createDatastore(e){const t=Qv(e.databaseInfo.databaseId),r=new iV(e.databaseInfo);return new aV(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,l=m=>fk(this.syncEngine,m,0),d=JR.vt()?new JR:new tV,new uV(t,r,i,l,d);var t,r,i,l,d}createSyncEngine(e,t){return function(r,i,l,d,m,v,D){const I=new SV(r,i,l,d,m,v);return D&&(I.ha=!0),I}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,ye.Z)(function*(t){const r=Ze(t);Pe("RemoteStore","RemoteStore shutting down."),r.fu.add(5),yield Tm(r),r._u.shutdown(),r.wu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function vk(n,e=10240){let t=0;return{read:()=>(0,ye.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,ye.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class v1{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.pa(this.observer.next,e)}error(e){this.observer.error?this.pa(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Ia(){this.muted=!0}pa(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class zV{constructor(e,t){this.Ta=e,this.M=t,this.metadata=new pi,this.buffer=new Uint8Array,this.Ea=new TextDecoder("utf-8"),this.Aa().then(r=>{r&&r.xu()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==r?void 0:r.payload)}`))},r=>this.metadata.reject(r))}close(){return this.Ta.cancel()}getMetadata(){var e=this;return(0,ye.Z)(function*(){return e.metadata.promise})()}da(){var e=this;return(0,ye.Z)(function*(){return yield e.getMetadata(),e.Aa()})()}Aa(){var e=this;return(0,ye.Z)(function*(){const t=yield e.Ra();if(null===t)return null;const r=e.Ea.decode(t),i=Number(r);isNaN(i)&&e.Pa(`length string (${r}) is not valid number`);const l=yield e.ba(i);return new EV(JSON.parse(l),t.length+i)})()}Va(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Ra(){var e=this;return(0,ye.Z)(function*(){for(;e.Va()<0&&!(yield e.va()););if(0===e.buffer.length)return null;const t=e.Va();t<0&&e.Pa("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}ba(e){var t=this;return(0,ye.Z)(function*(){for(;t.buffer.length<e;)(yield t.va())&&t.Pa("Reached the end of bundle when more is expected.");const r=t.Ea.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Pa(e){throw this.Ta.cancel(),new Error(`Invalid bundle format: ${e}`)}va(){var e=this;return(0,ye.Z)(function*(){const t=yield e.Ta.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class ZV{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,ye.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Ae(ce.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,ye.Z)(function*(l,d){const m=Ze(l),v=Gv(m.M)+"/documents",D={documents:d.map(B=>jv(m.M,B))},I=yield m.ho("BatchGetDocuments",v,D),M=new Map;I.forEach(B=>{const Z=function zL(n,e){return"found"in e?function(t,r){xt(!!r.found);const i=nu(t,r.found.name),l=mi(r.found.updateTime),d=new es({mapValue:{fields:r.found.fields}});return Gn.newFoundDocument(i,l,d)}(n,e):"missing"in e?function(t,r){xt(!!r.missing),xt(!!r.readTime);const i=nu(t,r.missing),l=mi(r.readTime);return Gn.newNoDocument(i,l)}(n,e):lt()}(m.M,B);M.set(Z.key.toString(),Z)});const F=[];return d.forEach(B=>{const Z=M.get(B.toString());xt(!!Z),F.push(Z)}),F}),function(l,d){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Fv(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,ye.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const l=Ge.fromPath(i);e.mutations.push(new dS(l,e.precondition(l)))}),yield(r=(0,ye.Z)(function*(i,l){const d=Ze(i),m=Gv(d.M)+"/documents",v={writes:l.map(D=>Hv(d.M,D))};yield d.oo("Commit",m,v)}),function(i,l){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw lt();t=At.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Ae(ce.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Vr.updateTime(t):Vr.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(At.min()))throw new Ae(ce.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Vr.updateTime(t)}return Vr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class KV{constructor(e,t,r,i){this.asyncQueue=e,this.datastore=t,this.updateFunction=r,this.deferred=i,this.Sa=5,this.Do=new US(this.asyncQueue,"transaction_retry")}run(){this.Sa-=1,this.Da()}Da(){var e=this;this.Do.To((0,ye.Z)(function*(){const t=new ZV(e.datastore),r=e.Ca(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(l=>{e.xa(l)}))}).catch(i=>{e.xa(i)})}))}Ca(e){try{const t=this.updateFunction(e);return!Nf(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}xa(e){this.Sa>0&&this.Na(e)?(this.Sa-=1,this.asyncQueue.enqueueAndForget(()=>(this.Da(),Promise.resolve()))):this.deferred.reject(e)}Na(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!qO(t)}return!1}}class YV{constructor(e,t,r,i){var l=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Pi.UNAUTHENTICATED,this.clientId=oO.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var d=(0,ye.Z)(function*(m){Pe("FirestoreClient","Received user=",m.uid),yield l.authCredentialListener(m),l.user=m});return function(m){return d.apply(this,arguments)}}()),this.appCheckCredentials.start(r,d=>(Pe("FirestoreClient","Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}getConfiguration(){var e=this;return(0,ye.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ae(ce.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new pi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ye.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=Am(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function bk(n,e){return LA.apply(this,arguments)}function LA(){return LA=(0,ye.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Pe("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,ye.Z)(function*(l){r.isEqual(l)||(yield GR(e.localStore,l),r=l)});return function(l){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),LA.apply(this,arguments)}function wk(n,e){return VA.apply(this,arguments)}function VA(){return VA=(0,ye.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield BA(n);Pe("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>sk(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,l)=>sk(e.remoteStore,l)),n.onlineComponents=e}),VA.apply(this,arguments)}function BA(n){return UA.apply(this,arguments)}function UA(){return UA=(0,ye.Z)(function*(n){return n.offlineComponents||(Pe("FirestoreClient","Using default OfflineComponentProvider"),yield bk(n,new _k)),n.offlineComponents}),UA.apply(this,arguments)}function b1(n){return jA.apply(this,arguments)}function jA(){return jA=(0,ye.Z)(function*(n){return n.onlineComponents||(Pe("FirestoreClient","Using default OnlineComponentProvider"),yield wk(n,new FA)),n.onlineComponents}),jA.apply(this,arguments)}function Dk(n){return BA(n).then(e=>e.persistence)}function GA(n){return BA(n).then(e=>e.localStore)}function Ek(n){return b1(n).then(e=>e.remoteStore)}function HA(n){return b1(n).then(e=>e.syncEngine)}function Om(n){return $A.apply(this,arguments)}function $A(){return $A=(0,ye.Z)(function*(n){const e=yield b1(n),t=e.eventManager;return t.onListen=AV.bind(null,e.syncEngine),t.onUnlisten=NV.bind(null,e.syncEngine),t}),$A.apply(this,arguments)}function Ck(n,e,t={}){const r=new pi;return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return function(i,l,d,m,v){const D=new v1({next:M=>{l.enqueueAndForget(()=>aA(i,I));const F=M.docs.has(d);!F&&M.fromCache?v.reject(new Ae(ce.UNAVAILABLE,"Failed to get document because the client is offline.")):F&&M.fromCache&&m&&"server"===m.source?v.reject(new Ae(ce.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(M)},error:M=>v.reject(M)}),I=new cA(hm(d.path),D,{includeMetadataChanges:!0,Cu:!0});return sA(i,I)}(yield Om(n),n.asyncQueue,e,t,r)})),r.promise}function Tk(n,e,t={}){const r=new pi;return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return function(i,l,d,m,v){const D=new v1({next:M=>{l.enqueueAndForget(()=>aA(i,I)),M.fromCache&&"server"===m.source?v.reject(new Ae(ce.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(M)},error:M=>v.reject(M)}),I=new cA(d,D,{includeMetadataChanges:!0,Cu:!0});return sA(i,I)}(yield Om(n),n.asyncQueue,e,t,r)})),r.promise}const Ik=new Map;function WA(n,e,t){if(!t)throw new Ae(ce.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function Sk(n,e,t,r){if(!0===e&&!0===r)throw new Ae(ce.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Ak(n){if(!Ge.isDocumentKey(n))throw new Ae(ce.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Nk(n){if(Ge.isDocumentKey(n))throw new Ae(ce.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function w1(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":lt()}function sn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ae(ce.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=w1(n);throw new Ae(ce.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function Mk(n,e){if(e<=0)throw new Ae(ce.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class xk{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Ae(ce.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ae(ce.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,Sk("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class t0{constructor(e,t,r){this._authCredentials=t,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new xk({}),this._settingsFrozen=!1,e instanceof fc?this._databaseId=e:(this._app=e,this._databaseId=function(i){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new Ae(ce.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new fc(i.options.projectId)}(e))}get app(){if(!this._app)throw new Ae(ce.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ae(ce.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new xk(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new iL;switch(t.type){case"gapi":const r=t.client;return xt(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new lL(r,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Ae(ce.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Ik.get(e);t&&(Pe("ComponentProvider","Removing Datastore"),Ik.delete(e),t.terminate())}(this),Promise.resolve()}}class $n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new iu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new $n(this.firestore,e,this._key)}}class ts{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ts(this.firestore,e,this._query)}}class iu extends ts{constructor(e,t,r){super(e,t,hm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new $n(this.firestore,null,new Ge(e))}withConverter(e){return new iu(this.firestore,e,this._path)}}function Ok(n,e,...t){if(n=(0,Kt.m9)(n),WA("collection","path",e),n instanceof t0){const r=cn.fromString(e,...t);return Nk(r),new iu(n,null,r)}{if(!(n instanceof $n||n instanceof iu))throw new Ae(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(cn.fromString(e,...t));return Nk(r),new iu(n.firestore,null,r)}}function D1(n,e,...t){if(n=(0,Kt.m9)(n),1===arguments.length&&(e=oO.R()),WA("doc","path",e),n instanceof t0){const r=cn.fromString(e,...t);return Ak(r),new $n(n,null,new Ge(r))}{if(!(n instanceof $n||n instanceof iu))throw new Ae(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(cn.fromString(e,...t));return Ak(r),new $n(n.firestore,n instanceof iu?n.converter:null,new Ge(r))}}function Rk(n,e){return n=(0,Kt.m9)(n),e=(0,Kt.m9)(e),(n instanceof $n||n instanceof iu)&&(e instanceof $n||e instanceof iu)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function kk(n,e){return n=(0,Kt.m9)(n),e=(0,Kt.m9)(e),n instanceof ts&&e instanceof ts&&n.firestore===e.firestore&&Rv(n._query,e._query)&&n.converter===e.converter}class aB{constructor(){this.ka=Promise.resolve(),this.Ma=[],this.Oa=!1,this.Fa=[],this.$a=null,this.Ba=!1,this.La=!1,this.Ua=[],this.Do=new US(this,"async_queue_retry"),this.qa=()=>{const t=m1();t&&Pe("AsyncQueue","Visibility state changed to "+t.visibilityState),this.Do.Ao()};const e=m1();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.qa)}get isShuttingDown(){return this.Oa}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ka(),this.Ga(e)}enterRestrictedMode(e){if(!this.Oa){this.Oa=!0,this.La=e||!1;const t=m1();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.qa)}}enqueue(e){if(this.Ka(),this.Oa)return new Promise(()=>{});const t=new pi;return this.Ga(()=>this.Oa&&this.La?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ma.push(e),this.Qa()))}Qa(){var e=this;return(0,ye.Z)(function*(){if(0!==e.Ma.length){try{yield e.Ma[0](),e.Ma.shift(),e.Do.reset()}catch(t){if(!Lf(t))throw t;Pe("AsyncQueue","Operation failed with retryable error: "+t)}e.Ma.length>0&&e.Do.To(()=>e.Qa())}})()}Ga(e){const t=this.ka.then(()=>(this.Ba=!0,e().catch(r=>{throw this.$a=r,this.Ba=!1,Lr("INTERNAL UNHANDLED ERROR: ",function(l){let d=l.message||"";return l.stack&&(d=l.stack.includes(l.message)?l.stack:l.message+"\n"+l.stack),d}(r)),r}).then(r=>(this.Ba=!1,r))));return this.ka=t,t}enqueueAfterDelay(e,t,r){this.Ka(),this.Ua.indexOf(e)>-1&&(t=0);const i=iA.createAndSchedule(this,e,t,r,l=>this.ja(l));return this.Fa.push(i),i}Ka(){this.$a&&lt()}verifyOperationInProgress(){}Wa(){var e=this;return(0,ye.Z)(function*(){let t;do{t=e.ka,yield t}while(t!==e.ka)})()}za(e){for(const t of this.Fa)if(t.timerId===e)return!0;return!1}Ha(e){return this.Wa().then(()=>{this.Fa.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Fa)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Wa()})}Ja(e){this.Ua.push(e)}ja(e){const t=this.Fa.indexOf(e);this.Fa.splice(t,1)}}function qA(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class lB{constructor(){this._progressObserver={},this._taskCompletionResolver=new pi,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Qn extends t0{constructor(e,t,r){super(e,t,r),this.type="firestore",this._queue=new aB,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||Pk(this),this._firestoreClient.terminate()}}function Ur(n){return n._firestoreClient||Pk(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function Pk(n){var e;const t=n._freezeSettings(),r=(l=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new pL(n._databaseId,l,n._persistenceKey,(m=t).host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,m.useFetchStreams));var l,m;n._firestoreClient=new YV(n._authCredentials,n._appCheckCredentials,n._queue,r)}function Fk(n,e,t){const r=new pi;return n.asyncQueue.enqueue((0,ye.Z)(function*(){try{yield bk(n,t),yield wk(n,e),r.resolve()}catch(i){if(!("FirebaseError"===(l=i).name?l.code===ce.FAILED_PRECONDITION||l.code===ce.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&l instanceof DOMException)||22===l.code||20===l.code||11===l.code))throw i;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i),r.reject(i)}var l})).then(()=>r.promise)}function Lk(n){if(n._initialized||n._terminated)throw new Ae(ce.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class _c{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Ae(ce.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new gi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class su{constructor(e){this._byteString=e}static fromBase64String(e){try{return new su(ei.fromBase64String(e))}catch(t){throw new Ae(ce.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new su(ei.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class qf{constructor(e){this._methodName=e}}class E1{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ae(ce.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ae(ce.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return jt(this._lat,e._lat)||jt(this._long,e._long)}}const yB=/^__.*__$/;class vB{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Ff(e,this.data,this.fieldMask,t,this.fieldTransforms):new Pv(e,this.data,t,this.fieldTransforms)}}class Vk{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Ff(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Bk(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw lt()}}class C1{constructor(e,t,r,i,l,d){this.settings=e,this.databaseId=t,this.M=r,this.ignoreUndefinedProperties=i,void 0===l&&this.Ya(),this.fieldTransforms=l||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Xa(){return this.settings.Xa}Za(e){return new C1(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}tc(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.Za({path:r,ec:!1});return i.nc(e),i}sc(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.Za({path:r,ec:!1});return i.Ya(),i}ic(e){return this.Za({path:void 0,ec:!0})}rc(e){return S1(e,this.settings.methodName,this.settings.oc||!1,this.path,this.settings.uc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Ya(){if(this.path)for(let e=0;e<this.path.length;e++)this.nc(this.path.get(e))}nc(e){if(0===e.length)throw this.rc("Document fields must not be empty");if(Bk(this.Xa)&&yB.test(e))throw this.rc('Document fields cannot begin and end with "__"')}}class bB{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.M=r||Qv(e)}ac(e,t,r,i=!1){return new C1({Xa:e,methodName:t,uc:r,path:gi.emptyPath(),ec:!1,oc:i},this.databaseId,this.M,this.ignoreUndefinedProperties)}}function zf(n){const e=n._freezeSettings(),t=Qv(n._databaseId);return new bB(n._databaseId,!!e.ignoreUndefinedProperties,t)}function T1(n,e,t,r,i,l={}){const d=n.ac(l.merge||l.mergeFields?2:0,e,t,i);YA("Data must be an object, but it was:",d,r);const m=Gk(r,d);let v,D;if(l.merge)v=new um(d.fieldMask),D=d.fieldTransforms;else if(l.mergeFields){const I=[];for(const M of l.mergeFields){const F=JA(e,M,t);if(!d.contains(F))throw new Ae(ce.INVALID_ARGUMENT,`Field '${F}' is specified in your field mask but missing from your input data.`);$k(I,F)||I.push(F)}v=new um(I),D=d.fieldTransforms.filter(M=>v.covers(M.field))}else v=null,D=d.fieldTransforms;return new vB(new es(m),v,D)}class n0 extends qf{_toFieldTransform(e){if(2!==e.Xa)throw e.rc(1===e.Xa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof n0}}function Uk(n,e,t){return new C1({Xa:3,uc:e.settings.uc,methodName:n._methodName,ec:t},e.databaseId,e.M,e.ignoreUndefinedProperties)}class zA extends qf{_toFieldTransform(e){return new kv(e.path,new pm)}isEqual(e){return e instanceof zA}}class wB extends qf{constructor(e,t){super(e),this.cc=t}_toFieldTransform(e){const t=Uk(this,e,!0),r=this.cc.map(l=>Zf(l,t)),i=new kf(r);return new kv(e.path,i)}isEqual(e){return this===e}}class DB extends qf{constructor(e,t){super(e),this.cc=t}_toFieldTransform(e){const t=Uk(this,e,!0),r=this.cc.map(l=>Zf(l,t)),i=new Pf(r);return new kv(e.path,i)}isEqual(e){return this===e}}class EB extends qf{constructor(e,t){super(e),this.hc=t}_toFieldTransform(e){const t=new gm(e.M,PO(e.M,this.hc));return new kv(e.path,t)}isEqual(e){return this===e}}function ZA(n,e,t,r){const i=n.ac(1,e,t);YA("Data must be an object, but it was:",i,r);const l=[],d=es.empty();Sf(r,(v,D)=>{const I=I1(e,v,t);D=(0,Kt.m9)(D);const M=i.sc(I);if(D instanceof n0)l.push(I);else{const F=Zf(D,M);null!=F&&(l.push(I),d.set(I,F))}});const m=new um(l);return new Vk(d,m,i.fieldTransforms)}function KA(n,e,t,r,i,l){const d=n.ac(1,e,t),m=[JA(e,r,t)],v=[i];if(l.length%2!=0)throw new Ae(ce.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let F=0;F<l.length;F+=2)m.push(JA(e,l[F])),v.push(l[F+1]);const D=[],I=es.empty();for(let F=m.length-1;F>=0;--F)if(!$k(D,m[F])){const B=m[F];let Z=v[F];Z=(0,Kt.m9)(Z);const se=d.sc(B);if(Z instanceof n0)D.push(B);else{const Ne=Zf(Z,se);null!=Ne&&(D.push(B),I.set(B,Ne))}}const M=new um(D);return new Vk(I,M,d.fieldTransforms)}function jk(n,e,t,r=!1){return Zf(t,n.ac(r?4:3,e))}function Zf(n,e){if(Hk(n=(0,Kt.m9)(n)))return YA("Unsupported field value:",e,n),Gk(n,e);if(n instanceof qf)return function(t,r){if(!Bk(r.Xa))throw r.rc(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.rc(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.ec&&4!==e.Xa)throw e.rc("Nested arrays are not supported");return function(t,r){const i=[];let l=0;for(const d of t){let m=Zf(d,r.ic(l));null==m&&(m={nullValue:"NULL_VALUE"}),i.push(m),l++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,Kt.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return PO(r.M,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=Nr.fromDate(t);return{timestampValue:Uv(r.M,i)}}if(t instanceof Nr){const i=new Nr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Uv(r.M,i)}}if(t instanceof E1)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof su)return{bytesValue:eR(r.M,t._byteString)};if(t instanceof $n){const i=r.databaseId,l=t.firestore._databaseId;if(!l.isEqual(i))throw r.rc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:fS(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.rc(`Unsupported field value: ${w1(t)}`)}(n,e)}function Gk(n,e){const t={};return uO(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Sf(n,(r,i)=>{const l=Zf(i,e.tc(r));null!=l&&(t[r]=l)}),{mapValue:{fields:t}}}function Hk(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Nr||n instanceof E1||n instanceof su||n instanceof $n||n instanceof qf)}function YA(n,e,t){if(!Hk(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=w1(t);throw e.rc("an object"===r?n+" a custom object":n+" "+r)}var r}function JA(n,e,t){if((e=(0,Kt.m9)(e))instanceof _c)return e._internalPath;if("string"==typeof e)return I1(n,e);throw S1("Field path arguments must be of type string or ",n,!1,void 0,t)}const CB=new RegExp("[~\\*/\\[\\]]");function I1(n,e,t){if(e.search(CB)>=0)throw S1(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new _c(...e.split("."))._internalPath}catch(r){throw S1(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function S1(n,e,t,r,i){const l=r&&!r.isEmpty(),d=void 0!==i;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let v="";return(l||d)&&(v+=" (found",l&&(v+=` in field ${r}`),d&&(v+=` in document ${i}`),v+=")"),new Ae(ce.INVALID_ARGUMENT,m+n+v)}function $k(n,e){return n.some(t=>t.isEqual(e))}class r0{constructor(e,t,r,i,l){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new $n(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new TB(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(A1("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class TB extends r0{data(){return super.data()}}function A1(n,e){return"string"==typeof e?I1(n,e):e instanceof _c?e._internalPath:e._delegate._internalPath}class Kf{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class yc extends r0{constructor(e,t,r,i,l,d){super(e,t,r,i,d),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new s0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(A1("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class s0 extends yc{data(e={}){return super.data(e)}}class Xd{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Kf(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new s0(this._firestore,this._userDataWriter,r.key,r,new Kf(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ae(ce.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let l=0;return r._snapshot.docChanges.map(d=>({type:"added",doc:new s0(r._firestore,r._userDataWriter,d.doc.key,d.doc,new Kf(r._snapshot.mutatedKeys.has(d.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:l++}))}{let l=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(d=>i||3!==d.type).map(d=>{const m=new s0(r._firestore,r._userDataWriter,d.doc.key,d.doc,new Kf(r._snapshot.mutatedKeys.has(d.doc.key),r._snapshot.fromCache),r.query.converter);let v=-1,D=-1;return 0!==d.type&&(v=l.indexOf(d.doc.key),l=l.delete(d.doc.key)),1!==d.type&&(l=l.add(d.doc),D=l.indexOf(d.doc.key)),{type:IB(d.type),doc:m,oldIndex:v,newIndex:D}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function IB(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return lt()}}function Wk(n,e){return n instanceof yc&&e instanceof yc?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Xd&&e instanceof Xd&&n._firestore===e._firestore&&kk(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function qk(n){if(QD(n)&&0===n.explicitOrderBy.length)throw new Ae(ce.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class o0{}function eh(n,...e){for(const t of e)n=t._apply(n);return n}class SB extends o0{constructor(e,t,r){super(),this.lc=e,this.fc=t,this.dc=r,this.type="where"}_apply(e){const t=zf(e.firestore),r=function(i,l,d,m,v,D,I){let M;if(v.isKeyField()){if("array-contains"===D||"array-contains-any"===D)throw new Ae(ce.INVALID_ARGUMENT,`Invalid Query. You can't perform '${D}' queries on documentId().`);if("in"===D||"not-in"===D){Qk(I,D);const B=[];for(const Z of I)B.push(Jk(m,i,Z));M={arrayValue:{values:B}}}else M=Jk(m,i,I)}else"in"!==D&&"not-in"!==D&&"array-contains-any"!==D||Qk(I,D),M=jk(d,"where",I,"in"===D||"not-in"===D);const F=Fi.create(v,D,M);return function(B,Z){if(Z.S()){const Ne=oS(B);if(null!==Ne&&!Ne.isEqual(Z.field))throw new Ae(ce.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Ne.toString()}' and '${Z.field.toString()}'`);const Xe=sS(B);null!==Xe&&Xk(0,Z.field,Xe)}const se=function(Ne,Xe){for(const $e of Ne.filters)if(Xe.indexOf($e.op)>=0)return $e.op;return null}(B,function(Ne){switch(Ne){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(Z.op));if(null!==se)throw new Ae(ce.INVALID_ARGUMENT,se===Z.op?`Invalid query. You cannot use more than one '${Z.op.toString()}' filter.`:`Invalid query. You cannot use '${Z.op.toString()}' filters with '${se.toString()}' filters.`)}(i,F),F}(e._query,0,t,e.firestore._databaseId,this.lc,this.fc,this.dc);return new ts(e.firestore,e.converter,function(i,l){const d=i.filters.concat([l]);return new gc(i.path,i.collectionGroup,i.explicitOrderBy.slice(),d,i.limit,i.limitType,i.startAt,i.endAt)}(e._query,r))}}class NB extends o0{constructor(e,t){super(),this.lc=e,this._c=t,this.type="orderBy"}_apply(e){const t=function(r,i,l){if(null!==r.startAt)throw new Ae(ce.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Ae(ce.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const d=new dm(i,l);return function(m,v){if(null===sS(m)){const D=oS(m);null!==D&&Xk(0,D,v.field)}}(r,d),d}(e._query,this.lc,this._c);return new ts(e.firestore,e.converter,function(r,i){const l=r.explicitOrderBy.concat([i]);return new gc(r.path,r.collectionGroup,l,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class zk extends o0{constructor(e,t,r){super(),this.type=e,this.wc=t,this.mc=r}_apply(e){return new ts(e.firestore,e.converter,NO(e._query,this.wc,this.mc))}}class Zk extends o0{constructor(e,t,r){super(),this.type=e,this.gc=t,this.yc=r}_apply(e){const t=Yk(e,this.type,this.gc,this.yc);return new ts(e.firestore,e.converter,(i=t,new gc((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}class Kk extends o0{constructor(e,t,r){super(),this.type=e,this.gc=t,this.yc=r}_apply(e){const t=Yk(e,this.type,this.gc,this.yc);return new ts(e.firestore,e.converter,(i=t,new gc((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)));var r,i}}function Yk(n,e,t,r){if(t[0]=(0,Kt.m9)(t[0]),t[0]instanceof r0)return function(i,l,d,m,v){if(!m)throw new Ae(ce.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${d}().`);const D=[];for(const I of fm(i))if(I.field.isKeyField())D.push(xf(l,m.key));else{const M=m.data.field(I.field);if(tS(M))throw new Ae(ce.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+I.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===M){const F=I.field.canonicalString();throw new Ae(ce.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${F}' (used as the orderBy) does not exist.`)}D.push(M)}return new Wd(D,v)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=zf(n.firestore);return function(l,d,m,v,D,I){const M=l.explicitOrderBy;if(D.length>M.length)throw new Ae(ce.INVALID_ARGUMENT,`Too many arguments provided to ${v}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const F=[];for(let B=0;B<D.length;B++){const Z=D[B];if(M[B].field.isKeyField()){if("string"!=typeof Z)throw new Ae(ce.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${v}(), but got a ${typeof Z}`);if(!aS(l)&&-1!==Z.indexOf("/"))throw new Ae(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${v}() must be a plain document ID, but '${Z}' contains a slash.`);const se=l.path.child(cn.fromString(Z));if(!Ge.isDocumentKey(se))throw new Ae(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${v}() must result in a valid document path, but '${se}' is not because it contains an odd number of segments.`);const Ne=new Ge(se);F.push(xf(d,Ne))}else{const se=jk(m,v,Z);F.push(se)}}return new Wd(F,I)}(n._query,n.firestore._databaseId,i,e,t,r)}}function Jk(n,e,t){if("string"==typeof(t=(0,Kt.m9)(t))){if(""===t)throw new Ae(ce.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!aS(e)&&-1!==t.indexOf("/"))throw new Ae(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(cn.fromString(t));if(!Ge.isDocumentKey(r))throw new Ae(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return xf(n,new Ge(r))}if(t instanceof $n)return xf(n,t._key);throw new Ae(ce.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${w1(t)}.`)}function Qk(n,e){if(!Array.isArray(n)||0===n.length)throw new Ae(ce.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Ae(ce.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function Xk(n,e,t){if(!t.isEqual(e))throw new Ae(ce.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class QA{convertValue(e,t="none"){switch(Mf(e)){case 0:return null;case 1:return e.booleanValue;case 2:return _r(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Af(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw lt()}}convertObject(e,t){const r={};return Sf(e.fields,(i,l)=>{r[i]=this.convertValue(l,t)}),r}convertGeoPoint(e){return new E1(_r(e.latitude),_r(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=cO(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Iv(e));default:return null}}convertTimestamp(e){const t=Hd(e);return new Nr(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=cn.fromString(e);xt(cR(r));const i=new fc(r.get(1),r.get(3)),l=new Ge(r.popFirst(5));return i.isEqual(t)||Lr(`Document ${l} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}function N1(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class LB extends QA{constructor(e){super(),this.firestore=e}convertBytes(e){return new su(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new $n(this.firestore,null,t)}}class eP{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=zf(e)}set(e,t,r){this._verifyNotCommitted();const i=th(e,this._firestore),l=N1(i.converter,t,r),d=T1(this._dataReader,"WriteBatch.set",i._key,l,null!==i.converter,r);return this._mutations.push(d.toMutation(i._key,Vr.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const l=th(e,this._firestore);let d;return d="string"==typeof(t=(0,Kt.m9)(t))||t instanceof _c?KA(this._dataReader,"WriteBatch.update",l._key,t,r,i):ZA(this._dataReader,"WriteBatch.update",l._key,t),this._mutations.push(d.toMutation(l._key,Vr.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=th(e,this._firestore);return this._mutations=this._mutations.concat(new Fv(t._key,Vr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ae(ce.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function th(n,e){if((n=(0,Kt.m9)(n)).firestore!==e)throw new Ae(ce.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class Yf extends QA{constructor(e){super(),this.firestore=e}convertBytes(e){return new su(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new $n(this.firestore,null,t)}}function tP(n,e,t){n=sn(n,$n);const r=sn(n.firestore,Qn),i=N1(n.converter,e,t);return Rm(r,[T1(zf(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,Vr.none())])}function nP(n,e,t,...r){n=sn(n,$n);const i=sn(n.firestore,Qn),l=zf(i);let d;return d="string"==typeof(e=(0,Kt.m9)(e))||e instanceof _c?KA(l,"updateDoc",n._key,e,t,r):ZA(l,"updateDoc",n._key,e),Rm(i,[d.toMutation(n._key,Vr.exists(!0))])}function rP(n,...e){var t,r,i;n=(0,Kt.m9)(n);let l={includeMetadataChanges:!1},d=0;"object"!=typeof e[d]||qA(e[d])||(l=e[d],d++);const m={includeMetadataChanges:l.includeMetadataChanges};if(qA(e[d])){const M=e[d];e[d]=null===(t=M.next)||void 0===t?void 0:t.bind(M),e[d+1]=null===(r=M.error)||void 0===r?void 0:r.bind(M),e[d+2]=null===(i=M.complete)||void 0===i?void 0:i.bind(M)}let v,D,I;if(n instanceof $n)D=sn(n.firestore,Qn),I=hm(n._key.path),v={next:M=>{e[d]&&e[d](XA(D,n,M))},error:e[d+1],complete:e[d+2]};else{const M=sn(n,ts);D=sn(M.firestore,Qn),I=M._query;const F=new Yf(D);v={next:B=>{e[d]&&e[d](new Xd(D,F,M,B))},error:e[d+1],complete:e[d+2]},qk(n._query)}return function(M,F,B,Z){const se=new v1(Z),Ne=new cA(F,se,B);return M.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return sA(yield Om(M),Ne)})),()=>{se.Ia(),M.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return aA(yield Om(M),Ne)}))}}(Ur(D),I,m,v)}function Rm(n,e){return function(t,r){const i=new pi;return t.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return function MV(n,e,t){return gA.apply(this,arguments)}(yield HA(t),r,i)})),i.promise}(Ur(n),e)}function XA(n,e,t){const r=t.docs.get(e._key),i=new Yf(n);return new yc(n,i,e._key,r,new Kf(t.hasPendingWrites,t.fromCache),e.converter)}class zB extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=zf(e)}get(e){const t=th(e,this._firestore),r=new LB(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||1!==i.length)return lt();const l=i[0];if(l.isFoundDocument())return new r0(this._firestore,r,l.key,l,t.converter);if(l.isNoDocument())return new r0(this._firestore,r,t._key,null,t.converter);throw lt()})}set(e,t,r){const i=th(e,this._firestore),l=N1(i.converter,t,r),d=T1(this._dataReader,"Transaction.set",i._key,l,null!==i.converter,r);return this._transaction.set(i._key,d),this}update(e,t,r,...i){const l=th(e,this._firestore);let d;return d="string"==typeof(t=(0,Kt.m9)(t))||t instanceof _c?KA(this._dataReader,"Transaction.update",l._key,t,r,i):ZA(this._dataReader,"Transaction.update",l._key,t),this._transaction.update(l._key,d),this}delete(e){const t=th(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=th(e,this._firestore),r=new Yf(this._firestore);return super.get(e).then(i=>new yc(this._firestore,r,t._key,i._document,new Kf(!1,!1),t.converter))}}function eN(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Ae("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function sP(){if("undefined"==typeof Uint8Array)throw new Ae("unimplemented","Uint8Arrays are not available in this environment.")}function oP(){if(!function hL(){return"undefined"!=typeof atob}())throw new Ae("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){am=Xl.SDK_VERSION,(0,Xl._registerComponent)(new $g.wA("firestore",(t,{options:r})=>{const i=t.getProvider("app").getImmediate(),l=new Qn(i,new oL(t.getProvider("auth-internal")),new uL(t.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:e},r),l._setSettings(r),l},"PUBLIC")),(0,Xl.registerVersion)(rO,"3.4.8",n),(0,Xl.registerVersion)(rO,"3.4.8","esm2017")}();class a0{constructor(e){this._delegate=e}static fromBase64String(e){return oP(),new a0(su.fromBase64String(e))}static fromUint8Array(e){return sP(),new a0(su.fromUint8Array(e))}toBase64(){return oP(),this._delegate.toBase64()}toUint8Array(){return sP(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function tN(n){return function nU(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class rU{enableIndexedDbPersistence(e,t){return function cB(n,e){Lk(n=sn(n,Qn));const t=Ur(n),r=n._freezeSettings(),i=new FA;return Fk(t,i,new yk(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function dB(n){Lk(n=sn(n,Qn));const e=Ur(n),t=n._freezeSettings(),r=new FA;return Fk(e,r,new qV(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function hB(n){if(n._initialized&&!n._terminated)throw new Ae(ce.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new pi;return n._queue.enqueueAndForgetEvenWhileRestricted((0,ye.Z)(function*(){try{yield(t=(0,ye.Z)(function*(r){if(!qa.vt())return Promise.resolve();const i=r+"main";yield qa.delete(i)}),function(r){return t.apply(this,arguments)})(AS(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class aP{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof fc||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Cv("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function sB(n,e,t,r={}){var i;const l=(n=sn(n,t0))._getSettings();if("firestore.googleapis.com"!==l.host&&l.host!==e&&Cv("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},l),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let d,m;if("string"==typeof r.mockUserToken)d=r.mockUserToken,m=Pi.MOCK_USER;else{d=(0,Kt.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new Ae(ce.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new Pi(v)}n._authCredentials=new sL(new iO(d,m))}}(this._delegate,e,t,r)}enableNetwork(){return function pB(n){return function JV(n){return n.asyncQueue.enqueue((0,ye.Z)(function*(){const e=yield Dk(n),t=yield Ek(n);return e.setNetworkEnabled(!0),function(r){const i=Ze(r);return i.fu.delete(0),Xv(i)}(t)}))}(Ur(n=sn(n,Qn)))}(this._delegate)}disableNetwork(){return function gB(n){return function QV(n){return n.asyncQueue.enqueue((0,ye.Z)(function*(){const e=yield Dk(n),t=yield Ek(n);return e.setNetworkEnabled(!1),(r=(0,ye.Z)(function*(i){const l=Ze(i);l.fu.add(0),yield Tm(l),l.wu.set("Offline")}),function(i){return r.apply(this,arguments)})(t);var r}))}(Ur(n=sn(n,Qn)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,Sk("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function fB(n){return function(e){const t=new pi;return e.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return function kV(n,e){return bA.apply(this,arguments)}(yield HA(e),t)})),t.promise}(Ur(n=sn(n,Qn)))}(this._delegate)}onSnapshotsInSync(e){return function qB(n,e){return function tB(n,e){const t=new v1(e);return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return r=yield Om(n),i=t,Ze(r).Eu.add(i),void i.next();var r,i})),()=>{t.Ia(),n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return r=yield Om(n),i=t,void Ze(r).Eu.delete(i);var r,i}))}}(Ur(n=sn(n,Qn)),qA(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Ae("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new km(this,Ok(this._delegate,e))}catch(t){throw bs(t,"collection()","Firestore.collection()")}}doc(e){try{return new aa(this,D1(this._delegate,e))}catch(t){throw bs(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new ws(this,function oB(n,e){if(n=sn(n,t0),WA("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Ae(ce.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new ts(n,null,(t=e,new gc(cn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw bs(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function ZB(n,e){return function nB(n,e){const t=new pi;return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){const r=yield(i=n,b1(i).then(l=>l.datastore));var i;new KV(n.asyncQueue,r,e,t).run()})),t.promise}(Ur(n=sn(n,Qn)),t=>e(new zB(n,t)))}(this._delegate,t=>e(new lP(this,t)))}batch(){return Ur(this._delegate),new uP(new eP(this._delegate,e=>Rm(this._delegate,e)))}loadBundle(e){return function mB(n,e){const t=Ur(n=sn(n,Qn)),r=new lB;return function rB(n,e,t,r){const i=function(l,d){let m;return m="string"==typeof l?(new TextEncoder).encode(l):l,v=function(v,D){if(v instanceof Uint8Array)return vk(v,D);if(v instanceof ArrayBuffer)return vk(new Uint8Array(v),D);if(v instanceof ReadableStream)return v.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(m),new zV(v,d);var v}(t,Qv(e));n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){!function WV(n,e,t){const r=Ze(n);var i;(i=(0,ye.Z)(function*(l,d,m){try{const v=yield d.getMetadata();if(yield function(F,B){const Z=Ze(F),se=mi(B.createTime);return Z.persistence.runTransaction("hasNewerBundle","readonly",Ne=>Z._s.getBundleMetadata(Ne,B.id)).then(Ne=>!!Ne&&Ne.createTime.compareTo(se)>=0)}(l.localStore,v))return yield d.close(),m._completeWith({taskState:"Success",documentsLoaded:(F=v).totalDocuments,bytesLoaded:F.totalBytes,totalDocuments:F.totalDocuments,totalBytes:F.totalBytes}),Promise.resolve(new Set);m._updateProgress(lk(v));const D=new CV(v,l.localStore,d.M);let I=yield d.da();for(;I;){const F=yield D.ku(I);F&&m._updateProgress(F),I=yield d.da()}const M=yield D.complete();return yield mc(l,M.Fu,void 0),yield function(F,B){const Z=Ze(F);return Z.persistence.runTransaction("Save bundle","readwrite",se=>Z._s.saveBundleMetadata(se,B))}(l.localStore,v),m._completeWith(M.progress),Promise.resolve(M.Ou)}catch(v){return Cv("SyncEngine",`Loading bundle failed with ${v}`),m._failWith(v),Promise.resolve(new Set)}var F}),function(l,d,m){return i.apply(this,arguments)})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield HA(n),i,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function _B(n,e){return function iB(n,e){return n.asyncQueue.enqueue((0,ye.Z)(function*(){return function(t,r){const i=Ze(t);return i.persistence.runTransaction("Get named query","readonly",l=>i._s.getNamedQuery(l,r))}(yield GA(n),e)}))}(Ur(n=sn(n,Qn)),e).then(t=>t?new ts(n,null,t.query):null)}(this._delegate,e).then(t=>t?new ws(this,t):null)}}class M1 extends QA{constructor(e){super(),this.firestore=e}convertBytes(e){return new a0(new su(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return aa.forKey(t,this.firestore,null)}}class lP{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new M1(e)}get(e){const t=Qf(e);return this._delegate.get(t).then(r=>new l0(this._firestore,new yc(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=Qf(e);return r?(eN("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const l=Qf(e);return 2===arguments.length?this._delegate.update(l,t):this._delegate.update(l,t,r,...i),this}delete(e){const t=Qf(e);return this._delegate.delete(t),this}}class uP{constructor(e){this._delegate=e}set(e,t,r){const i=Qf(e);return r?(eN("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const l=Qf(e);return 2===arguments.length?this._delegate.update(l,t):this._delegate.update(l,t,r,...i),this}delete(e){const t=Qf(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Jf{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new s0(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new u0(this._firestore,r),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=Jf.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let l=i.get(t);return l||(l=new Jf(e,new M1(e),t),i.set(t,l)),l}}Jf.INSTANCES=new WeakMap;class aa{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new M1(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Ae("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new aa(t,new $n(t._delegate,r,new Ge(e)))}static forKey(e,t,r){return new aa(t,new $n(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new km(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new km(this.firestore,Ok(this._delegate,e))}catch(t){throw bs(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Kt.m9)(e))instanceof $n&&Rk(this._delegate,e)}set(e,t){t=eN("DocumentReference.set",t);try{return t?tP(this._delegate,e,t):tP(this._delegate,e)}catch(r){throw bs(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?nP(this._delegate,e):nP(this._delegate,e,t,...r)}catch(i){throw bs(i,"updateDoc()","DocumentReference.update()")}}delete(){return function $B(n){return Rm(sn(n.firestore,Qn),[new Fv(n._key,Vr.none())])}(this._delegate)}onSnapshot(...e){const t=cP(e),r=dP(e,i=>new l0(this.firestore,new yc(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return rP(this._delegate,t,r)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function BB(n){n=sn(n,$n);const e=sn(n.firestore,Qn),t=Ur(e),r=new Yf(e);return function XV(n,e){const t=new pi;return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return(r=(0,ye.Z)(function*(i,l,d){try{const m=yield function(v,D){const I=Ze(v);return I.persistence.runTransaction("read document","readonly",M=>I.ci.Ls(M,D))}(i,l);m.isFoundDocument()?d.resolve(m):m.isNoDocument()?d.resolve(null):d.reject(new Ae(ce.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(m){const v=Am(m,`Failed to get document '${l} from cache`);d.reject(v)}}),function(i,l,d){return r.apply(this,arguments)})(yield GA(n),e,t);var r})),t.promise}(t,n._key).then(i=>new yc(e,r,n._key,i,new Kf(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function UB(n){n=sn(n,$n);const e=sn(n.firestore,Qn);return Ck(Ur(e),n._key,{source:"server"}).then(t=>XA(e,n,t))}(this._delegate):function VB(n){n=sn(n,$n);const e=sn(n.firestore,Qn);return Ck(Ur(e),n._key).then(t=>XA(e,n,t))}(this._delegate),t.then(r=>new l0(this.firestore,new yc(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new aa(this.firestore,this._delegate.withConverter(e?Jf.getInstance(this.firestore,e):null))}}function bs(n,e,t){return n.message=n.message.replace(e,t),n}function cP(n){for(const e of n)if("object"==typeof e&&!tN(e))return e;return{}}function dP(n,e){var t,r;let i;return i=tN(n[0])?n[0]:tN(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:l=>{i.next&&i.next(e(l))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class l0{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new aa(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return Wk(this._delegate,e._delegate)}}class u0 extends l0{data(e){const t=this._delegate.data(e);return function rL(n,e){n||lt()}(void 0!==t),t}}class ws{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new M1(e)}where(e,t,r){try{return new ws(this.firestore,eh(this._delegate,function AB(n,e,t){const r=e,i=A1("where",n);return new SB(i,r,t)}(e,t,r)))}catch(i){throw bs(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new ws(this.firestore,eh(this._delegate,function MB(n,e="asc"){const t=e,r=A1("orderBy",n);return new NB(r,t)}(e,t)))}catch(r){throw bs(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new ws(this.firestore,eh(this._delegate,function xB(n){return Mk("limit",n),new zk("limit",n,"F")}(e)))}catch(t){throw bs(t,"limit()","Query.limit()")}}limitToLast(e){try{return new ws(this.firestore,eh(this._delegate,function OB(n){return Mk("limitToLast",n),new zk("limitToLast",n,"L")}(e)))}catch(t){throw bs(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new ws(this.firestore,eh(this._delegate,function RB(...n){return new Zk("startAt",n,!0)}(...e)))}catch(t){throw bs(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new ws(this.firestore,eh(this._delegate,function kB(...n){return new Zk("startAfter",n,!1)}(...e)))}catch(t){throw bs(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new ws(this.firestore,eh(this._delegate,function PB(...n){return new Kk("endBefore",n,!1)}(...e)))}catch(t){throw bs(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new ws(this.firestore,eh(this._delegate,function FB(...n){return new Kk("endAt",n,!0)}(...e)))}catch(t){throw bs(t,"endAt()","Query.endAt()")}}isEqual(e){return kk(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function GB(n){n=sn(n,ts);const e=sn(n.firestore,Qn),t=Ur(e),r=new Yf(e);return function eB(n,e){const t=new pi;return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return(r=(0,ye.Z)(function*(i,l,d){try{const m=yield f1(i,l,!0),v=new dk(l,m.li),D=v.Gu(m.documents),I=v.applyChanges(D,!1);d.resolve(I.snapshot)}catch(m){const v=Am(m,`Failed to execute query '${l} against cache`);d.reject(v)}}),function(i,l,d){return r.apply(this,arguments)})(yield GA(n),e,t);var r})),t.promise}(t,n._query).then(i=>new Xd(e,r,n,i))}(this._delegate):"server"===(null==e?void 0:e.source)?function HB(n){n=sn(n,ts);const e=sn(n.firestore,Qn),t=Ur(e),r=new Yf(e);return Tk(t,n._query,{source:"server"}).then(i=>new Xd(e,r,n,i))}(this._delegate):function jB(n){n=sn(n,ts);const e=sn(n.firestore,Qn),t=Ur(e),r=new Yf(e);return qk(n._query),Tk(t,n._query).then(i=>new Xd(e,r,n,i))}(this._delegate),t.then(r=>new nN(this.firestore,new Xd(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=cP(e),r=dP(e,i=>new nN(this.firestore,new Xd(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return rP(this._delegate,t,r)}withConverter(e){return new ws(this.firestore,this._delegate.withConverter(e?Jf.getInstance(this.firestore,e):null))}}class sU{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new u0(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class nN{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new ws(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new u0(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new sU(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new u0(this._firestore,r))})}isEqual(e){return Wk(this._delegate,e._delegate)}}class km extends ws{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new aa(this.firestore,e):null}doc(e){try{return new aa(this.firestore,void 0===e?D1(this._delegate):D1(this._delegate,e))}catch(t){throw bs(t,"doc()","CollectionReference.doc()")}}add(e){return function WB(n,e){const t=sn(n.firestore,Qn),r=D1(n),i=N1(n.converter,e);return Rm(t,[T1(zf(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,Vr.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new aa(this.firestore,t))}isEqual(e){return Rk(this._delegate,e._delegate)}withConverter(e){return new km(this.firestore,this._delegate.withConverter(e?Jf.getInstance(this.firestore,e):null))}}function Qf(n){return sn(n,$n)}class rN{constructor(...e){this._delegate=new _c(...e)}static documentId(){return new rN(gi.keyField().canonicalString())}isEqual(e){return(e=(0,Kt.m9)(e))instanceof _c&&this._delegate._internalPath.isEqual(e._internalPath)}}class Xf{constructor(e){this._delegate=e}static serverTimestamp(){const e=function YB(){return new zA("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Xf(e)}static delete(){const e=function KB(){return new n0("deleteField")}();return e._methodName="FieldValue.delete",new Xf(e)}static arrayUnion(...e){const t=function JB(...n){return new wB("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Xf(t)}static arrayRemove(...e){const t=function QB(...n){return new DB("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Xf(t)}static increment(e){const t=function XB(n){return new EB("increment",n)}(e);return t._methodName="FieldValue.increment",new Xf(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const oU={Firestore:aP,GeoPoint:E1,Timestamp:Nr,Blob:a0,Transaction:lP,WriteBatch:uP,DocumentReference:aa,DocumentSnapshot:l0,Query:ws,QueryDocumentSnapshot:u0,QuerySnapshot:nN,CollectionReference:km,FieldPath:rN,FieldValue:Xf,setLogLevel:function iU(n){!function nL(n){Gd.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function lU(n){(function aU(n,e){n.INTERNAL.registerComponent(new $g.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},oU)))})(n,(e,t)=>new aP(e,t,new rU)),n.registerVersion("@firebase/firestore-compat","0.1.17")}($y.Z);var uU=R(6451),x1=R(5363),cU=R(6063);class dU extends Et.x{constructor(e=1/0,t=1/0,r=cU.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:l,_windowTime:d}=this;t||(r.push(e),!i&&r.push(l.now()+d)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,l=i.slice();for(let d=0;d<l.length&&!e.closed;d+=r?1:2)e.next(l[d]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,l=(i?1:2)*e;if(e<1/0&&l<r.length&&r.splice(0,r.length-l),!i){const d=t.now();let m=0;for(let v=1;v<r.length&&r[v]<=d;v+=2)m=v;m&&r.splice(0,m+1)}}}var hU=R(3099);function hP(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=null!=n?n:1/0,(0,hU.B)({connector:()=>new dU(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function fP(n,e){return(0,rr.m)(e)?nn(()=>n,e):nn(()=>n)}var iN=R(9468);R(5867);const gP=new Map,_U={activated:!1,tokenObservers:[]},yU={initialized:!1,enabled:!1};function vi(n){return gP.get(n)||_U}function za(n,e){gP.set(n,e)}function R1(){return yU}class EU{constructor(e,t,r,i,l){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=l,this.pending=null,this.nextErrorWaitInterval=i,i>l)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,ye.Z)(function*(){t.stop();try{t.pending=new Kt.BH,yield function CU(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Kt.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Ds=new Kt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function _P(n){if(!vi(n).activated)throw Ds.create("use-before-activation",{appName:n.name})}function lN(n,e){return uN.apply(this,arguments)}function uN(){return uN=(0,ye.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){const M=yield i.getHeartbeatsHeader();M&&(r["X-Firebase-Client"]=M)}const l={method:"POST",body:JSON.stringify(e),headers:r};let d,m;try{d=yield fetch(n,l)}catch(M){throw Ds.create("fetch-network-error",{originalErrorMessage:M.message})}if(200!==d.status)throw Ds.create("fetch-status-error",{httpStatus:d.status});try{m=yield d.json()}catch(M){throw Ds.create("fetch-parse-error",{originalErrorMessage:M.message})}const v=m.ttl.match(/^([\d.]+)(s)$/);if(!v||!v[2]||isNaN(Number(v[1])))throw Ds.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${m.ttl}`});const D=1e3*Number(v[1]),I=Date.now();return{token:m.attestationToken,expireTimeMillis:I+D,issuedAtTimeMillis:I}}),uN.apply(this,arguments)}function NU(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${t}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const c0="firebase-app-check-store";let F1=null;function vP(){return F1||(F1=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(Ds.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(c0,{keyPath:"compositeKey"})}}catch(t){e(Ds.create("storage-open",{originalErrorMessage:t.message}))}}),F1)}function cN(){return cN=(0,ye.Z)(function*(n,e){const r=(yield vP()).transaction(c0,"readwrite"),l=r.objectStore(c0).put({compositeKey:n,value:e});return new Promise((d,m)=>{l.onsuccess=v=>{d()},r.onerror=v=>{var D;m(Ds.create("storage-set",{originalErrorMessage:null===(D=v.target.error)||void 0===D?void 0:D.message}))}})}),cN.apply(this,arguments)}const d0=new Ga.Yd("@firebase/app-check");function EP(n,e){return(0,Kt.hl)()?function RU(n,e){return function bP(n,e){return cN.apply(this,arguments)}(function DP(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{d0.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function CP(){return R1().enabled}function TP(){return pN.apply(this,arguments)}function pN(){return pN=(0,ye.Z)(function*(){const n=R1();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),pN.apply(this,arguments)}const BU={error:"UNKNOWN_ERROR"};function UU(n){return Kt.US.encodeString(JSON.stringify(n),!1)}function L1(n){return gN.apply(this,arguments)}function gN(){return gN=(0,ye.Z)(function*(n,e=!1){const t=n.app;_P(t);const r=vi(t);let l,i=r.token;if(!i){const v=yield r.cachedTokenPromise;v&&V1(v)&&(i=v)}if(!e&&i&&V1(i))return{token:i.token};let m,d=!1;if(CP()){r.exchangeTokenPromise||(r.exchangeTokenPromise=lN(NU(t,yield TP()),n.heartbeatServiceProvider).then(D=>(r.exchangeTokenPromise=void 0,D)),d=!0);const v=yield r.exchangeTokenPromise;return yield EP(t,v),za(t,Object.assign(Object.assign({},r),{token:v})),{token:v.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(v=>(r.exchangeTokenPromise=void 0,v)),d=!0),i=yield r.exchangeTokenPromise}catch(v){"appCheck/throttled"===v.code?d0.warn(v.message):d0.error(v),l=v}return i?(m={token:i.token},za(t,Object.assign(Object.assign({},r),{token:i})),yield EP(t,i)):m=GU(l),d&&SP(t,m),m}),gN.apply(this,arguments)}function _N(n,e){const t=vi(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),za(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function IP(n){const{app:e}=n,t=vi(e);let r=t.tokenRefresher;r||(r=function jU(n){const{app:e}=n;return new EU((0,ye.Z)(function*(){let r;if(r=vi(e).token?yield L1(n,!0):yield L1(n),r.error)throw r.error}),()=>!0,()=>{const t=vi(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),za(e,Object.assign(Object.assign({},t),{tokenRefresher:r}))),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function SP(n,e){const t=vi(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch(i){}}function V1(n){return n.expireTimeMillis-Date.now()>0}function GU(n){return{token:UU(BU),error:n}}class HU{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=vi(this.app);for(const t of e)_N(this.app,t.next);return Promise.resolve()}}const PP="app-check-internal";!function rj(){(0,Xl._registerComponent)(new $g.wA("app-check",n=>function $U(n,e){return new HU(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(PP).initialize()})),(0,Xl._registerComponent)(new $g.wA(PP,n=>function WU(n){return{getToken:e=>L1(n,e),addTokenListener:e=>function mN(n,e,t,r){const{app:i}=n,l=vi(i),d={next:t,error:r,type:e};if(za(i,Object.assign(Object.assign({},l),{tokenObservers:[...l.tokenObservers,d]})),l.token&&V1(l.token)){const m=l.token;Promise.resolve().then(()=>{t({token:m.token}),IP(n)}).catch(()=>{})}l.cachedTokenPromise.then(()=>IP(n))}(n,"INTERNAL",e),removeTokenListener:e=>_N(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Xl.registerVersion)("@firebase/app-check","0.5.6")}();class wN{constructor(){return(0,Yr.vb)("app-check")}}"undefined"!=typeof window&&window;var lj=R(127);const LP=new u.OlP("angularfire2.auth.use-emulator"),VP=new u.OlP("angularfire2.auth.settings"),BP=new u.OlP("angularfire2.auth.tenant-id"),UP=new u.OlP("angularfire2.auth.langugage-code"),jP=new u.OlP("angularfire2.auth.use-device-language"),GP=new u.OlP("angularfire.auth.persistence"),HP=(n,e,t,r,i,l,d,m)=>(0,Io.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const v=e.runOutsideAngular(()=>n.auth());if(t&&v.useEmulator(...t),r&&(v.tenantId=r),v.languageCode=i,l&&v.useDeviceLanguage(),d)for(const[D,I]of Object.entries(d))v.settings[D]=I;return m&&v.setPersistence(m),v},[t,r,i,l,d,m]);let $P=(()=>{class n{constructor(t,r,i,l,d,m,v,D,I,M,F,B){const Z=new Et.x,se=mt(void 0).pipe((0,x1.Q)(d.outsideAngular),nn(()=>l.runOutsideAngular(()=>Promise.resolve().then(R.bind(R,820)))),(0,bt.U)(()=>(0,Io.on)(t,l,r)),(0,bt.U)(Ne=>HP(Ne,l,m,D,I,M,v,F)),hP({bufferSize:1,refCount:!1}));if(dr(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=mt(null);else{se.pipe(sc()).subscribe();const Xe=se.pipe(nn(qe=>qe.getRedirectResult().then(et=>et,()=>null)),Yr.iC,hP({bufferSize:1,refCount:!1})),$e=se.pipe(nn(qe=>new Cn.y(et=>({unsubscribe:l.runOutsideAngular(()=>qe.onAuthStateChanged(ut=>et.next(ut),ut=>et.error(ut),()=>et.complete()))})))),ot=se.pipe(nn(qe=>new Cn.y(et=>({unsubscribe:l.runOutsideAngular(()=>qe.onIdTokenChanged(ut=>et.next(ut),ut=>et.error(ut),()=>et.complete()))}))));this.authState=Xe.pipe(fP($e),(0,iN.R)(d.outsideAngular),(0,x1.Q)(d.insideAngular)),this.user=Xe.pipe(fP(ot),(0,iN.R)(d.outsideAngular),(0,x1.Q)(d.insideAngular)),this.idToken=this.user.pipe(nn(qe=>qe?(0,hn.D)(qe.getIdToken()):mt(null))),this.idTokenResult=this.user.pipe(nn(qe=>qe?(0,hn.D)(qe.getIdTokenResult()):mt(null))),this.credential=(0,uU.T)(Xe,Z,this.authState.pipe(Ut(qe=>!qe))).pipe((0,bt.U)(qe=>(null==qe?void 0:qe.user)?qe:null),(0,iN.R)(d.outsideAngular),(0,x1.Q)(d.insideAngular))}return(0,Io.pX)(this,se,l,{spy:{apply:(Ne,Xe,$e)=>{(Ne.startsWith("signIn")||Ne.startsWith("createUser"))&&$e.then(ot=>Z.next(ot))}}})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Io.Dh),u.LFG(Io.xv,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(Yr.HU),u.LFG(LP,8),u.LFG(VP,8),u.LFG(BP,8),u.LFG(UP,8),u.LFG(jP,8),u.LFG(GP,8),u.LFG(wN,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function WP(n,e){return function cj(n,e=va.z){return new Cn.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=r&&r()}})}(n,e)}function EN(n,e){return WP(n,e).pipe((0,bt.U)(t=>({payload:t,type:"query"})))}function U1(n,e){return EN(n,e).pipe(li(void 0),hf(),(0,bt.U)(([t,r])=>{const i=r.payload.docChanges(),l=i.map(d=>({type:d.type,payload:d}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((d,m)=>{const v=i.find(I=>I.doc.ref.isEqual(d.ref)),D=null==t?void 0:t.payload.docs.find(I=>I.ref.isEqual(d.ref));v&&JSON.stringify(v.doc.metadata)===JSON.stringify(d.metadata)||!v&&D&&JSON.stringify(D.metadata)===JSON.stringify(d.metadata)||l.push({type:"modified",payload:{oldIndex:m,newIndex:m,type:"modified",doc:d}})}),l}))}function qP(n,e,t){return U1(n,t).pipe(mg((r,i)=>function hj(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function fj(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return CN(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return CN(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return CN(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(l=>l.payload),e),[]),function Mu(n,e=fr.y){return n=null!=n?n:xu,(0,Tn.e)((t,r)=>{let i,l=!0;t.subscribe((0,rn.x)(r,d=>{const m=e(d);(l||!n(i,m))&&(l=!1,i=m,r.next(d))}))})}(),(0,bt.U)(r=>r.map(i=>({type:i.type,payload:i}))))}function CN(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function zP(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class ZP{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=U1(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,bt.U)(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe(li(void 0),hf(),Ut(([r,i])=>i.length>0||!r),(0,bt.U)(([r,i])=>i),Yr.iC)}auditTrail(e){return this.stateChanges(e).pipe(mg((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=zP(e);return qP(this.query,t,this.afs.schedulers.outsideAngular).pipe(Yr.iC)}valueChanges(e={}){return EN(this.query,this.afs.schedulers.outsideAngular).pipe((0,bt.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),Yr.iC)}get(e){return(0,hn.D)(this.query.get(e)).pipe(Yr.iC)}add(e){return this.ref.add(e)}doc(e){return new KP(this.ref.doc(e),this.afs)}}class KP{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:l}=QP(r,t);return new ZP(i,l,this.afs)}snapshotChanges(){return function dj(n,e){return WP(n,e).pipe(li(void 0),hf(),(0,bt.U)(([t,r])=>r.exists?(null==t?void 0:t.exists)?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Yr.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,bt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,hn.D)(this.ref.get(e)).pipe(Yr.iC)}}class pj{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?U1(this.query,this.afs.schedulers.outsideAngular).pipe((0,bt.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),Ut(t=>t.length>0),Yr.iC):U1(this.query,this.afs.schedulers.outsideAngular).pipe(Yr.iC)}auditTrail(e){return this.stateChanges(e).pipe(mg((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=zP(e);return qP(this.query,t,this.afs.schedulers.outsideAngular).pipe(Yr.iC)}valueChanges(e={}){return EN(this.query,this.afs.schedulers.outsideAngular).pipe((0,bt.U)(r=>r.payload.docs.map(i=>e.idField?Object.assign({[e.idField]:i.id},i.data()):i.data())),Yr.iC)}get(e){return(0,hn.D)(this.query.get(e)).pipe(Yr.iC)}}const YP=new u.OlP("angularfire2.enableFirestorePersistence"),JP=new u.OlP("angularfire2.firestore.persistenceSettings"),gj=new u.OlP("angularfire2.firestore.settings"),mj=new u.OlP("angularfire2.firestore.use-emulator");function QP(n,e=(t=>t)){return{query:e(n),ref:n}}let XP=(()=>{class n{constructor(t,r,i,l,d,m,v,D,I,M,F,B,Z,se,Ne,Xe,$e){this.schedulers=v;const ot=(0,Io.on)(t,m,r),qe=I;M&&HP(ot,m,F,Z,se,Ne,B,Xe),[this.firestore,this.persistenceEnabled$]=(0,Io.cc)(`${ot.name}.firestore`,"AngularFirestore",ot.name,()=>{const et=m.runOutsideAngular(()=>ot.firestore());if(l&&et.settings(l),qe&&et.useEmulator(...qe),i&&!dr(d)){const ut=()=>{try{return(0,hn.D)(et.enablePersistence(D||void 0).then(()=>!0,()=>!1))}catch(Rt){return"undefined"!=typeof console&&console.warn(Rt),mt(!1)}};return[et,m.runOutsideAngular(ut)]}return[et,mt(!1)]},[l,qe,i])}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:l,query:d}=QP(i,r),m=this.schedulers.ngZone.run(()=>l);return new ZP(m,d,this)}collectionGroup(t,r){const i=r||(d=>d),l=this.firestore.collectionGroup(t);return new pj(i(l),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new KP(i,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Io.Dh),u.LFG(Io.xv,8),u.LFG(YP,8),u.LFG(gj,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(Yr.HU),u.LFG(JP,8),u.LFG(mj,8),u.LFG($P,8),u.LFG(LP,8),u.LFG(VP,8),u.LFG(BP,8),u.LFG(UP,8),u.LFG(jP,8),u.LFG(GP,8),u.LFG(wN,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),_j=(()=>{class n{constructor(){lj.Z.registerVersion("angularfire",Yr.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:YP,useValue:!0},{provide:JP,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[XP]}),n})(),j1=(()=>{class n{constructor(t){this.db=t,this.dbPath="/movies",this.moviesRef=t.collection(this.dbPath)}getMovies(){return this.moviesRef.snapshotChanges().pipe((0,bt.U)(t=>t.map(r=>Object.assign({id:r.payload.doc.id},r.payload.doc.data()))))}getFavoritesMovies(){return this.moviesRef.snapshotChanges().pipe((0,bt.U)(t=>t.map(r=>Object.assign({id:r.payload.doc.id},r.payload.doc.data())).filter(r=>r.isFavorite)))}deleteMovie(t){return this.moviesRef.doc(t).delete()}addMovie(t){return this.moviesRef.add(Object.assign({},t))}toggleFavorite(t){return this.moviesRef.doc(t.id).update(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(XP))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),yj=(()=>{class n{transform(t,r){return r||(r="id"),t.sort((i,l)=>i[r]<l[r]?-1:i[r]>l[r]?1:0)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=u.Yjl({name:"sort",type:n,pure:!0}),n})(),vj=(()=>{class n{transform(t,r){return t?r?(r=r.toLowerCase(),t.filter(function(i){return i.title.toLowerCase().includes(r)})):t:[]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=u.Yjl({name:"search",type:n,pure:!0}),n})(),bj=(()=>{class n{transform(t){const r=Math.pow(10,1);let i="";const l=[{key:"B",value:Math.pow(10,9)},{key:"M",value:Math.pow(10,6)},{key:"K",value:1e3}];for(let d=0;d<l.length;d++){let m=t/l[d].value;if(m=Math.round(m*r)/r,m>=1){t=m,i=l[d].key;break}}return t+i}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=u.Yjl({name:"movies",type:n,pure:!0}),n})();function wj(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",17)(1,"span",18),u.NdJ("click",function(){const l=u.CHM(t).$implicit;return u.oxw().onDelete(l.id)}),u._uU(2,"remove_circle"),u.qZA(),u.TgZ(3,"span",19),u.NdJ("click",function(){const l=u.CHM(t).$implicit;return u.oxw().toggleFavorite(l)}),u._uU(4,"favorite"),u.qZA(),u._UZ(5,"img",20),u.TgZ(6,"div",21)(7,"h4"),u._uU(8),u.qZA(),u.TgZ(9,"p"),u._uU(10),u.qZA(),u.TgZ(11,"p"),u._uU(12),u.qZA(),u.TgZ(13,"p"),u._uU(14),u.ALo(15,"movies"),u.qZA(),u.TgZ(16,"p"),u._uU(17),u.ALo(18,"date"),u.qZA()()()}if(2&n){const t=e.$implicit;u.xp6(3),u.ekj("active-favorite",t.isFavorite),u.xp6(2),u.Q6J("src",t.posterUrl,u.LSH)("alt",t.title),u.xp6(3),u.Oqu(t.title),u.xp6(2),u.hij("Year: ",t.year,""),u.xp6(2),u.hij("Actors: ",null==t.actors?null:t.actors.join(", "),""),u.xp6(2),u.hij("Cash fees: ",u.lcZ(15,9,t.cashFees),""),u.xp6(3),u.hij("Created data: ",u.lcZ(18,11,t.createdData),"")}}let eF=(()=>{class n{constructor(t){this.moviesService=t,this.isListView=!JSON.parse(localStorage.getItem("isCardView")),this.template="",this.search="",this.sort="",this.movies=[],this.title=""}changeView(t){this.isListView=t,localStorage.setItem("isCardView",JSON.stringify(!t))}onDelete(t){this.moviesService.deleteMovie(t).then(()=>{console.log("The movies was updated successfully!")}).catch(r=>console.log(r))}toggleFavorite(t){this.moviesService.toggleFavorite(Object.assign(Object.assign({},t),{isFavorite:!t.isFavorite})).then(()=>console.log("The movies was updated successfully!")).catch(r=>console.log(r))}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(j1))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-movies-list"]],inputs:{movies:"movies",title:"title"},decls:34,vars:18,consts:[[1,"movies__header"],[1,"d-flex","mobile-view"],[1,"d-flex","align-items-center"],[1,"material-icons-outlined","icon"],[1,"form-inline","my-2","my-lg-0"],["type","search","placeholder","Search","aria-label","Search","name","search",1,"form-control","mr-sm-2",3,"ngModel","ngModelChange"],[1,"separator","d-flex","align-items-center"],[1,"d-flex","align-items-center","sort"],["aria-label","Default select example","name","sort",1,"form-select",3,"ngModel","ngModelChange"],["value","","selected",""],["value","title"],["value","year"],["value","createdData"],["type","button",1,"btn","btn-link",3,"click"],[1,"material-icons"],[1,"movies__wrap"],["class","movies__item",4,"ngFor","ngForOf"],[1,"movies__item"],["title","Delete movie",1,"material-icons-outlined","button","delete",3,"click"],[1,"material-icons-outlined","button","favorite",3,"click"],[3,"src","alt"],[1,"movies__info"]],template:function(t,r){1&t&&(u.TgZ(0,"div",0)(1,"h1"),u._uU(2),u.qZA(),u.TgZ(3,"div",1)(4,"div",2)(5,"span",3),u._uU(6,"search"),u.qZA(),u.TgZ(7,"form",4)(8,"input",5),u.NdJ("ngModelChange",function(l){return r.search=l}),u.qZA()()(),u.TgZ(9,"div",6),u._uU(10,"|"),u.qZA(),u.TgZ(11,"div",7)(12,"span",3),u._uU(13,"sort"),u.qZA(),u.TgZ(14,"select",8),u.NdJ("ngModelChange",function(l){return r.sort=l}),u.TgZ(15,"option",9),u._uU(16,"None"),u.qZA(),u.TgZ(17,"option",10),u._uU(18,"Name A-Z"),u.qZA(),u.TgZ(19,"option",11),u._uU(20,"Year"),u.qZA(),u.TgZ(21,"option",12),u._uU(22,"Created date"),u.qZA()()()()(),u.TgZ(23,"div")(24,"button",13),u.NdJ("click",function(){return r.changeView(!0)}),u.TgZ(25,"span",14),u._uU(26,"view_list"),u.qZA()(),u.TgZ(27,"button",13),u.NdJ("click",function(){return r.changeView(!1)}),u.TgZ(28,"span",14),u._uU(29,"view_module"),u.qZA()()(),u.TgZ(30,"div",15),u.YNc(31,wj,19,13,"div",16),u.ALo(32,"sort"),u.ALo(33,"search"),u.qZA()),2&t&&(u.xp6(2),u.Oqu(r.title),u.xp6(6),u.Q6J("ngModel",r.search),u.xp6(6),u.Q6J("ngModel",r.sort),u.xp6(10),u.ekj("active",r.isListView),u.xp6(3),u.ekj("active",!r.isListView),u.xp6(3),u.ekj("movies--view-list",r.isListView)("movies--view-card",!r.isListView),u.xp6(1),u.Q6J("ngForOf",u.xi3(32,12,u.xi3(33,15,r.movies,r.search),r.sort)))},directives:[Eh,ph,Pl,Ca,Sa,Jc,Wu,mr,sd,Nn],pipes:[yj,vj,bj,ih],styles:[".movies__item[_ngcontent-%COMP%]{position:relative}.movies__item[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{position:absolute;top:35px;right:5px;display:none;color:#fff;background:rgba(0,0,0,.5);box-shadow:0 0 20px #888;border-radius:50%;cursor:pointer}.movies__item[_ngcontent-%COMP%]   .favorite[_ngcontent-%COMP%]{font-size:15px;padding:5px}.movies__item[_ngcontent-%COMP%]   .button.favorite[_ngcontent-%COMP%]{top:5px}.movies__item[_ngcontent-%COMP%]   .active-favorite[_ngcontent-%COMP%]{color:red;display:block}.movies__item[_ngcontent-%COMP%]:hover   .button[_ngcontent-%COMP%]{display:block}.movies__header[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.movies--view-list[_ngcontent-%COMP%]   .movies__item[_ngcontent-%COMP%]{display:flex;padding:20px}.movies--view-list[_ngcontent-%COMP%]   .movies__item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{object-fit:contain;max-width:110px;min-width:80px}.movies--view-list[_ngcontent-%COMP%]   .movies__info[_ngcontent-%COMP%]{padding-left:15px}.movies--view-card[_ngcontent-%COMP%]{display:grid;grid-template:auto/repeat(auto-fit,minmax(150px,1fr));grid-gap:15px;padding-top:15px;justify-items:center}.movies--view-card[_ngcontent-%COMP%]   .movies__item[_ngcontent-%COMP%]{max-width:175px;max-height:600px}.movies__info[_ngcontent-%COMP%]{padding-top:10px}.active[_ngcontent-%COMP%]{color:#0d6efd}.separator[_ngcontent-%COMP%]{padding:0 20px;font-size:28px;align-self:baseline}.sort[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;max-width:180px;padding-left:10px}.icon[_ngcontent-%COMP%]{padding-right:10px}@media (max-width: 320px){.movies__header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-wrap:wrap}}@media (max-width: 425px){.movies--view-list[_ngcontent-%COMP%]   .movies__item[_ngcontent-%COMP%]{border:1px solid #7e7e7e;border-radius:5%;margin:10px}.movies--view-list[_ngcontent-%COMP%]   .movies__item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-top:15px;align-self:start}.movies--view-list[_ngcontent-%COMP%]   .movies__item[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{display:block}}@media (max-width: 768px){.movies__item[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{display:block}.mobile-view[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:flex-end}}@media (max-width: 992px){.separator[_ngcontent-%COMP%]{display:none!important}}"]}),n})(),Dj=(()=>{class n{constructor(t){this.moviesService=t,this.movies=[],this.getMovies()}getMovies(){this.moviesService.getMovies().subscribe({next:t=>{this.movies=t},error:t=>{console.log(t)}})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(j1))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-movies"]],decls:1,vars:2,consts:[[3,"title","movies"]],template:function(t,r){1&t&&u._UZ(0,"app-movies-list",0),2&t&&u.Q6J("title","Movies list")("movies",r.movies)},directives:[eF],encapsulation:2}),n})();function Ej(n,e){1&n&&(u.TgZ(0,"div"),u._uU(1," Incorrect poster link "),u.qZA())}function Cj(n,e){1&n&&(u.TgZ(0,"div"),u._uU(1," Invalid URL address. Example: https://example.com "),u.qZA())}function Tj(n,e){if(1&n&&(u.TgZ(0,"div",21),u.YNc(1,Ej,2,0,"div",22),u.YNc(2,Cj,2,0,"div",22),u.qZA()),2&n){const t=u.oxw();u.xp6(1),u.Q6J("ngIf",null==t.form.controls.posterUrl.errors?null:t.form.controls.posterUrl.errors.required),u.xp6(1),u.Q6J("ngIf",null==t.form.controls.posterUrl.errors?null:t.form.controls.posterUrl.errors.pattern)}}function Ij(n,e){1&n&&(u.TgZ(0,"div"),u._uU(1," Enter a title for the movie "),u.qZA())}function Sj(n,e){1&n&&(u.TgZ(0,"div"),u._uU(1," Name must be at least 2 characters long "),u.qZA())}function Aj(n,e){1&n&&(u.TgZ(0,"div"),u._uU(1," Name must be no more than 60 characters "),u.qZA())}function Nj(n,e){if(1&n&&(u.TgZ(0,"div",21),u.YNc(1,Ij,2,0,"div",22),u.YNc(2,Sj,2,0,"div",22),u.YNc(3,Aj,2,0,"div",22),u.qZA()),2&n){const t=u.oxw();u.xp6(1),u.Q6J("ngIf",null==t.form.controls.title.errors?null:t.form.controls.title.errors.required),u.xp6(1),u.Q6J("ngIf",null==t.form.controls.title.errors?null:t.form.controls.title.errors.minlength),u.xp6(1),u.Q6J("ngIf",null==t.form.controls.title.errors?null:t.form.controls.title.errors.maxlength)}}function Mj(n,e){1&n&&(u.TgZ(0,"div"),u._uU(1," Enter the year of the movie "),u.qZA())}function xj(n,e){1&n&&(u.TgZ(0,"div"),u._uU(1," According to Wikipedia, no films were made before 1895 "),u.qZA())}function Oj(n,e){1&n&&(u.TgZ(0,"div"),u._uU(1," The site contains only released films "),u.qZA())}function Rj(n,e){1&n&&(u.TgZ(0,"div"),u._uU(1," The field must contain only numbers "),u.qZA())}function kj(n,e){if(1&n&&(u.TgZ(0,"div",21),u.YNc(1,Mj,2,0,"div",22),u.YNc(2,xj,2,0,"div",22),u.YNc(3,Oj,2,0,"div",22),u.YNc(4,Rj,2,0,"div",22),u.qZA()),2&n){const t=u.oxw();u.xp6(1),u.Q6J("ngIf",null==t.form.controls.year.errors?null:t.form.controls.year.errors.required),u.xp6(1),u.Q6J("ngIf",null==t.form.controls.year.errors?null:t.form.controls.year.errors.min),u.xp6(1),u.Q6J("ngIf",null==t.form.controls.year.errors?null:t.form.controls.year.errors.max),u.xp6(1),u.Q6J("ngIf",null==t.form.controls.year.errors?null:t.form.controls.year.errors.pattern)}}function Pj(n,e){1&n&&(u.TgZ(0,"div"),u._uU(1," Enter the film's cash fees "),u.qZA())}function Fj(n,e){1&n&&(u.TgZ(0,"div"),u._uU(1," From 15K to 9B. Example: 20230.50 "),u.qZA())}function Lj(n,e){if(1&n&&(u.TgZ(0,"div",21),u.YNc(1,Pj,2,0,"div",22),u.YNc(2,Fj,2,0,"div",22),u.qZA()),2&n){const t=u.oxw();u.xp6(1),u.Q6J("ngIf",null==t.form.controls.cashFees.errors?null:t.form.controls.cashFees.errors.required),u.xp6(1),u.Q6J("ngIf",null==t.form.controls.cashFees.errors?null:t.form.controls.cashFees.errors.pattern)}}function Vj(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"button",28),u.NdJ("click",function(){u.CHM(t);const i=u.oxw().index;return u.oxw().removeControl(i)}),u._uU(1,"- "),u.qZA()}}function Bj(n,e){1&n&&(u.TgZ(0,"div",21),u._uU(1," Enter the actors who played in the film "),u.qZA())}function Uj(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",4)(1,"label",23),u._uU(2,"Actor"),u.qZA(),u.TgZ(3,"div",6)(4,"div",24),u._UZ(5,"input",25),u.TgZ(6,"button",26),u.NdJ("click",function(){return u.CHM(t),u.oxw().addControl()}),u._uU(7,"+"),u.qZA(),u.YNc(8,Vj,2,0,"button",27),u.qZA(),u.YNc(9,Bj,2,0,"div",8),u.qZA()()}if(2&n){const t=e.index,r=u.oxw();u.xp6(1),u.MGl("for","actor-",t,""),u.xp6(4),u.MGl("id","actor-",t,""),u.Q6J("formControlName",t),u.xp6(3),u.Q6J("ngIf",r.actorsFormArray.controls.length>1),u.xp6(1),u.Q6J("ngIf",r.actorsFormArray.controls[t].invalid&&r.actorsFormArray.controls[t].touched)}}function jj(n,e){1&n&&(u.TgZ(0,"div",29),u._uU(1," Please fill in all fields "),u.qZA())}let Gj=(()=>{class n{constructor(t,r,i){this.formBuilder=t,this.router=r,this.moviesService=i,this.isError=!1,this.form=t.group({title:["",[gr.required,gr.minLength(2),gr.maxLength(60)]],year:["",[gr.required,gr.pattern(/^[0-9]+/),gr.min(1895),gr.max((new Date).getFullYear())]],cashFees:["",[gr.required,gr.pattern(/^(?!(^0+(\.0+)?$))^\d{5,10}(\.\d{1,2})?$/)]],posterUrl:["",[gr.required,gr.pattern(/^(?:http(s)?:\/\/)?[\w.-]+(?:\.[\w\.-]+)+[\w\-\._~:/?#[\]@!\$&'\(\)\*\+,;=.]+$/)]],createdData:[(new Date).toDateString(),[gr.required]],isFavorite:[!1],actors:t.array([["",gr.required]])})}get actorsFormArray(){return this.form.get("actors")}addControl(){this.actorsFormArray.push(new Rl("",gr.required))}removeControl(t){this.actorsFormArray.removeAt(t)}addMovies(){this.form.valid?this.moviesService.addMovie(this.form.value).then(()=>{console.log("Created new item successfully!"),this.router.navigate(["/"])}):this.isError=!0}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(ud),u.Y36(ys),u.Y36(j1))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-new-movie"]],decls:38,vars:7,consts:[[1,"header"],[1,"title"],[1,"container","new-movie"],[1,"body","new-movie__form",3,"formGroup"],[1,"mb-3","row"],["for","posterUrl",1,"col-sm-3","col-form-label"],[1,"col-sm-9"],["type","text","id","posterUrl","formControlName","posterUrl",1,"form-control"],["class","danger",4,"ngIf"],["for","title",1,"col-sm-3","col-form-label"],["type","text","id","title","formControlName","title",1,"form-control"],["for","year",1,"col-sm-3","col-form-label"],["type","text","id","year","formControlName","year",1,"form-control"],["for","cashFees",1,"col-sm-3","col-form-label"],["type","text","id","cashFees","formControlName","cashFees",1,"form-control"],["formArrayName","actors"],["class","mb-3 row",4,"ngFor","ngForOf"],["class","alert  alert-danger","id","box",4,"ngIf"],[1,"footer","d-flex","justify-content-end"],["type","button",1,"btn","btn-outline-primary","new-movie__btn",3,"click"],["type","button","routerLink","/",1,"btn","btn-outline-secondary","new-movie__btn"],[1,"danger"],[4,"ngIf"],[1,"col-sm-3","col-form-label",3,"for"],[1,"d-flex"],["type","text",1,"form-control",3,"id","formControlName"],[1,"btn","btn-outline-success",3,"click"],["class","btn  btn-outline-danger",3,"click",4,"ngIf"],[1,"btn","btn-outline-danger",3,"click"],["id","box",1,"alert","alert-danger"]],template:function(t,r){1&t&&(u.TgZ(0,"div")(1,"div",0)(2,"h4",1),u._uU(3,"Add new movies form"),u.qZA()(),u.TgZ(4,"div",2)(5,"form",3)(6,"div",4)(7,"label",5),u._uU(8,"posterUrl"),u.qZA(),u.TgZ(9,"div",6),u._UZ(10,"input",7),u.YNc(11,Tj,3,2,"div",8),u.qZA()(),u.TgZ(12,"div",4)(13,"label",9),u._uU(14,"Name"),u.qZA(),u.TgZ(15,"div",6),u._UZ(16,"input",10),u.YNc(17,Nj,4,3,"div",8),u.qZA()(),u.TgZ(18,"div",4)(19,"label",11),u._uU(20,"Year"),u.qZA(),u.TgZ(21,"div",6),u._UZ(22,"input",12),u.YNc(23,kj,5,4,"div",8),u.qZA()(),u.TgZ(24,"div",4)(25,"label",13),u._uU(26,"Cash fees"),u.qZA(),u.TgZ(27,"div",6),u._UZ(28,"input",14),u.YNc(29,Lj,3,2,"div",8),u.qZA()(),u.TgZ(30,"div",15),u.YNc(31,Uj,10,5,"div",16),u.YNc(32,jj,2,0,"div",17),u.qZA(),u.TgZ(33,"div",18)(34,"button",19),u.NdJ("click",function(){return r.addMovies()}),u._uU(35,"Add"),u.qZA(),u.TgZ(36,"button",20),u._uU(37,"Cancel"),u.qZA()()()()()),2&t&&(u.xp6(5),u.Q6J("formGroup",r.form),u.xp6(6),u.Q6J("ngIf",r.form.controls.posterUrl.invalid&&r.form.controls.posterUrl.touched),u.xp6(6),u.Q6J("ngIf",r.form.controls.title.invalid&&r.form.controls.title.touched),u.xp6(6),u.Q6J("ngIf",r.form.touched&&r.form.controls.year.invalid&&r.form.controls.year.touched),u.xp6(6),u.Q6J("ngIf",r.form.controls.cashFees.invalid&&r.form.controls.cashFees.touched),u.xp6(2),u.Q6J("ngForOf",r.actorsFormArray.controls),u.xp6(1),u.Q6J("ngIf",r.isError))},directives:[Eh,ph,ed,Ca,Sa,nd,cr,$u,Nn,Ly],styles:[".danger[_ngcontent-%COMP%]{color:red}.new-movie[_ngcontent-%COMP%]{display:flex;justify-content:center}.new-movie__form[_ngcontent-%COMP%]{width:80%;margin-bottom:40px}.new-movie__btn[_ngcontent-%COMP%]{margin:0 5px}"]}),n})(),Hj=(()=>{class n{constructor(t){this.moviesService=t,this.movies=[],this.getMovies()}getMovies(){this.moviesService.getFavoritesMovies().subscribe({next:t=>{this.movies=t},error:t=>{console.log(t)}})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(j1))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-favorites"]],decls:1,vars:2,consts:[[3,"title","movies"]],template:function(t,r){1&t&&u._UZ(0,"app-movies-list",0),2&t&&u.Q6J("title","Favorites list")("movies",r.movies)},directives:[eF],encapsulation:2}),n})();const tF_firebaseConfig={apiKey:"AIzaSyC1fS9F6upxPOgfVBy1FxCG5tGdtAdAro8",authDomain:"angular-lesson-b0efb.firebaseapp.com",projectId:"angular-lesson-b0efb",storageBucket:"angular-lesson-b0efb.appspot.com",messagingSenderId:"957999734425",appId:"1:957999734425:web:0500f5b057b8c9fd25a208"};!function Nt(n,e,t){(0,u.dwT)(n,e,t)}(Cu);const $j=[{path:"",component:Dj},{path:"favorites",component:Hj},{path:"add-new-movie",component:Gj},{path:"**",redirectTo:"/"}];let Wj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n,bootstrap:[To]}),n.\u0275inj=u.cJS({providers:[{provide:u.soG,useValue:"uk-UK"}],imports:[[_a,ld,Mp,ix.forRoot($j),Xu,Io.hO.initializeApp(tF_firebaseConfig),_j]]}),n})();(0,u.G48)(),mu().bootstrapModule(Wj).catch(n=>console.error(n))},5867:(ct,Ee,R)=>{R.d(Ee,{C6:()=>u.getApps,Mq:()=>u.getApp});var u=R(9681);(0,u.registerVersion)("firebase","9.6.11","app")},127:(ct,Ee,R)=>{R.d(Ee,{Z:()=>u.Z});var u=R(3942);u.Z.registerVersion("firebase","9.6.11","app-compat")},820:(ct,Ee,R)=>{R.r(Ee);var u=R(5861),K=R(3942),k=R(2090),oe=R(9681),X=R(655),pe=R(1877),re=R(4859);const xe=function We(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Fe=function Se(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},he=new k.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),rt=new pe.Yd("@firebase/auth");function Ke(_,...f){rt.logLevel<=pe.in.ERROR&&rt.error(`Auth (${oe.SDK_VERSION}): ${_}`,...f)}function Te(_,...f){throw Be(_,...f)}function _e(_,...f){return Be(_,...f)}function ve(_,f,g){const b=Object.assign(Object.assign({},Fe()),{[f]:g});return new k.LL("auth","Firebase",b).create(f,{appName:_.name})}function je(_,f,g){if(!(f instanceof g))throw g.name!==f.constructor.name&&Te(_,"argument-error"),ve(_,"argument-error",`Type of ${f.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Be(_,...f){if("string"!=typeof _){const g=f[0],b=[...f.slice(1)];return b[0]&&(b[0].appName=_.name),_._errorFactory.create(g,...b)}return he.create(_,...f)}function ne(_,f,...g){if(!_)throw Be(f,...g)}function ze(_){const f="INTERNAL ASSERTION FAILED: "+_;throw Ke(f),new Error(f)}function Q(_,f){_||ze(f)}const ae=new Map;function te(_){Q(_ instanceof Function,"Expected a class definition");let f=ae.get(_);return f?(Q(f instanceof _,"Instance stored in cache mismatched with class"),f):(f=new _,ae.set(_,f),f)}function ke(){var _;return"undefined"!=typeof self&&(null===(_=self.location)||void 0===_?void 0:_.href)||""}function St(){return"http:"===Yt()||"https:"===Yt()}function Yt(){var _;return"undefined"!=typeof self&&(null===(_=self.location)||void 0===_?void 0:_.protocol)||null}class $t{constructor(f,g){this.shortDelay=f,this.longDelay=g,Q(g>f,"Short delay should be less than long delay!"),this.isMobile=(0,k.uI)()||(0,k.b$)()}get(){return function on(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(St()||(0,k.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Xn(_,f){Q(_.emulator,"Emulator should always be set here");const{url:g}=_.emulator;return f?`${g}${f.startsWith("/")?f.slice(1):f}`:g}class Sn{static initialize(f,g,b){this.fetchImpl=f,g&&(this.headersImpl=g),b&&(this.responseImpl=b)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void ze("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void ze("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void ze("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const tn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},bi=new $t(3e4,6e4);function Jt(_,f){return _.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:_.tenantId}):f}function Wt(_,f,g,b){return or.apply(this,arguments)}function or(){return(or=(0,u.Z)(function*(_,f,g,b,S={}){return ti(_,S,(0,u.Z)(function*(){let O={},W={};b&&("GET"===f?W=b:O={body:JSON.stringify(b)});const ie=(0,k.xO)(Object.assign({key:_.config.apiKey},W)).slice(1),Le=yield _._getAdditionalHeaders();return Le["Content-Type"]="application/json",_.languageCode&&(Le["X-Firebase-Locale"]=_.languageCode),Sn.fetch()(Or(_,_.config.apiHost,g,ie),Object.assign({method:f,headers:Le,referrerPolicy:"no-referrer"},O))}))})).apply(this,arguments)}function ti(_,f,g){return Es.apply(this,arguments)}function Es(){return(Es=(0,u.Z)(function*(_,f,g){_._canInitEmulator=!1;const b=Object.assign(Object.assign({},tn),f);try{const S=new ns(_),O=yield Promise.race([g(),S.promise]);S.clearNetworkTimeout();const W=yield O.json();if("needConfirmation"in W)throw rs(_,"account-exists-with-different-credential",W);if(O.ok&&!("errorMessage"in W))return W;{const ie=O.ok?W.errorMessage:W.error.message,[Le,it]=ie.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Le)throw rs(_,"credential-already-in-use",W);if("EMAIL_EXISTS"===Le)throw rs(_,"email-already-in-use",W);const yt=b[Le]||Le.toLowerCase().replace(/[_\s]+/g,"-");if(it)throw ve(_,yt,it);Te(_,yt)}}catch(S){if(S instanceof k.ZR)throw S;Te(_,"network-request-failed")}})).apply(this,arguments)}function xr(_,f,g,b){return Ui.apply(this,arguments)}function Ui(){return(Ui=(0,u.Z)(function*(_,f,g,b,S={}){const O=yield Wt(_,f,g,b,S);return"mfaPendingCredential"in O&&Te(_,"multi-factor-auth-required",{_serverResponse:O}),O})).apply(this,arguments)}function Or(_,f,g,b){const S=`${f}${g}?${b}`;return _.config.emulator?Xn(_.config,S):`${_.config.apiScheme}://${S}`}class ns{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((g,b)=>{this.timer=setTimeout(()=>b(_e(this.auth,"network-request-failed")),bi.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function rs(_,f,g){const b={appName:_.name};g.email&&(b.email=g.email),g.phoneNumber&&(b.phoneNumber=g.phoneNumber);const S=_e(_,f,b);return S.customData._tokenResponse=g,S}function jr(){return(jr=(0,u.Z)(function*(_,f){return Wt(_,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function er(_,f){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,u.Z)(function*(_,f){return Wt(_,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function ni(_,f){return no.apply(this,arguments)}function no(){return(no=(0,u.Z)(function*(_,f){return Wt(_,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function vn(_){if(_)try{const f=new Date(Number(_));if(!isNaN(f.getTime()))return f.toUTCString()}catch(f){}}function la(){return(la=(0,u.Z)(function*(_,f=!1){const g=(0,k.m9)(_),b=yield g.getIdToken(f),S=at(b);ne(S&&S.exp&&S.auth_time&&S.iat,g.auth,"internal-error");const O="object"==typeof S.firebase?S.firebase:void 0,W=null==O?void 0:O.sign_in_provider;return{claims:S,token:b,authTime:vn(qt(S.auth_time)),issuedAtTime:vn(qt(S.iat)),expirationTime:vn(qt(S.exp)),signInProvider:W||null,signInSecondFactor:(null==O?void 0:O.sign_in_second_factor)||null}})).apply(this,arguments)}function qt(_){return 1e3*Number(_)}function at(_){const[f,g,b]=_.split(".");if(void 0===f||void 0===g||void 0===b)return Ke("JWT malformed, contained fewer than 3 sections"),null;try{const S=(0,k.tV)(g);return S?JSON.parse(S):(Ke("Failed to decode base64 JWT payload"),null)}catch(S){return Ke("Caught error parsing JWT payload as JSON",S),null}}function ar(_,f){return ji.apply(this,arguments)}function ji(){return(ji=(0,u.Z)(function*(_,f,g=!1){if(g)return f;try{return yield f}catch(b){throw b instanceof k.ZR&&Gt(b)&&_.auth.currentUser===_&&(yield _.auth.signOut()),b}})).apply(this,arguments)}function Gt({code:_}){return"auth/user-disabled"===_||"auth/user-token-expired"===_}class ro{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var g;if(f){const b=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),b}{this.errorBackoff=3e4;const S=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,S)}}schedule(f=!1){var g=this;if(!this.isRunning)return;const b=this.getInterval(f);this.timerId=setTimeout((0,u.Z)(function*(){yield g.iteration()}),b)}iteration(){var f=this;return(0,u.Z)(function*(){try{yield f.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===g.code&&f.schedule(!0))}f.schedule()})()}}class vr{constructor(f,g){this.createdAt=f,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=vn(this.lastLoginAt),this.creationTime=vn(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function lr(_){return ft.apply(this,arguments)}function ft(){return(ft=(0,u.Z)(function*(_){var f;const g=_.auth,b=yield _.getIdToken(),S=yield ar(_,ni(g,{idToken:b}));ne(null==S?void 0:S.users.length,g,"internal-error");const O=S.users[0];_._notifyReloadListener(O);const W=(null===(f=O.providerUserInfo)||void 0===f?void 0:f.length)?Ie(O.providerUserInfo):[],ie=Ye(_.providerData,W),yt=!!_.isAnonymous&&!(_.email&&O.passwordHash||(null==ie?void 0:ie.length)),dt={uid:O.localId,displayName:O.displayName||null,photoURL:O.photoUrl||null,email:O.email||null,emailVerified:O.emailVerified||!1,phoneNumber:O.phoneNumber||null,tenantId:O.tenantId||null,providerData:ie,metadata:new vr(O.createdAt,O.lastLoginAt),isAnonymous:yt};Object.assign(_,dt)})).apply(this,arguments)}function Vt(){return(Vt=(0,u.Z)(function*(_){const f=(0,k.m9)(_);yield lr(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function Ye(_,f){return[..._.filter(b=>!f.some(S=>S.providerId===b.providerId)),...f]}function Ie(_){return _.map(f=>{var{providerId:g}=f,b=(0,X._T)(f,["providerId"]);return{providerId:g,uid:b.rawId||"",displayName:b.displayName||null,email:b.email||null,phoneNumber:b.phoneNumber||null,photoURL:b.photoUrl||null}})}function pt(){return(pt=(0,u.Z)(function*(_,f){const g=yield ti(_,{},(0,u.Z)(function*(){const b=(0,k.xO)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:S,apiKey:O}=_.config,W=Or(_,S,"/v1/token",`key=${O}`),ie=yield _._getAdditionalHeaders();return ie["Content-Type"]="application/x-www-form-urlencoded",Sn.fetch()(W,{method:"POST",headers:ie,body:b})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class Bt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){ne(f.idToken,"internal-error"),ne(void 0!==f.idToken,"internal-error"),ne(void 0!==f.refreshToken,"internal-error");const g="expiresIn"in f&&void 0!==f.expiresIn?Number(f.expiresIn):function wt(_){const f=at(_);return ne(f,"internal-error"),ne(void 0!==f.exp,"internal-error"),ne(void 0!==f.iat,"internal-error"),Number(f.exp)-Number(f.iat)}(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,g)}getToken(f,g=!1){var b=this;return(0,u.Z)(function*(){return ne(!b.accessToken||b.refreshToken,f,"user-token-expired"),g||!b.accessToken||b.isExpired?b.refreshToken?(yield b.refresh(f,b.refreshToken),b.accessToken):null:b.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(f,g){var b=this;return(0,u.Z)(function*(){const{accessToken:S,refreshToken:O,expiresIn:W}=yield function tt(_,f){return pt.apply(this,arguments)}(f,g);b.updateTokensAndExpiration(S,O,Number(W))})()}updateTokensAndExpiration(f,g,b){this.refreshToken=g||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*b}static fromJSON(f,g){const{refreshToken:b,accessToken:S,expirationTime:O}=g,W=new Bt;return b&&(ne("string"==typeof b,"internal-error",{appName:f}),W.refreshToken=b),S&&(ne("string"==typeof S,"internal-error",{appName:f}),W.accessToken=S),O&&(ne("number"==typeof O,"internal-error",{appName:f}),W.expirationTime=O),W}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new Bt,this.toJSON())}_performRefresh(){return ze("not implemented")}}function Ft(_,f){ne("string"==typeof _||void 0===_,"internal-error",{appName:f})}class j{constructor(f){var{uid:g,auth:b,stsTokenManager:S}=f,O=(0,X._T)(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ro(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=b,this.stsTokenManager=S,this.accessToken=S.accessToken,this.displayName=O.displayName||null,this.email=O.email||null,this.emailVerified=O.emailVerified||!1,this.phoneNumber=O.phoneNumber||null,this.photoURL=O.photoURL||null,this.isAnonymous=O.isAnonymous||!1,this.tenantId=O.tenantId||null,this.providerData=O.providerData?[...O.providerData]:[],this.metadata=new vr(O.createdAt||void 0,O.lastLoginAt||void 0)}getIdToken(f){var g=this;return(0,u.Z)(function*(){const b=yield ar(g,g.stsTokenManager.getToken(g.auth,f));return ne(b,g.auth,"internal-error"),g.accessToken!==b&&(g.accessToken=b,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),b})()}getIdTokenResult(f){return function Cs(_){return la.apply(this,arguments)}(this,f)}reload(){return function br(_){return Vt.apply(this,arguments)}(this)}_assign(f){this!==f&&(ne(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(g=>Object.assign({},g)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){return new j(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(f){ne(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f,g=!1){var b=this;return(0,u.Z)(function*(){let S=!1;f.idToken&&f.idToken!==b.stsTokenManager.accessToken&&(b.stsTokenManager.updateFromServerResponse(f),S=!0),g&&(yield lr(b)),yield b.auth._persistUserIfCurrent(b),S&&b.auth._notifyListenersIfCurrent(b)})()}delete(){var f=this;return(0,u.Z)(function*(){const g=yield f.getIdToken();return yield ar(f,function ht(_,f){return jr.apply(this,arguments)}(f.auth,{idToken:g})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,g){var b,S,O,W,ie,Le,it,yt;const dt=null!==(b=g.displayName)&&void 0!==b?b:void 0,In=null!==(S=g.email)&&void 0!==S?S:void 0,gs=null!==(O=g.phoneNumber)&&void 0!==O?O:void 0,ad=null!==(W=g.photoURL)&&void 0!==W?W:void 0,Sh=null!==(ie=g.tenantId)&&void 0!==ie?ie:void 0,Vl=null!==(Le=g._redirectEventId)&&void 0!==Le?Le:void 0,ld=null!==(it=g.createdAt)&&void 0!==it?it:void 0,Mp=null!==(yt=g.lastLoginAt)&&void 0!==yt?yt:void 0,{uid:Zo,emailVerified:ud,isAnonymous:xp,providerData:Ah,stsTokenManager:xa}=g;ne(Zo&&xa,f,"internal-error");const zs=Bt.fromJSON(this.name,xa);ne("string"==typeof Zo,f,"internal-error"),Ft(dt,f.name),Ft(In,f.name),ne("boolean"==typeof ud,f,"internal-error"),ne("boolean"==typeof xp,f,"internal-error"),Ft(gs,f.name),Ft(ad,f.name),Ft(Sh,f.name),Ft(Vl,f.name),Ft(ld,f.name),Ft(Mp,f.name);const Nh=new j({uid:Zo,auth:f,email:In,emailVerified:ud,displayName:dt,isAnonymous:xp,photoURL:ad,phoneNumber:gs,tenantId:Sh,stsTokenManager:zs,createdAt:ld,lastLoginAt:Mp});return Ah&&Array.isArray(Ah)&&(Nh.providerData=Ah.map(Op=>Object.assign({},Op))),Vl&&(Nh._redirectEventId=Vl),Nh}static _fromIdTokenResponse(f,g,b=!1){return(0,u.Z)(function*(){const S=new Bt;S.updateFromServerResponse(g);const O=new j({uid:g.localId,auth:f,stsTokenManager:S,isAnonymous:b});return yield lr(O),O})()}}const $=(()=>{class _{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,u.Z)(function*(){return!0})()}_set(g,b){var S=this;return(0,u.Z)(function*(){S.storage[g]=b})()}_get(g){var b=this;return(0,u.Z)(function*(){const S=b.storage[g];return void 0===S?null:S})()}_remove(g){var b=this;return(0,u.Z)(function*(){delete b.storage[g]})()}_addListener(g,b){}_removeListener(g,b){}}return _.type="NONE",_})();function ue(_,f,g){return`firebase:${_}:${f}:${g}`}class Y{constructor(f,g,b){this.persistence=f,this.auth=g,this.userKey=b;const{config:S,name:O}=this.auth;this.fullUserKey=ue(this.userKey,S.apiKey,O),this.fullPersistenceKey=ue("persistence",S.apiKey,O),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,u.Z)(function*(){const g=yield f.persistence._get(f.fullUserKey);return g?j._fromJSON(f.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var g=this;return(0,u.Z)(function*(){if(g.persistence===f)return;const b=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=f,b?g.setCurrentUser(b):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,g,b="authUser"){return(0,u.Z)(function*(){if(!g.length)return new Y(te($),f,b);const S=(yield Promise.all(g.map(function(){var it=(0,u.Z)(function*(yt){if(yield yt._isAvailable())return yt});return function(yt){return it.apply(this,arguments)}}()))).filter(it=>it);let O=S[0]||te($);const W=ue(b,f.config.apiKey,f.name);let ie=null;for(const it of g)try{const yt=yield it._get(W);if(yt){const dt=j._fromJSON(f,yt);it!==O&&(ie=dt),O=it;break}}catch(yt){}const Le=S.filter(it=>it._shouldAllowMigration);return O._shouldAllowMigration&&Le.length?(O=Le[0],ie&&(yield O._set(W,ie.toJSON())),yield Promise.all(g.map(function(){var it=(0,u.Z)(function*(yt){if(yt!==O)try{yield yt._remove(W)}catch(dt){}});return function(yt){return it.apply(this,arguments)}}())),new Y(O,f,b)):new Y(O,f,b)})()}}function Ve(_){const f=_.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if(zt(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if(vt(f))return"Firefox";if(f.includes("silk/"))return"Silk";if(Ot(f))return"Blackberry";if(gn(f))return"Webos";if(Qt(f))return"Safari";if((f.includes("chrome/")||wr(f))&&!f.includes("edge/"))return"Chrome";if(An(f))return"Android";{const b=_.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==b?void 0:b.length))return b[1]}return"Other"}function vt(_=(0,k.z$)()){return/firefox\//i.test(_)}function Qt(_=(0,k.z$)()){const f=_.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function wr(_=(0,k.z$)()){return/crios\//i.test(_)}function zt(_=(0,k.z$)()){return/iemobile/i.test(_)}function An(_=(0,k.z$)()){return/android/i.test(_)}function Ot(_=(0,k.z$)()){return/blackberry/i.test(_)}function gn(_=(0,k.z$)()){return/webos/i.test(_)}function nr(_=(0,k.z$)()){return/iphone|ipad|ipod/i.test(_)}function is(_=(0,k.z$)()){return nr(_)||An(_)||gn(_)||Ot(_)||/windows phone/i.test(_)||zt(_)}function ca(_,f=[]){let g;switch(_){case"Browser":g=Ve((0,k.z$)());break;case"Worker":g=`${Ve((0,k.z$)())}-${_}`;break;default:g=_}const b=f.length?f.join(","):"FirebaseCore-web";return`${g}/JsCore/${oe.SDK_VERSION}/${b}`}class ri{constructor(f,g,b){this.app=f,this.heartbeatServiceProvider=g,this.config=b,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new kt(this),this.idTokenSubscription=new kt(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=he,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=b.sdkClientVersion}_initializeWithPersistence(f,g){var b=this;return g&&(this._popupRedirectResolver=te(g)),this._initializationPromise=this.queue((0,u.Z)(function*(){var S,O;if(!b._deleted&&(b.persistenceManager=yield Y.create(b,f),!b._deleted)){if(null===(S=b._popupRedirectResolver)||void 0===S?void 0:S._shouldInitProactively)try{yield b._popupRedirectResolver._initialize(b)}catch(W){}yield b.initializeCurrentUser(g),b.lastNotifiedUid=(null===(O=b.currentUser)||void 0===O?void 0:O.uid)||null,!b._deleted&&(b._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,u.Z)(function*(){if(f._deleted)return;const g=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||g){if(f.currentUser&&g&&f.currentUser.uid===g.uid)return f._currentUser._assign(g),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(g)}})()}initializeCurrentUser(f){var g=this;return(0,u.Z)(function*(){var b;let S=yield g.assertedPersistence.getCurrentUser();if(f&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const O=null===(b=g.redirectUser)||void 0===b?void 0:b._redirectEventId,W=null==S?void 0:S._redirectEventId,ie=yield g.tryRedirectSignIn(f);(!O||O===W)&&(null==ie?void 0:ie.user)&&(S=ie.user)}return S?S._redirectEventId?(ne(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===S._redirectEventId?g.directlySetCurrentUser(S):g.reloadAndSetCurrentUserOrClear(S)):g.reloadAndSetCurrentUserOrClear(S):g.directlySetCurrentUser(null)})()}tryRedirectSignIn(f){var g=this;return(0,u.Z)(function*(){let b=null;try{b=yield g._popupRedirectResolver._completeRedirectFn(g,f,!0)}catch(S){yield g._setRedirectUser(null)}return b})()}reloadAndSetCurrentUserOrClear(f){var g=this;return(0,u.Z)(function*(){try{yield lr(f)}catch(b){if("auth/network-request-failed"!==b.code)return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function He(){if("undefined"==typeof navigator)return null;const _=navigator;return _.languages&&_.languages[0]||_.language||null}()}_delete(){var f=this;return(0,u.Z)(function*(){f._deleted=!0})()}updateCurrentUser(f){var g=this;return(0,u.Z)(function*(){const b=f?(0,k.m9)(f):null;return b&&ne(b.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(b&&b._clone(g))})()}_updateCurrentUser(f){var g=this;return(0,u.Z)(function*(){if(!g._deleted)return f&&ne(g.tenantId===f.tenantId,g,"tenant-id-mismatch"),g.queue((0,u.Z)(function*(){yield g.directlySetCurrentUser(f),g.notifyAuthListeners()}))})()}signOut(){var f=this;return(0,u.Z)(function*(){return(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null)})()}setPersistence(f){var g=this;return this.queue((0,u.Z)(function*(){yield g.assertedPersistence.setPersistence(te(f))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(f){this._errorFactory=new k.LL("auth","Firebase",f())}onAuthStateChanged(f,g,b){return this.registerStateListener(this.authStateSubscription,f,g,b)}onIdTokenChanged(f,g,b){return this.registerStateListener(this.idTokenSubscription,f,g,b)}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,g){var b=this;return(0,u.Z)(function*(){const S=yield b.getOrInitRedirectPersistenceManager(g);return null===f?S.removeCurrentUser():S.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var g=this;return(0,u.Z)(function*(){if(!g.redirectPersistenceManager){const b=f&&te(f)||g._popupRedirectResolver;ne(b,g,"argument-error"),g.redirectPersistenceManager=yield Y.create(g,[te(b._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(f){var g=this;return(0,u.Z)(function*(){var b,S;return g._isInitialized&&(yield g.queue((0,u.Z)(function*(){}))),(null===(b=g._currentUser)||void 0===b?void 0:b._redirectEventId)===f?g._currentUser:(null===(S=g.redirectUser)||void 0===S?void 0:S._redirectEventId)===f?g.redirectUser:null})()}_persistUserIfCurrent(f){var g=this;return(0,u.Z)(function*(){if(f===g.currentUser)return g.queue((0,u.Z)(function*(){return g.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const b=null!==(g=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==b&&(this.lastNotifiedUid=b,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,g,b,S){if(this._deleted)return()=>{};const O="function"==typeof g?g:g.next.bind(g),W=this._isInitialized?Promise.resolve():this._initializationPromise;return ne(W,this,"internal-error"),W.then(()=>O(this.currentUser)),"function"==typeof g?f.addObserver(g,b,S):f.addObserver(g)}directlySetCurrentUser(f){var g=this;return(0,u.Z)(function*(){g.currentUser&&g.currentUser!==f&&(g._currentUser._stopProactiveRefresh(),f&&g.isProactiveRefreshEnabled&&f._startProactiveRefresh()),g.currentUser=f,f?yield g.assertedPersistence.setCurrentUser(f):yield g.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return ne(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=ca(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var f=this;return(0,u.Z)(function*(){var g;const b={"X-Client-Version":f.clientVersion};f.app.options.appId&&(b["X-Firebase-gmpid"]=f.app.options.appId);const S=yield null===(g=f.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getHeartbeatsHeader();return S&&(b["X-Firebase-Client"]=S),b})()}}function Oe(_){return(0,k.m9)(_)}class kt{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,k.ne)(g=>this.observer=g)}get next(){return ne(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function ur(_){const f=_.indexOf(":");return f<0?"":_.substr(0,f+1)}function Vn(_){if(!_)return null;const f=Number(_);return isNaN(f)?null:f}class an{constructor(f,g){this.providerId=f,this.signInMethod=g}toJSON(){return ze("not implemented")}_getIdTokenResponse(f){return ze("not implemented")}_linkToIdToken(f,g){return ze("not implemented")}_getReauthenticationResolver(f){return ze("not implemented")}}function kn(_,f){return Is.apply(this,arguments)}function Is(){return(Is=(0,u.Z)(function*(_,f){return Wt(_,"POST","/v1/accounts:resetPassword",Jt(_,f))})).apply(this,arguments)}function Nt(_,f){return xo.apply(this,arguments)}function xo(){return(xo=(0,u.Z)(function*(_,f){return Wt(_,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function so(_,f){return da.apply(this,arguments)}function da(){return(da=(0,u.Z)(function*(_,f){return Wt(_,"POST","/v1/accounts:update",Jt(_,f))})).apply(this,arguments)}function Nn(){return(Nn=(0,u.Z)(function*(_,f){return xr(_,"POST","/v1/accounts:signInWithPassword",Jt(_,f))})).apply(this,arguments)}function ss(_,f){return os.apply(this,arguments)}function os(){return(os=(0,u.Z)(function*(_,f){return Wt(_,"POST","/v1/accounts:sendOobCode",Jt(_,f))})).apply(this,arguments)}function cr(_,f){return ln.apply(this,arguments)}function ln(){return(ln=(0,u.Z)(function*(_,f){return ss(_,f)})).apply(this,arguments)}function Ja(_,f){return Qa.apply(this,arguments)}function Qa(){return(Qa=(0,u.Z)(function*(_,f){return ss(_,f)})).apply(this,arguments)}function wi(_,f){return ii.apply(this,arguments)}function ii(){return(ii=(0,u.Z)(function*(_,f){return ss(_,f)})).apply(this,arguments)}function vc(_,f){return As.apply(this,arguments)}function As(){return(As=(0,u.Z)(function*(_,f){return ss(_,f)})).apply(this,arguments)}function Gr(){return(Gr=(0,u.Z)(function*(_,f){return xr(_,"POST","/v1/accounts:signInWithEmailLink",Jt(_,f))})).apply(this,arguments)}function Oo(){return(Oo=(0,u.Z)(function*(_,f){return xr(_,"POST","/v1/accounts:signInWithEmailLink",Jt(_,f))})).apply(this,arguments)}class el extends an{constructor(f,g,b,S=null){super("password",b),this._email=f,this._password=g,this._tenantId=S}static _fromEmailAndPassword(f,g){return new el(f,g,"password")}static _fromEmailAndCode(f,g,b=null){return new el(f,g,"emailLink",b)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f;if((null==g?void 0:g.email)&&(null==g?void 0:g.password)){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(f){var g=this;return(0,u.Z)(function*(){switch(g.signInMethod){case"password":return function Ss(_,f){return Nn.apply(this,arguments)}(f,{returnSecureToken:!0,email:g._email,password:g._password});case"emailLink":return function Xa(_,f){return Gr.apply(this,arguments)}(f,{email:g._email,oobCode:g._password});default:Te(f,"internal-error")}})()}_linkToIdToken(f,g){var b=this;return(0,u.Z)(function*(){switch(b.signInMethod){case"password":return Nt(f,{idToken:g,returnSecureToken:!0,email:b._email,password:b._password});case"emailLink":return function rh(_,f){return Oo.apply(this,arguments)}(f,{idToken:g,email:b._email,oobCode:b._password});default:Te(f,"internal-error")}})()}_getReauthenticationResolver(f){return this._getIdTokenResponse(f)}}function Bn(_,f){return bc.apply(this,arguments)}function bc(){return(bc=(0,u.Z)(function*(_,f){return xr(_,"POST","/v1/accounts:signInWithIdp",Jt(_,f))})).apply(this,arguments)}class as extends an{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(f){const g=new as(f.providerId,f.signInMethod);return f.idToken||f.accessToken?(f.idToken&&(g.idToken=f.idToken),f.accessToken&&(g.accessToken=f.accessToken),f.nonce&&!f.pendingToken&&(g.nonce=f.nonce),f.pendingToken&&(g.pendingToken=f.pendingToken)):f.oauthToken&&f.oauthTokenSecret?(g.accessToken=f.oauthToken,g.secret=f.oauthTokenSecret):Te("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f,{providerId:b,signInMethod:S}=g,O=(0,X._T)(g,["providerId","signInMethod"]);if(!b||!S)return null;const W=new as(b,S);return W.idToken=O.idToken||void 0,W.accessToken=O.accessToken||void 0,W.secret=O.secret,W.nonce=O.nonce,W.pendingToken=O.pendingToken||null,W}_getIdTokenResponse(f){return Bn(f,this.buildRequest())}_linkToIdToken(f,g){const b=this.buildRequest();return b.idToken=g,Bn(f,b)}_getReauthenticationResolver(f){const g=this.buildRequest();return g.autoCreate=!1,Bn(f,g)}buildRequest(){const f={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)f.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),f.postBody=(0,k.xO)(g)}return f}}function ip(_,f){return wc.apply(this,arguments)}function wc(){return(wc=(0,u.Z)(function*(_,f){return Wt(_,"POST","/v1/accounts:sendVerificationCode",Jt(_,f))})).apply(this,arguments)}function Ns(){return(Ns=(0,u.Z)(function*(_,f){return xr(_,"POST","/v1/accounts:signInWithPhoneNumber",Jt(_,f))})).apply(this,arguments)}function Dc(){return(Dc=(0,u.Z)(function*(_,f){const g=yield xr(_,"POST","/v1/accounts:signInWithPhoneNumber",Jt(_,f));if(g.temporaryProof)throw rs(_,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const op={USER_NOT_FOUND:"user-not-found"};function Ec(){return(Ec=(0,u.Z)(function*(_,f){return xr(_,"POST","/v1/accounts:signInWithPhoneNumber",Jt(_,Object.assign(Object.assign({},f),{operation:"REAUTH"})),op)})).apply(this,arguments)}class Ro extends an{constructor(f){super("phone","phone"),this.params=f}static _fromVerification(f,g){return new Ro({verificationId:f,verificationCode:g})}static _fromTokenResponse(f,g){return new Ro({phoneNumber:f,temporaryProof:g})}_getIdTokenResponse(f){return function ou(_,f){return Ns.apply(this,arguments)}(f,this._makeVerificationRequest())}_linkToIdToken(f,g){return function sp(_,f){return Dc.apply(this,arguments)}(f,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(f){return function ih(_,f){return Ec.apply(this,arguments)}(f,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:f,phoneNumber:g,verificationId:b,verificationCode:S}=this.params;return f&&g?{temporaryProof:f,phoneNumber:g}:{sessionInfo:b,code:S}}toJSON(){const f={providerId:this.providerId};return this.params.phoneNumber&&(f.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(f.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(f.verificationCode=this.params.verificationCode),this.params.verificationId&&(f.verificationId=this.params.verificationId),f}static fromJSON(f){"string"==typeof f&&(f=JSON.parse(f));const{verificationId:g,verificationCode:b,phoneNumber:S,temporaryProof:O}=f;return b||g||S||O?new Ro({verificationId:g,verificationCode:b,phoneNumber:S,temporaryProof:O}):null}}class oo{constructor(f){var g,b,S,O,W,ie;const Le=(0,k.zd)((0,k.pd)(f)),it=null!==(g=Le.apiKey)&&void 0!==g?g:null,yt=null!==(b=Le.oobCode)&&void 0!==b?b:null,dt=function Fm(_){switch(_){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(S=Le.mode)&&void 0!==S?S:null);ne(it&&yt&&dt,"argument-error"),this.apiKey=it,this.operation=dt,this.code=yt,this.continueUrl=null!==(O=Le.continueUrl)&&void 0!==O?O:null,this.languageCode=null!==(W=Le.languageCode)&&void 0!==W?W:null,this.tenantId=null!==(ie=Le.tenantId)&&void 0!==ie?ie:null}static parseLink(f){const g=function tl(_){const f=(0,k.zd)((0,k.pd)(_)).link,g=f?(0,k.zd)((0,k.pd)(f)).deep_link_id:null,b=(0,k.zd)((0,k.pd)(_)).deep_link_id;return(b?(0,k.zd)((0,k.pd)(b)).link:null)||b||g||f||_}(f);try{return new oo(g)}catch(b){return null}}}let au=(()=>{class _{constructor(){this.providerId=_.PROVIDER_ID}static credential(g,b){return el._fromEmailAndPassword(g,b)}static credentialWithLink(g,b){const S=oo.parseLink(b);return ne(S,"argument-error"),el._fromEmailAndCode(g,S.code,S.tenantId)}}return _.PROVIDER_ID="password",_.EMAIL_PASSWORD_SIGN_IN_METHOD="password",_.EMAIL_LINK_SIGN_IN_METHOD="emailLink",_})();class Ms{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class Hr extends Ms{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}class ko extends Hr{static credentialFromJSON(f){const g="string"==typeof f?JSON.parse(f):f;return ne("providerId"in g&&"signInMethod"in g,"argument-error"),as._fromParams(g)}credential(f){return this._credential(Object.assign(Object.assign({},f),{nonce:f.rawNonce}))}_credential(f){return ne(f.idToken||f.accessToken,"argument-error"),as._fromParams(Object.assign(Object.assign({},f),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(f){return ko.oauthCredentialFromTaggedObject(f)}static credentialFromError(f){return ko.oauthCredentialFromTaggedObject(f.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:g,oauthAccessToken:b,oauthTokenSecret:S,pendingToken:O,nonce:W,providerId:ie}=f;if(!b&&!S&&!g&&!O||!ie)return null;try{return new ko(ie)._credential({idToken:g,accessToken:b,nonce:W,pendingToken:O})}catch(Le){return null}}}let ao=(()=>{class _ extends Hr{constructor(){super("facebook.com")}static credential(g){return as._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return _.credential(g.oauthAccessToken)}catch(b){return null}}}return _.FACEBOOK_SIGN_IN_METHOD="facebook.com",_.PROVIDER_ID="facebook.com",_})(),ha=(()=>{class _ extends Hr{constructor(){super("google.com"),this.addScope("profile")}static credential(g,b){return as._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:b})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:b,oauthAccessToken:S}=g;if(!b&&!S)return null;try{return _.credential(b,S)}catch(O){return null}}}return _.GOOGLE_SIGN_IN_METHOD="google.com",_.PROVIDER_ID="google.com",_})(),Cc=(()=>{class _ extends Hr{constructor(){super("github.com")}static credential(g){return as._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return _.credential(g.oauthAccessToken)}catch(b){return null}}}return _.GITHUB_SIGN_IN_METHOD="github.com",_.PROVIDER_ID="github.com",_})();class zn extends an{constructor(f,g){super(f,f),this.pendingToken=g}_getIdTokenResponse(f){return Bn(f,this.buildRequest())}_linkToIdToken(f,g){const b=this.buildRequest();return b.idToken=g,Bn(f,b)}_getReauthenticationResolver(f){const g=this.buildRequest();return g.autoCreate=!1,Bn(f,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f,{providerId:b,signInMethod:S,pendingToken:O}=g;return b&&S&&O&&b===S?new zn(b,O):null}static _create(f,g){return new zn(f,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class si extends Ms{constructor(f){ne(f.startsWith("saml."),"argument-error"),super(f)}static credentialFromResult(f){return si.samlCredentialFromTaggedObject(f)}static credentialFromError(f){return si.samlCredentialFromTaggedObject(f.customData||{})}static credentialFromJSON(f){const g=zn.fromJSON(f);return ne(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{pendingToken:g,providerId:b}=f;if(!g||!b)return null;try{return zn._create(b,g)}catch(S){return null}}}let nl=(()=>{class _ extends Hr{constructor(){super("twitter.com")}static credential(g,b){return as._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:b})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:b,oauthTokenSecret:S}=g;if(!b||!S)return null;try{return _.credential(b,S)}catch(O){return null}}}return _.TWITTER_SIGN_IN_METHOD="twitter.com",_.PROVIDER_ID="twitter.com",_})();function rl(_,f){return Rr.apply(this,arguments)}function Rr(){return(Rr=(0,u.Z)(function*(_,f){return xr(_,"POST","/v1/accounts:signUp",Jt(_,f))})).apply(this,arguments)}class dr{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,g,b,S=!1){return(0,u.Z)(function*(){const O=yield j._fromIdTokenResponse(f,b,S),W=oh(b);return new dr({user:O,providerId:W,_tokenResponse:b,operationType:g})})()}static _forOperation(f,g,b){return(0,u.Z)(function*(){yield f._updateTokensIfNecessary(b,!0);const S=oh(b);return new dr({user:f,providerId:S,_tokenResponse:b,operationType:g})})()}}function oh(_){return _.providerId?_.providerId:"phoneNumber"in _?"phone":null}function Tc(){return(Tc=(0,u.Z)(function*(_){var f;const g=Oe(_);if(yield g._initializationPromise,null===(f=g.currentUser)||void 0===f?void 0:f.isAnonymous)return new dr({user:g.currentUser,providerId:null,operationType:"signIn"});const b=yield rl(g,{returnSecureToken:!0}),S=yield dr._fromIdTokenResponse(g,"signIn",b,!0);return yield g._updateCurrentUser(S.user),S})).apply(this,arguments)}class sl extends k.ZR{constructor(f,g,b,S){var O;super(g.code,g.message),this.operationType=b,this.user=S,Object.setPrototypeOf(this,sl.prototype),this.customData={appName:f.name,tenantId:null!==(O=f.tenantId)&&void 0!==O?O:void 0,_serverResponse:g.customData._serverResponse,operationType:b}}static _fromErrorAndOperation(f,g,b,S){return new sl(f,g,b,S)}}function ol(_,f,g,b){return("reauthenticate"===f?g._getReauthenticationResolver(_):g._getIdTokenResponse(_)).catch(O=>{throw"auth/multi-factor-auth-required"===O.code?sl._fromErrorAndOperation(_,O,f,b):O})}function ls(_){return new Set(_.map(({providerId:f})=>f).filter(f=>!!f))}function lu(){return(lu=(0,u.Z)(function*(_,f){const g=(0,k.m9)(_);yield Os(!0,g,f);const{providerUserInfo:b}=yield er(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[f]}),S=ls(b||[]);return g.providerData=g.providerData.filter(O=>S.has(O.providerId)),S.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g})).apply(this,arguments)}function yn(_,f){return Po.apply(this,arguments)}function Po(){return(Po=(0,u.Z)(function*(_,f,g=!1){const b=yield ar(_,f._linkToIdToken(_.auth,yield _.getIdToken()),g);return dr._forOperation(_,"link",b)})).apply(this,arguments)}function Os(_,f,g){return un.apply(this,arguments)}function un(){return(un=(0,u.Z)(function*(_,f,g){yield lr(f);const S=!1===_?"provider-already-linked":"no-such-provider";ne(ls(f.providerData).has(g)===_,f.auth,S)})).apply(this,arguments)}function Ic(_,f){return lo.apply(this,arguments)}function lo(){return(lo=(0,u.Z)(function*(_,f,g=!1){const{auth:b}=_,S="reauthenticate";try{const O=yield ar(_,ol(b,S,f,_),g);ne(O.idToken,b,"internal-error");const W=at(O.idToken);ne(W,b,"internal-error");const{sub:ie}=W;return ne(_.uid===ie,b,"user-mismatch"),dr._forOperation(_,S,O)}catch(O){throw"auth/user-not-found"===(null==O?void 0:O.code)&&Te(b,"user-mismatch"),O}})).apply(this,arguments)}function uo(_,f){return Dr.apply(this,arguments)}function Dr(){return(Dr=(0,u.Z)(function*(_,f,g=!1){const b="signIn",S=yield ol(_,b,f),O=yield dr._fromIdTokenResponse(_,b,S);return g||(yield _._updateCurrentUser(O.user)),O})).apply(this,arguments)}function Pn(_,f){return pa.apply(this,arguments)}function pa(){return(pa=(0,u.Z)(function*(_,f){return uo(Oe(_),f)})).apply(this,arguments)}function Di(_,f){return Er.apply(this,arguments)}function Er(){return(Er=(0,u.Z)(function*(_,f){const g=(0,k.m9)(_);return yield Os(!1,g,f.providerId),yn(g,f)})).apply(this,arguments)}function Rs(_,f){return us.apply(this,arguments)}function us(){return(us=(0,u.Z)(function*(_,f){return Ic((0,k.m9)(_),f)})).apply(this,arguments)}function al(_,f){return $r.apply(this,arguments)}function $r(){return($r=(0,u.Z)(function*(_,f){return xr(_,"POST","/v1/accounts:signInWithCustomToken",Jt(_,f))})).apply(this,arguments)}function Ps(){return(Ps=(0,u.Z)(function*(_,f){const g=Oe(_),b=yield al(g,{token:f,returnSecureToken:!0}),S=yield dr._fromIdTokenResponse(g,"signIn",b);return yield g._updateCurrentUser(S.user),S})).apply(this,arguments)}class gt{constructor(f,g){this.factorId=f,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(f,g){return"phoneInfo"in g?ll._fromServerResponse(f,g):Te(f,"internal-error")}}class ll extends gt{constructor(f){super("phone",f),this.phoneNumber=f.phoneInfo}static _fromServerResponse(f,g){return new ll(g)}}function ga(_,f,g){var b;ne((null===(b=g.url)||void 0===b?void 0:b.length)>0,_,"invalid-continue-uri"),ne(void 0===g.dynamicLinkDomain||g.dynamicLinkDomain.length>0,_,"invalid-dynamic-link-domain"),f.continueUrl=g.url,f.dynamicLinkDomain=g.dynamicLinkDomain,f.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(ne(g.iOS.bundleId.length>0,_,"missing-ios-bundle-id"),f.iOSBundleId=g.iOS.bundleId),g.android&&(ne(g.android.packageName.length>0,_,"missing-android-pkg-name"),f.androidInstallApp=g.android.installApp,f.androidMinimumVersionCode=g.android.minimumVersion,f.androidPackageName=g.android.packageName)}function cl(){return(cl=(0,u.Z)(function*(_,f,g){const b=(0,k.m9)(_),S={requestType:"PASSWORD_RESET",email:f};g&&ga(b,S,g),yield Ja(b,S)})).apply(this,arguments)}function uu(){return(uu=(0,u.Z)(function*(_,f,g){yield kn((0,k.m9)(_),{oobCode:f,newPassword:g})})).apply(this,arguments)}function De(){return(De=(0,u.Z)(function*(_,f){yield so((0,k.m9)(_),{oobCode:f})})).apply(this,arguments)}function Lt(_,f){return du.apply(this,arguments)}function du(){return(du=(0,u.Z)(function*(_,f){const g=(0,k.m9)(_),b=yield kn(g,{oobCode:f}),S=b.requestType;switch(ne(S,g,"internal-error"),S){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ne(b.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ne(b.mfaInfo,g,"internal-error");default:ne(b.email,g,"internal-error")}let O=null;return b.mfaInfo&&(O=gt._fromServerResponse(Oe(g),b.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.newEmail:b.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.email:b.newEmail)||null,multiFactorInfo:O},operation:S}})).apply(this,arguments)}function Fo(){return(Fo=(0,u.Z)(function*(_,f){const{data:g}=yield Lt((0,k.m9)(_),f);return g.email})).apply(this,arguments)}function Wr(){return(Wr=(0,u.Z)(function*(_,f,g){const b=Oe(_),S=yield rl(b,{returnSecureToken:!0,email:f,password:g}),O=yield dr._fromIdTokenResponse(b,"signIn",S);return yield b._updateCurrentUser(O.user),O})).apply(this,arguments)}function Sc(){return(Sc=(0,u.Z)(function*(_,f,g){const b=(0,k.m9)(_),S={requestType:"EMAIL_SIGNIN",email:f};ne(g.handleCodeInApp,b,"argument-error"),g&&ga(b,S,g),yield wi(b,S)})).apply(this,arguments)}function Fs(){return(Fs=(0,u.Z)(function*(_,f,g){const b=(0,k.m9)(_),S=au.credentialWithLink(f,g||ke());return ne(S._tenantId===(b.tenantId||null),b,"tenant-id-mismatch"),Pn(b,S)})).apply(this,arguments)}function hr(_,f){return oi.apply(this,arguments)}function oi(){return(oi=(0,u.Z)(function*(_,f){return Wt(_,"POST","/v1/accounts:createAuthUri",Jt(_,f))})).apply(this,arguments)}function Ls(){return(Ls=(0,u.Z)(function*(_,f){const b={identifier:f,continueUri:St()?ke():"http://localhost"},{signinMethods:S}=yield hr((0,k.m9)(_),b);return S||[]})).apply(this,arguments)}function gu(){return(gu=(0,u.Z)(function*(_,f){const g=(0,k.m9)(_),S={requestType:"VERIFY_EMAIL",idToken:yield _.getIdToken()};f&&ga(g.auth,S,f);const{email:O}=yield cr(g.auth,S);O!==_.email&&(yield _.reload())})).apply(this,arguments)}function gl(){return(gl=(0,u.Z)(function*(_,f,g){const b=(0,k.m9)(_),O={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield _.getIdToken(),newEmail:f};g&&ga(b.auth,O,g);const{email:W}=yield vc(b.auth,O);W!==_.email&&(yield _.reload())})).apply(this,arguments)}function mu(_,f){return ma.apply(this,arguments)}function ma(){return(ma=(0,u.Z)(function*(_,f){return Wt(_,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function _u(){return(_u=(0,u.Z)(function*(_,{displayName:f,photoURL:g}){if(void 0===f&&void 0===g)return;const b=(0,k.m9)(_),O={idToken:yield b.getIdToken(),displayName:f,photoUrl:g,returnSecureToken:!0},W=yield ar(b,mu(b.auth,O));b.displayName=W.displayName||null,b.photoURL=W.photoUrl||null;const ie=b.providerData.find(({providerId:Le})=>"password"===Le);ie&&(ie.displayName=b.displayName,ie.photoURL=b.photoURL),yield b._updateTokensIfNecessary(W)})).apply(this,arguments)}function vu(_,f,g){return co.apply(this,arguments)}function co(){return(co=(0,u.Z)(function*(_,f,g){const{auth:b}=_,O={idToken:yield _.getIdToken(),returnSecureToken:!0};f&&(O.email=f),g&&(O.password=g);const W=yield ar(_,Nt(b,O));yield _._updateTokensIfNecessary(W,!0)})).apply(this,arguments)}class ho{constructor(f,g,b={}){this.isNewUser=f,this.providerId=g,this.profile=b}}class Mc extends ho{constructor(f,g,b,S){super(f,g,b),this.username=S}}class xc extends ho{constructor(f,g){super(f,"facebook.com",g)}}class fo extends Mc{constructor(f,g){super(f,"github.com",g,"string"==typeof(null==g?void 0:g.login)?null==g?void 0:g.login:null)}}class Vs extends ho{constructor(f,g){super(f,"google.com",g)}}class bu extends Mc{constructor(f,g,b){super(f,"twitter.com",g,b)}}function Cr(_){const{user:f,_tokenResponse:g}=_;return f.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function Nc(_){var f,g;if(!_)return null;const{providerId:b}=_,S=_.rawUserInfo?JSON.parse(_.rawUserInfo):{},O=_.isNewUser||"identitytoolkit#SignupNewUserResponse"===_.kind;if(!b&&(null==_?void 0:_.idToken)){const W=null===(g=null===(f=at(_.idToken))||void 0===f?void 0:f.firebase)||void 0===g?void 0:g.sign_in_provider;if(W)return new ho(O,"anonymous"!==W&&"custom"!==W?W:null)}if(!b)return null;switch(b){case"facebook.com":return new xc(O,S);case"github.com":return new fo(O,S);case"google.com":return new Vs(O,S);case"twitter.com":return new bu(O,S,_.screenName||null);case"custom":case"anonymous":return new ho(O,null);default:return new ho(O,b,S)}}(g)}class cs{constructor(f,g){this.type=f,this.credential=g}static _fromIdtoken(f){return new cs("enroll",f)}static _fromMfaPendingCredential(f){return new cs("signin",f)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(f){var g,b;if(null==f?void 0:f.multiFactorSession){if(null===(g=f.multiFactorSession)||void 0===g?void 0:g.pendingCredential)return cs._fromMfaPendingCredential(f.multiFactorSession.pendingCredential);if(null===(b=f.multiFactorSession)||void 0===b?void 0:b.idToken)return cs._fromIdtoken(f.multiFactorSession.idToken)}return null}}class ya{constructor(f,g,b){this.session=f,this.hints=g,this.signInResolver=b}static _fromError(f,g){const b=Oe(f),S=g.customData._serverResponse,O=(S.mfaInfo||[]).map(ie=>gt._fromServerResponse(b,ie));ne(S.mfaPendingCredential,b,"internal-error");const W=cs._fromMfaPendingCredential(S.mfaPendingCredential);return new ya(W,O,function(){var ie=(0,u.Z)(function*(Le){const it=yield Le._process(b,W);delete S.mfaInfo,delete S.mfaPendingCredential;const yt=Object.assign(Object.assign({},S),{idToken:it.idToken,refreshToken:it.refreshToken});switch(g.operationType){case"signIn":const dt=yield dr._fromIdTokenResponse(b,g.operationType,yt);return yield b._updateCurrentUser(dt.user),dt;case"reauthenticate":return ne(g.user,b,"internal-error"),dr._forOperation(g.user,g.operationType,yt);default:Te(b,"internal-error")}});return function(Le){return ie.apply(this,arguments)}}())}resolveSignIn(f){var g=this;return(0,u.Z)(function*(){return g.signInResolver(f)})()}}function Un(_,f){return Wt(_,"POST","/v2/accounts/mfaEnrollment:start",Jt(_,f))}class ds{constructor(f){this.user=f,this.enrolledFactors=[],f._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(b=>gt._fromServerResponse(f.auth,b)))})}static _fromUser(f){return new ds(f)}getSession(){var f=this;return(0,u.Z)(function*(){return cs._fromIdtoken(yield f.user.getIdToken())})()}enroll(f,g){var b=this;return(0,u.Z)(function*(){const S=f,O=yield b.getSession(),W=yield ar(b.user,S._process(b.user.auth,O,g));return yield b.user._updateTokensIfNecessary(W),b.user.reload()})()}unenroll(f){var g=this;return(0,u.Z)(function*(){const b="string"==typeof f?f:f.uid,S=yield g.user.getIdToken(),O=yield ar(g.user,function lp(_,f){return Wt(_,"POST","/v2/accounts/mfaEnrollment:withdraw",Jt(_,f))}(g.user.auth,{idToken:S,mfaEnrollmentId:b}));g.enrolledFactors=g.enrolledFactors.filter(({uid:W})=>W!==b),yield g.user._updateTokensIfNecessary(O);try{yield g.user.reload()}catch(W){if("auth/user-token-expired"!==W.code)throw W}})()}}const Vo=new WeakMap,Eu="__sak";class po{constructor(f,g){this.storageRetriever=f,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(Eu,"1"),this.storage.removeItem(Eu),Promise.resolve(!0)):Promise.resolve(!1)}catch(f){return Promise.resolve(!1)}}_set(f,g){return this.storage.setItem(f,JSON.stringify(g)),Promise.resolve()}_get(f){const g=this.storage.getItem(f);return Promise.resolve(g?JSON.parse(g):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}get storage(){return this.storageRetriever()}}const Tr=(()=>{class _ extends po{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,b)=>this.onStorageEvent(g,b),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function kc(){const _=(0,k.z$)();return Qt(_)||nr(_)}()&&function qn(){try{return!(!window||window===window.top)}catch(_){return!1}}(),this.fallbackToPolling=is(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const b of Object.keys(this.listeners)){const S=this.storage.getItem(b),O=this.localCache[b];S!==O&&g(b,O,S)}}onStorageEvent(g,b=!1){if(!g.key)return void this.forAllChangedKeys((ie,Le,it)=>{this.notifyListeners(ie,it)});const S=g.key;if(b?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ie=this.storage.getItem(S);if(g.newValue!==ie)null!==g.newValue?this.storage.setItem(S,g.newValue):this.storage.removeItem(S);else if(this.localCache[S]===g.newValue&&!b)return}const O=()=>{const ie=this.storage.getItem(S);!b&&this.localCache[S]===ie||this.notifyListeners(S,ie)},W=this.storage.getItem(S);!function ua(){return(0,k.w1)()&&10===document.documentMode}()||W===g.newValue||g.newValue===g.oldValue?O():setTimeout(O,10)}notifyListeners(g,b){this.localCache[g]=b;const S=this.listeners[g];if(S)for(const O of Array.from(S))O(b&&JSON.parse(b))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,b,S)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:b,newValue:S}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,b){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(b)}_removeListener(g,b){this.listeners[g]&&(this.listeners[g].delete(b),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,b){var S=()=>super._set,O=this;return(0,u.Z)(function*(){yield S().call(O,g,b),O.localCache[g]=JSON.stringify(b)})()}_get(g){var b=()=>super._get,S=this;return(0,u.Z)(function*(){const O=yield b().call(S,g);return S.localCache[g]=JSON.stringify(O),O})()}_remove(g){var b=()=>super._remove,S=this;return(0,u.Z)(function*(){yield b().call(S,g),delete S.localCache[g]})()}}return _.type="LOCAL",_})(),Cn=(()=>{class _ extends po{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,b){}_removeListener(g,b){}}return _.type="SESSION",_})();let ai=(()=>{class _{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const b=this.receivers.find(O=>O.isListeningto(g));if(b)return b;const S=new _(g);return this.receivers.push(S),S}isListeningto(g){return this.eventTarget===g}handleEvent(g){var b=this;return(0,u.Z)(function*(){const S=g,{eventId:O,eventType:W,data:ie}=S.data,Le=b.handlersMap[W];if(!(null==Le?void 0:Le.size))return;S.ports[0].postMessage({status:"ack",eventId:O,eventType:W});const it=Array.from(Le).map(function(){var dt=(0,u.Z)(function*(In){return In(S.origin,ie)});return function(In){return dt.apply(this,arguments)}}()),yt=yield function Hi(_){return Promise.all(_.map(function(){var f=(0,u.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(b){return{fulfilled:!1,reason:b}}});return function(g){return f.apply(this,arguments)}}()))}(it);S.ports[0].postMessage({status:"done",eventId:O,eventType:W,response:yt})})()}_subscribe(g,b){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(b)}_unsubscribe(g,b){this.handlersMap[g]&&b&&this.handlersMap[g].delete(b),(!b||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return _.receivers=[],_})();function hn(_="",f=10){let g="";for(let b=0;b<f;b++)g+=Math.floor(10*Math.random());return _+g}class mt{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,g,b=50){var S=this;return(0,u.Z)(function*(){const O="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!O)throw new Error("connection_unavailable");let W,ie;return new Promise((Le,it)=>{const yt=hn("",20);O.port1.start();const dt=setTimeout(()=>{it(new Error("unsupported_event"))},b);ie={messageChannel:O,onMessage(In){const gs=In;if(gs.data.eventId===yt)switch(gs.data.status){case"ack":clearTimeout(dt),W=setTimeout(()=>{it(new Error("timeout"))},3e3);break;case"done":clearTimeout(W),Le(gs.data.response);break;default:clearTimeout(dt),clearTimeout(W),it(new Error("invalid_response"))}}},S.handlers.add(ie),O.port1.addEventListener("message",ie.onMessage),S.target.postMessage({eventType:f,eventId:yt,data:g},[O.port2])}).finally(()=>{ie&&S.removeMessageHandler(ie)})})()}}function Et(){return window}function fn(){return void 0!==Et().WorkerGlobalScope&&"function"==typeof Et().importScripts}function rr(){return(rr=(0,u.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(_){return null}})).apply(this,arguments)}const Tu="firebaseLocalStorageDb",Bo="firebaseLocalStorage",Uo="fbase_key";class hs{constructor(f){this.request=f}toPromise(){return new Promise((f,g)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function Fn(_,f){return _.transaction([Bo],f?"readwrite":"readonly").objectStore(Bo)}function go(){const _=indexedDB.open(Tu,1);return new Promise((f,g)=>{_.addEventListener("error",()=>{g(_.error)}),_.addEventListener("upgradeneeded",()=>{const b=_.result;try{b.createObjectStore(Bo,{keyPath:Uo})}catch(S){g(S)}}),_.addEventListener("success",(0,u.Z)(function*(){const b=_.result;b.objectStoreNames.contains(Bo)?f(b):(b.close(),yield function qr(){const _=indexedDB.deleteDatabase(Tu);return new hs(_).toPromise()}(),f(yield go()))}))})}function Su(_,f,g){return mo.apply(this,arguments)}function mo(){return(mo=(0,u.Z)(function*(_,f,g){const b=Fn(_,!0).put({[Uo]:f,value:g});return new hs(b).toPromise()})).apply(this,arguments)}function ba(){return(ba=(0,u.Z)(function*(_,f){const g=Fn(_,!1).get(f),b=yield new hs(g).toPromise();return void 0===b?null:b.value})).apply(this,arguments)}function _o(_,f){const g=Fn(_,!0).delete(f);return new hs(g).toPromise()}const rn=(()=>{class _{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,u.Z)(function*(){return g.db||(g.db=yield go()),g.db})()}_withRetries(g){var b=this;return(0,u.Z)(function*(){let S=0;for(;;)try{const O=yield b._openDb();return yield g(O)}catch(O){if(S++>3)throw O;b.db&&(b.db.close(),b.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,u.Z)(function*(){return fn()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,u.Z)(function*(){g.receiver=ai._getInstance(function Pc(){return fn()?self:null}()),g.receiver._subscribe("keyChanged",function(){var b=(0,u.Z)(function*(S,O){return{keyProcessed:(yield g._poll()).includes(O.key)}});return function(S,O){return b.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var b=(0,u.Z)(function*(S,O){return["keyChanged"]});return function(S,O){return b.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,u.Z)(function*(){var b,S;if(g.activeServiceWorker=yield function _l(){return rr.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new mt(g.activeServiceWorker);const O=yield g.sender._send("ping",{},800);!O||(null===(b=O[0])||void 0===b?void 0:b.fulfilled)&&(null===(S=O[0])||void 0===S?void 0:S.value.includes("keyChanged"))&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var b=this;return(0,u.Z)(function*(){if(b.sender&&b.activeServiceWorker&&function bt(){var _;return(null===(_=null==navigator?void 0:navigator.serviceWorker)||void 0===_?void 0:_.controller)||null}()===b.activeServiceWorker)try{yield b.sender._send("keyChanged",{key:g},b.serviceWorkerReceiverAvailable?800:50)}catch(S){}})()}_isAvailable(){return(0,u.Z)(function*(){try{if(!indexedDB)return!1;const g=yield go();return yield Su(g,Eu,"1"),yield _o(g,Eu),!0}catch(g){}return!1})()}_withPendingWrite(g){var b=this;return(0,u.Z)(function*(){b.pendingWrites++;try{yield g()}finally{b.pendingWrites--}})()}_set(g,b){var S=this;return(0,u.Z)(function*(){return S._withPendingWrite((0,u.Z)(function*(){return yield S._withRetries(O=>Su(O,g,b)),S.localCache[g]=b,S.notifyServiceWorker(g)}))})()}_get(g){var b=this;return(0,u.Z)(function*(){const S=yield b._withRetries(O=>function va(_,f){return ba.apply(this,arguments)}(O,g));return b.localCache[g]=S,S})()}_remove(g){var b=this;return(0,u.Z)(function*(){return b._withPendingWrite((0,u.Z)(function*(){return yield b._withRetries(S=>_o(S,g)),delete b.localCache[g],b.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,u.Z)(function*(){const b=yield g._withRetries(W=>{const ie=Fn(W,!1).getAll();return new hs(ie).toPromise()});if(!b)return[];if(0!==g.pendingWrites)return[];const S=[],O=new Set;for(const{fbase_key:W,value:ie}of b)O.add(W),JSON.stringify(g.localCache[W])!==JSON.stringify(ie)&&(g.notifyListeners(W,ie),S.push(W));for(const W of Object.keys(g.localCache))g.localCache[W]&&!O.has(W)&&(g.notifyListeners(W,null),S.push(W));return S})()}notifyListeners(g,b){this.localCache[g]=b;const S=this.listeners[g];if(S)for(const O of Array.from(S))O(b)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,u.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,b){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(b)}_removeListener(g,b){this.listeners[g]&&(this.listeners[g].delete(b),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return _.type="LOCAL",_})();function Fc(_,f){return Wt(_,"POST","/v2/accounts/mfaSignIn:start",Jt(_,f))}function Wi(){return(Wi=(0,u.Z)(function*(_){return(yield Wt(_,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function jo(_){return new Promise((f,g)=>{const b=document.createElement("script");b.setAttribute("src",_),b.onload=f,b.onerror=S=>{const O=_e("internal-error");O.customData=S,g(O)},b.type="text/javascript",b.charset="UTF-8",function Lc(){var _,f;return null!==(f=null===(_=document.getElementsByTagName("head"))||void 0===_?void 0:_[0])&&void 0!==f?f:document}().appendChild(b)})}function bl(_){return`__${_}${Math.floor(1e6*Math.random())}`}const fr=1e12;class Vc{constructor(f){this.auth=f,this.counter=fr,this._widgets=new Map}render(f,g){const b=this.counter;return this._widgets.set(b,new Au(f,this.auth.name,g||{})),this.counter++,b}reset(f){var g;const b=f||fr;null===(g=this._widgets.get(b))||void 0===g||g.delete(),this._widgets.delete(b)}getResponse(f){var g;return(null===(g=this._widgets.get(f||fr))||void 0===g?void 0:g.getResponse())||""}execute(f){var g=this;return(0,u.Z)(function*(){var b;return null===(b=g._widgets.get(f||fr))||void 0===b||b.execute(),""})()}}class Au{constructor(f,g,b){this.params=b,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const S="string"==typeof f?document.getElementById(f):f;ne(S,"argument-error",{appName:g}),this.container=S,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Us(_){const f=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let b=0;b<_;b++)f.push(g.charAt(Math.floor(Math.random()*g.length)));return f.join("")}(50);const{callback:f,"expired-callback":g}=this.params;if(f)try{f(this.responseToken)}catch(b){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch(b){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const wl=bl("rcb"),uh=new $t(3e4,6e4);class ch{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Et().grecaptcha}load(f,g=""){return ne(function y0(_){return _.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(_)}(g),f,"argument-error"),this.shouldResolveImmediately(g)?Promise.resolve(Et().grecaptcha):new Promise((b,S)=>{const O=Et().setTimeout(()=>{S(_e(f,"network-request-failed"))},uh.get());Et()[wl]=()=>{Et().clearTimeout(O),delete Et()[wl];const ie=Et().grecaptcha;if(!ie)return void S(_e(f,"internal-error"));const Le=ie.render;ie.render=(it,yt)=>{const dt=Le(it,yt);return this.counter++,dt},this.hostLanguage=g,b(ie)},jo(`https://www.google.com/recaptcha/api.js??${(0,k.xO)({onload:wl,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(O),S(_e(f,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(f){return!!Et().grecaptcha&&(f===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Nu{load(f){return(0,u.Z)(function*(){return new Vc(f)})()}clearedOneInstance(){}}const Da="recaptcha",dh={theme:"light",type:"image"};class Dl{constructor(f,g=Object.assign({},dh),b){this.parameters=g,this.type=Da,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Oe(b),this.isInvisible="invisible"===this.parameters.size,ne("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const S="string"==typeof f?document.getElementById(f):f;ne(S,this.auth,"argument-error"),this.container=S,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Nu:new ch,this.validateStartingState()}verify(){var f=this;return(0,u.Z)(function*(){f.assertNotDestroyed();const g=yield f.render(),b=f.getAssertedRecaptcha();return b.getResponse(g)||new Promise(O=>{const W=ie=>{!ie||(f.tokenChangeListeners.delete(W),O(ie))};f.tokenChangeListeners.add(W),f.isInvisible&&b.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(f){return Promise.reject(f)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(f=>{throw this.renderPromise=null,f})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(f=>{this.container.removeChild(f)})}validateStartingState(){ne(!this.parameters.sitekey,this.auth,"argument-error"),ne(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ne("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(f){return g=>{if(this.tokenChangeListeners.forEach(b=>b(g)),"function"==typeof f)f(g);else if("string"==typeof f){const b=Et()[f];"function"==typeof b&&b(g)}}}assertNotDestroyed(){ne(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var f=this;return(0,u.Z)(function*(){if(yield f.init(),!f.widgetId){let g=f.container;if(!f.isInvisible){const b=document.createElement("div");g.appendChild(b),g=b}f.widgetId=f.getAssertedRecaptcha().render(g,f.parameters)}return f.widgetId})()}init(){var f=this;return(0,u.Z)(function*(){ne(St()&&!fn(),f.auth,"internal-error"),yield function dp(){let _=null;return new Promise(f=>{"complete"!==document.readyState?(_=()=>f(),window.addEventListener("load",_)):f()}).catch(f=>{throw _&&window.removeEventListener("load",_),f})}(),f.recaptcha=yield f._recaptchaLoader.load(f.auth,f.auth.languageCode||void 0);const g=yield function jn(_){return Wi.apply(this,arguments)}(f.auth);ne(g,f.auth,"internal-error"),f.parameters.sitekey=g})()}getAssertedRecaptcha(){return ne(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Tn{constructor(f,g){this.verificationId=f,this.onConfirmation=g}confirm(f){const g=Ro._fromVerification(this.verificationId,f);return this.onConfirmation(g)}}function Ut(){return(Ut=(0,u.Z)(function*(_,f,g){const b=Oe(_),S=yield nn(b,f,(0,k.m9)(g));return new Tn(S,O=>Pn(b,O))})).apply(this,arguments)}function li(){return(li=(0,u.Z)(function*(_,f,g){const b=(0,k.m9)(_);yield Os(!1,b,"phone");const S=yield nn(b.auth,f,(0,k.m9)(g));return new Tn(S,O=>Di(b,O))})).apply(this,arguments)}function xu(){return(xu=(0,u.Z)(function*(_,f,g){const b=(0,k.m9)(_),S=yield nn(b.auth,f,(0,k.m9)(g));return new Tn(S,O=>Rs(b,O))})).apply(this,arguments)}function nn(_,f,g){return _n.apply(this,arguments)}function _n(){return(_n=(0,u.Z)(function*(_,f,g){var b;const S=yield g.verify();try{let O;if(ne("string"==typeof S,_,"argument-error"),ne(g.type===Da,_,"argument-error"),O="string"==typeof f?{phoneNumber:f}:f,"session"in O){const W=O.session;if("phoneNumber"in O)return ne("enroll"===W.type,_,"internal-error"),(yield Un(_,{idToken:W.credential,phoneEnrollmentInfo:{phoneNumber:O.phoneNumber,recaptchaToken:S}})).phoneSessionInfo.sessionInfo;{ne("signin"===W.type,_,"internal-error");const ie=(null===(b=O.multiFactorHint)||void 0===b?void 0:b.uid)||O.multiFactorUid;return ne(ie,_,"missing-multi-factor-info"),(yield Fc(_,{mfaPendingCredential:W.credential,mfaEnrollmentId:ie,phoneSignInInfo:{recaptchaToken:S}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:W}=yield ip(_,{phoneNumber:O.phoneNumber,recaptchaToken:S});return W}}finally{g._reset()}})).apply(this,arguments)}function js(){return(js=(0,u.Z)(function*(_,f){yield yn((0,k.m9)(_),f)})).apply(this,arguments)}let Ci=(()=>{class _{constructor(g){this.providerId=_.PROVIDER_ID,this.auth=Oe(g)}verifyPhoneNumber(g,b){return nn(this.auth,g,(0,k.m9)(b))}static credential(g,b){return Ro._fromVerification(g,b)}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:b,temporaryProof:S}=g;return b&&S?Ro._fromTokenResponse(b,S):null}}return _.PROVIDER_ID="phone",_.PHONE_SIGN_IN_METHOD="phone",_})();function Ti(_,f){return f?te(f):(ne(_._popupRedirectResolver,_,"argument-error"),_._popupRedirectResolver)}class Ea extends an{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return Bn(f,this._buildIdpRequest())}_linkToIdToken(f,g){return Bn(f,this._buildIdpRequest(g))}_getReauthenticationResolver(f){return Bn(f,this._buildIdpRequest())}_buildIdpRequest(f){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(g.idToken=f),g}}function Ou(_){return uo(_.auth,new Ea(_),_.bypassAuthState)}function Bc(_){const{auth:f,user:g}=_;return ne(g,f,"internal-error"),Ic(g,new Ea(_),_.bypassAuthState)}function Ru(_){return ps.apply(this,arguments)}function ps(){return(ps=(0,u.Z)(function*(_){const{auth:f,user:g}=_;return ne(g,f,"internal-error"),yn(g,new Ea(_),_.bypassAuthState)})).apply(this,arguments)}class wn{constructor(f,g,b,S,O=!1){this.auth=f,this.resolver=b,this.user=S,this.bypassAuthState=O,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var f=this;return new Promise(function(){var g=(0,u.Z)(function*(b,S){f.pendingPromise={resolve:b,reject:S};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(O){f.reject(O)}});return function(b,S){return g.apply(this,arguments)}}())}onAuthEvent(f){var g=this;return(0,u.Z)(function*(){const{urlResponse:b,sessionId:S,postBody:O,tenantId:W,error:ie,type:Le}=f;if(ie)return void g.reject(ie);const it={auth:g.auth,requestUri:b,sessionId:S,tenantId:W||void 0,postBody:O||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(Le)(it))}catch(yt){g.reject(yt)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return Ou;case"linkViaPopup":case"linkViaRedirect":return Ru;case"reauthViaPopup":case"reauthViaRedirect":return Bc;default:Te(this.auth,"internal-error")}}resolve(f){Q(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){Q(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Uc=new $t(2e3,1e4);function jc(){return(jc=(0,u.Z)(function*(_,f,g){const b=Oe(_);je(_,f,Ms);const S=Ti(b,g);return new zi(b,"signInViaPopup",f,S).executeNotNull()})).apply(this,arguments)}function Cl(){return(Cl=(0,u.Z)(function*(_,f,g){const b=(0,k.m9)(_);je(b.auth,f,Ms);const S=Ti(b.auth,g);return new zi(b.auth,"reauthViaPopup",f,S,b).executeNotNull()})).apply(this,arguments)}function qi(){return(qi=(0,u.Z)(function*(_,f,g){const b=(0,k.m9)(_);je(b.auth,f,Ms);const S=Ti(b.auth,g);return new zi(b.auth,"linkViaPopup",f,S,b).executeNotNull()})).apply(this,arguments)}let zi=(()=>{class _ extends wn{constructor(g,b,S,O,W){super(g,b,O,W),this.provider=S,this.authWindow=null,this.pollId=null,_.currentPopupAction&&_.currentPopupAction.cancel(),_.currentPopupAction=this}executeNotNull(){var g=this;return(0,u.Z)(function*(){const b=yield g.execute();return ne(b,g.auth,"internal-error"),b})()}onExecution(){var g=this;return(0,u.Z)(function*(){Q(1===g.filter.length,"Popup operations only handle one event");const b=hn();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],b),g.authWindow.associatedEvent=b,g.resolver._originValidation(g.auth).catch(S=>{g.reject(S)}),g.resolver._isIframeWebStorageSupported(g.auth,S=>{S||g.reject(_e(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(_e(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_.currentPopupAction=null}pollUserCancellation(){const g=()=>{var b,S;this.pollId=(null===(S=null===(b=this.authWindow)||void 0===b?void 0:b.window)||void 0===S?void 0:S.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(_e(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(g,Uc.get())};g()}}return _.currentPopupAction=null,_})();const Yn=new Map;class Gc extends wn{constructor(f,g,b=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,b),this.eventId=null}execute(){var f=()=>super.execute,g=this;return(0,u.Z)(function*(){let b=Yn.get(g.auth._key());if(!b){try{const O=(yield function gr(_,f){return Tl.apply(this,arguments)}(g.resolver,g.auth))?yield f().call(g):null;b=()=>Promise.resolve(O)}catch(S){b=()=>Promise.reject(S)}Yn.set(g.auth._key(),b)}return g.bypassAuthState||Yn.set(g.auth._key(),()=>Promise.resolve(null)),b()})()}onAuthEvent(f){var g=()=>super.onAuthEvent,b=this;return(0,u.Z)(function*(){if("signInViaRedirect"===f.type)return g().call(b,f);if("unknown"!==f.type){if(f.eventId){const S=yield b.auth._redirectUserForId(f.eventId);if(S)return b.user=S,g().call(b,f);b.resolve(null)}}else b.resolve(null)})()}onExecution(){return(0,u.Z)(function*(){})()}cleanUp(){}}function Tl(){return(Tl=(0,u.Z)(function*(_,f){const g=T(f),b=C(_);if(!(yield b._isAvailable()))return!1;const S="true"===(yield b._get(g));return yield b._remove(g),S})).apply(this,arguments)}function Gs(_,f){return Ho.apply(this,arguments)}function Ho(){return(Ho=(0,u.Z)(function*(_,f){return C(_)._set(T(f),"true")})).apply(this,arguments)}function C(_){return te(_._redirectPersistence)}function T(_){return ue("pendingRedirect",_.config.apiKey,_.name)}function q(){return(q=(0,u.Z)(function*(_,f,g){const b=Oe(_);je(_,f,Ms);const S=Ti(b,g);return yield Gs(S,b),S._openRedirect(b,f,"signInViaRedirect")})).apply(this,arguments)}function Je(){return(Je=(0,u.Z)(function*(_,f,g){const b=(0,k.m9)(_);je(b.auth,f,Ms);const S=Ti(b.auth,g);yield Gs(S,b.auth);const O=yield Ta(b);return S._openRedirect(b.auth,f,"reauthViaRedirect",O)})).apply(this,arguments)}function Ht(){return(Ht=(0,u.Z)(function*(_,f,g){const b=(0,k.m9)(_);je(b.auth,f,Ms);const S=Ti(b.auth,g);yield Os(!1,b,f.providerId),yield Gs(S,b.auth);const O=yield Ta(b);return S._openRedirect(b.auth,f,"linkViaRedirect",O)})).apply(this,arguments)}function Ln(){return(Ln=(0,u.Z)(function*(_,f){return yield Oe(_)._initializationPromise,On(_,f,!1)})).apply(this,arguments)}function On(_,f){return Hs.apply(this,arguments)}function Hs(){return(Hs=(0,u.Z)(function*(_,f,g=!1){const b=Oe(_),S=Ti(b,f),W=yield new Gc(b,S,g).execute();return W&&!g&&(delete W.user._redirectEventId,yield b._persistUserIfCurrent(W.user),yield b._setRedirectUser(null,f)),W})).apply(this,arguments)}function Ta(_){return Ii.apply(this,arguments)}function Ii(){return(Ii=(0,u.Z)(function*(_){const f=hn(`${_.uid}:::`);return _._redirectEventId=f,yield _.auth._setRedirectUser(_),yield _.auth._persistUserIfCurrent(_),f})).apply(this,arguments)}class Zi{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let g=!1;return this.consumers.forEach(b=>{this.isEventForConsumer(f,b)&&(g=!0,this.sendToConsumer(f,b),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function fh(_){switch(_.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return hh(_);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=f,g=!0)),g}sendToConsumer(f,g){var b;if(f.error&&!hh(f)){const S=(null===(b=f.error.code)||void 0===b?void 0:b.split("auth/")[1])||"internal-error";g.onError(_e(this.auth,S))}else g.onAuthEvent(f)}isEventForConsumer(f,g){const b=null===g.eventId||!!f.eventId&&f.eventId===g.eventId;return g.filter.includes(f.type)&&b}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ki(f))}saveEventToCache(f){this.cachedEventUids.add(Ki(f)),this.lastProcessedEventTime=Date.now()}}function Ki(_){return[_.type,_.eventId,_.sessionId,_.tenantId].filter(f=>f).join("-")}function hh({type:_,error:f}){return"unknown"===_&&"auth/no-auth-event"===(null==f?void 0:f.code)}function ku(_){return Si.apply(this,arguments)}function Si(){return(Si=(0,u.Z)(function*(_,f={}){return Wt(_,"GET","/v1/projects",f)})).apply(this,arguments)}const kr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,hp=/^https?/;function Ia(){return(Ia=(0,u.Z)(function*(_){if(_.config.emulator)return;const{authorizedDomains:f}=yield ku(_);for(const g of f)try{if(Sa(g))return}catch(b){}Te(_,"unauthorized-domain")})).apply(this,arguments)}function Sa(_){const f=ke(),{protocol:g,hostname:b}=new URL(f);if(_.startsWith("chrome-extension://")){const W=new URL(_);return""===W.hostname&&""===b?"chrome-extension:"===g&&_.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===g&&W.hostname===b}if(!hp.test(g))return!1;if(kr.test(_))return b===_;const S=_.replace(/\./g,"\\.");return new RegExp("^(.+\\."+S+"|"+S+")$","i").test(b)}const ph=new $t(3e4,6e4);function gh(){const _=Et().___jsl;if(null==_?void 0:_.H)for(const f of Object.keys(_.H))if(_.H[f].r=_.H[f].r||[],_.H[f].L=_.H[f].L||[],_.H[f].r=[..._.H[f].L],_.CP)for(let g=0;g<_.CP.length;g++)_.CP[g]=null}let Hc=null;function fp(_){return Hc=Hc||function Pu(_){return new Promise((f,g)=>{var b,S,O;function W(){gh(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{gh(),g(_e(_,"network-request-failed"))},timeout:ph.get()})}if(null===(S=null===(b=Et().gapi)||void 0===b?void 0:b.iframes)||void 0===S?void 0:S.Iframe)f(gapi.iframes.getContext());else{if(!(null===(O=Et().gapi)||void 0===O?void 0:O.load)){const ie=bl("iframefcb");return Et()[ie]=()=>{gapi.load?W():g(_e(_,"network-request-failed"))},jo(`https://apis.google.com/js/api.js?onload=${ie}`).catch(Le=>g(Le))}W()}}).catch(f=>{throw Hc=null,f})}(_),Hc}const Vm=new $t(5e3,15e3),mh={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},pp=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Fu(_){const f=_.config;ne(f.authDomain,_,"auth-domain-config-required");const g=f.emulator?Xn(f,"emulator/auth/iframe"):`https://${_.config.authDomain}/__/auth/iframe`,b={apiKey:f.apiKey,appName:_.name,v:oe.SDK_VERSION},S=pp.get(_.config.apiHost);S&&(b.eid=S);const O=_._getFrameworks();return O.length&&(b.fw=O.join(",")),`${g}?${(0,k.xO)(b).slice(1)}`}function _h(){return _h=(0,u.Z)(function*(_){const f=yield fp(_),g=Et().gapi;return ne(g,_,"internal-error"),f.open({where:document.body,url:Fu(_),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:mh,dontclear:!0},b=>new Promise(function(){var S=(0,u.Z)(function*(O,W){yield b.restyle({setHideOnLeave:!1});const ie=_e(_,"network-request-failed"),Le=Et().setTimeout(()=>{W(ie)},Vm.get());function it(){Et().clearTimeout(Le),O(b)}b.ping(it).then(it,()=>{W(ie)})});return function(O,W){return S.apply(this,arguments)}}()))}),_h.apply(this,arguments)}const Bm={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Aa{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(f){}}}function Sl(_,f,g,b,S,O){ne(_.config.authDomain,_,"auth-domain-config-required"),ne(_.config.apiKey,_,"invalid-api-key");const W={apiKey:_.config.apiKey,appName:_.name,authType:g,redirectUrl:b,v:oe.SDK_VERSION,eventId:S};if(f instanceof Ms){f.setDefaultLanguage(_.languageCode),W.providerId=f.providerId||"",(0,k.xb)(f.getCustomParameters())||(W.customParameters=JSON.stringify(f.getCustomParameters()));for(const[Le,it]of Object.entries(O||{}))W[Le]=it}if(f instanceof Hr){const Le=f.getScopes().filter(it=>""!==it);Le.length>0&&(W.scopes=Le.join(","))}_.tenantId&&(W.tid=_.tenantId);const ie=W;for(const Le of Object.keys(ie))void 0===ie[Le]&&delete ie[Le];return`${function jm({config:_}){return _.emulator?Xn(_,"emulator/auth/handler"):`https://${_.authDomain}/__/auth/handler`}(_)}?${(0,k.xO)(ie).slice(1)}`}const $s="webStorageSupport";class _p extends class Gm{constructor(f){this.factorId=f}_process(f,g,b){switch(g.type){case"enroll":return this._finalizeEnroll(f,g.credential,b);case"signin":return this._finalizeSignIn(f,g.credential);default:return ze("unexpected MultiFactorSessionType")}}}{constructor(f){super("phone"),this.credential=f}static _fromCredential(f){return new _p(f)}_finalizeEnroll(f,g,b){return function Oc(_,f){return Wt(_,"POST","/v2/accounts/mfaEnrollment:finalize",Jt(_,f))}(f,{idToken:g,displayName:b,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(f,g){return function vl(_,f){return Wt(_,"POST","/v2/accounts/mfaSignIn:finalize",Jt(_,f))}(f,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let z1=(()=>{class _{constructor(){}static assertion(g){return _p._fromCredential(g)}}return _.FACTOR_ID="phone",_})();var Hm="@firebase/auth",yp="0.19.12";class $m{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var g=this;return(0,u.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const g=this.auth.onIdTokenChanged(b=>{var S;f((null===(S=b)||void 0===S?void 0:S.stsTokenManager.accessToken)||null)});this.internalListeners.set(f,g),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const g=this.internalListeners.get(f);!g||(this.internalListeners.delete(f),g(),this.updateProactiveRefresh())}assertAuthConfigured(){ne(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function bo(){return window}function $o(){return($o=(0,u.Z)(function*(_,f,g){var b;const{BuildInfo:S}=bo();Q(f.sessionId,"AuthEvent did not contain a session ID");const O=yield zm(f.sessionId),W={};return nr()?W.ibi=S.packageName:An()?W.apn=S.packageName:Te(_,"operation-not-supported-in-this-environment"),S.displayName&&(W.appDisplayName=S.displayName),W.sessionId=O,Sl(_,g,f.type,void 0,null!==(b=f.eventId)&&void 0!==b?b:void 0,W)})).apply(this,arguments)}function zr(){return(zr=(0,u.Z)(function*(_){const{BuildInfo:f}=bo(),g={};nr()?g.iosBundleId=f.packageName:An()?g.androidPackageName=f.packageName:Te(_,"operation-not-supported-in-this-environment"),yield ku(_,g)})).apply(this,arguments)}function qc(){return(qc=(0,u.Z)(function*(_,f,g){const{cordova:b}=bo();let S=()=>{};try{yield new Promise((O,W)=>{let ie=null;function Le(){var dt;O();const In=null===(dt=b.plugins.browsertab)||void 0===dt?void 0:dt.close;"function"==typeof In&&In(),"function"==typeof(null==g?void 0:g.close)&&g.close()}function it(){ie||(ie=window.setTimeout(()=>{W(_e(_,"redirect-cancelled-by-user"))},2e3))}function yt(){"visible"===(null==document?void 0:document.visibilityState)&&it()}f.addPassiveListener(Le),document.addEventListener("resume",it,!1),An()&&document.addEventListener("visibilitychange",yt,!1),S=()=>{f.removePassiveListener(Le),document.removeEventListener("resume",it,!1),document.removeEventListener("visibilitychange",yt,!1),ie&&window.clearTimeout(ie)}})}finally{S()}})).apply(this,arguments)}function zm(_){return Zc.apply(this,arguments)}function Zc(){return(Zc=(0,u.Z)(function*(_){const f=Zm(_),g=yield crypto.subtle.digest("SHA-256",f);return Array.from(new Uint8Array(g)).map(S=>S.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Zm(_){if(Q(/[0-9a-zA-Z]+/.test(_),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(_);const f=new ArrayBuffer(_.length),g=new Uint8Array(f);for(let b=0;b<_.length;b++)g[b]=_.charCodeAt(b);return g}!function Wm(_){(0,oe._registerComponent)(new re.wA("auth",(f,{options:g})=>{const b=f.getProvider("app").getImmediate(),S=f.getProvider("heartbeat"),{apiKey:O,authDomain:W}=b.options;return((ie,Le)=>{ne(O&&!O.includes(":"),"invalid-api-key",{appName:ie.name}),ne(!(null==W?void 0:W.includes(":")),"argument-error",{appName:ie.name});const it={apiKey:O,authDomain:W,clientPlatform:_,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ca(_)},yt=new ri(ie,Le,it);return function ge(_,f){const g=(null==f?void 0:f.persistence)||[],b=(Array.isArray(g)?g:[g]).map(te);(null==f?void 0:f.errorMap)&&_._updateErrorMap(f.errorMap),_._initializeWithPersistence(b,null==f?void 0:f.popupRedirectResolver)}(yt,g),yt})(b,S)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,g,b)=>{f.getProvider("auth-internal").initialize()})),(0,oe._registerComponent)(new re.wA("auth-internal",f=>{const g=Oe(f.getProvider("auth").getImmediate());return new $m(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,oe.registerVersion)(Hm,yp,function bh(_){switch(_){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(_)),(0,oe.registerVersion)(Hm,yp,"esm2017")}("Browser");class Bu extends Zi{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(f=>{this.resolveInialized=f})}addPassiveListener(f){this.passiveListeners.add(f)}removePassiveListener(f){this.passiveListeners.delete(f)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(f){return this.resolveInialized(),this.passiveListeners.forEach(g=>g(f)),super.onEvent(f)}initialized(){var f=this;return(0,u.Z)(function*(){yield f.initPromise})()}}function bp(_){return Uu.apply(this,arguments)}function Uu(){return(Uu=(0,u.Z)(function*(_){const f=yield Rl()._get(kl(_));return f&&(yield Rl()._remove(kl(_))),f})).apply(this,arguments)}function wh(){const _=[],f="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let g=0;g<20;g++){const b=Math.floor(Math.random()*f.length);_.push(f.charAt(b))}return _.join("")}function Rl(){return te(Tr)}function kl(_){return ue("authEvent",_.config.apiKey,_.name)}function Wo(_){if(!(null==_?void 0:_.includes("?")))return{};const[f,...g]=_.split("?");return(0,k.zd)(g.join("?"))}function Ym(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:_e("no-auth-event")}}function Yc(){var _;return(null===(_=null==self?void 0:self.location)||void 0===_?void 0:_.protocol)||null}function Jc(_=(0,k.z$)()){return!("file:"!==Yc()&&"ionic:"!==Yc()||!_.toLowerCase().match(/iphone|ipad|ipod|android/))}function Zr(){try{const _=self.localStorage,f=hn();if(_)return _.setItem(f,"1"),_.removeItem(f),!function ju(_=(0,k.z$)()){return function T0(){return(0,k.w1)()&&11===(null==document?void 0:document.documentMode)}()||function Jm(_=(0,k.z$)()){return/Edge\/\d+/.test(_)}(_)}()||(0,k.hl)()}catch(_){return Fl()&&(0,k.hl)()}return!1}function Fl(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Qc(){return(function Ip(){return"http:"===Yc()||"https:"===Yc()}()||(0,k.ru)()||Jc())&&!function Eh(){return(0,k.b$)()||(0,k.UG)()}()&&Zr()&&!Fl()}function Xc(){return Jc()&&"undefined"!=typeof document}function qo(){return(qo=(0,u.Z)(function*(){return!!Xc()&&new Promise(_=>{const f=setTimeout(()=>{_(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(f),_(!0)})})})).apply(this,arguments)}const Ai={LOCAL:"local",NONE:"none",SESSION:"session"},Ll=ne,Ch="persistence";function td(_){return Hu.apply(this,arguments)}function Hu(){return(Hu=(0,u.Z)(function*(_){yield _._initializationPromise;const f=$u(),g=ue(Ch,_.config.apiKey,_.name);f&&f.setItem(g,_._getPersistence())})).apply(this,arguments)}function $u(){var _;try{return(null===(_=function Gu(){return"undefined"!=typeof window?window:null}())||void 0===_?void 0:_.sessionStorage)||null}catch(f){return null}}const Ap=ne;class qs{constructor(){this.browserResolver=te(class Al{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Cn,this._completeRedirectFn=On}_openPopup(f,g,b,S){var O=this;return(0,u.Z)(function*(){var W;Q(null===(W=O.eventManagers[f._key()])||void 0===W?void 0:W.manager,"_initialize() not called before _openPopup()");const ie=Sl(f,g,b,ke(),S);return function Vu(_,f,g,b=500,S=600){const O=Math.max((window.screen.availHeight-S)/2,0).toString(),W=Math.max((window.screen.availWidth-b)/2,0).toString();let ie="";const Le=Object.assign(Object.assign({},Bm),{width:b.toString(),height:S.toString(),top:O,left:W}),it=(0,k.z$)().toLowerCase();g&&(ie=wr(it)?"_blank":g),vt(it)&&(f=f||"http://localhost",Le.scrollbars="yes");const yt=Object.entries(Le).reduce((In,[gs,ad])=>`${In}${gs}=${ad},`,"");if(function Ya(_=(0,k.z$)()){var f;return nr(_)&&!!(null===(f=window.navigator)||void 0===f?void 0:f.standalone)}(it)&&"_self"!==ie)return function Wc(_,f){const g=document.createElement("a");g.href=_,g.target=f;const b=document.createEvent("MouseEvent");b.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(b)}(f||"",ie),new Aa(null);const dt=window.open(f||"",ie,yt);ne(dt,_,"popup-blocked");try{dt.focus()}catch(In){}return new Aa(dt)}(f,ie,hn())})()}_openRedirect(f,g,b,S){var O=this;return(0,u.Z)(function*(){return yield O._originValidation(f),function $i(_){Et().location.href=_}(Sl(f,g,b,ke(),S)),new Promise(()=>{})})()}_initialize(f){const g=f._key();if(this.eventManagers[g]){const{manager:S,promise:O}=this.eventManagers[g];return S?Promise.resolve(S):(Q(O,"If manager is not set, promise should be"),O)}const b=this.initAndGetManager(f);return this.eventManagers[g]={promise:b},b.catch(()=>{delete this.eventManagers[g]}),b}initAndGetManager(f){var g=this;return(0,u.Z)(function*(){const b=yield function D0(_){return _h.apply(this,arguments)}(f),S=new Zi(f);return b.register("authEvent",O=>(ne(null==O?void 0:O.authEvent,f,"invalid-auth-event"),{status:S.onEvent(O.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[f._key()]={manager:S},g.iframes[f._key()]=b,S})()}_isIframeWebStorageSupported(f,g){this.iframes[f._key()].send($s,{type:$s},S=>{var O;const W=null===(O=null==S?void 0:S[0])||void 0===O?void 0:O[$s];void 0!==W&&g(!!W),Te(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const g=f._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function v0(_){return Ia.apply(this,arguments)}(f)),this.originValidationPromises[g]}get _shouldInitProactively(){return is()||Qt()||nr()}}),this.cordovaResolver=te(class Dp{constructor(){this._redirectPersistence=Cn,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=On}_initialize(f){var g=this;return(0,u.Z)(function*(){const b=f._key();let S=g.eventManagers.get(b);return S||(S=new Bu(f),g.eventManagers.set(b,S),g.attachCallbackListeners(f,S)),S})()}_openPopup(f){Te(f,"operation-not-supported-in-this-environment")}_openRedirect(f,g,b,S){var O=this;return(0,u.Z)(function*(){!function zc(_){var f,g,b,S,O,W,ie,Le,it,yt;const dt=bo();ne("function"==typeof(null===(f=null==dt?void 0:dt.universalLinks)||void 0===f?void 0:f.subscribe),_,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),ne(void 0!==(null===(g=null==dt?void 0:dt.BuildInfo)||void 0===g?void 0:g.packageName),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),ne("function"==typeof(null===(O=null===(S=null===(b=null==dt?void 0:dt.cordova)||void 0===b?void 0:b.plugins)||void 0===S?void 0:S.browsertab)||void 0===O?void 0:O.openUrl),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ne("function"==typeof(null===(Le=null===(ie=null===(W=null==dt?void 0:dt.cordova)||void 0===W?void 0:W.plugins)||void 0===ie?void 0:ie.browsertab)||void 0===Le?void 0:Le.isAvailable),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ne("function"==typeof(null===(yt=null===(it=null==dt?void 0:dt.cordova)||void 0===it?void 0:it.InAppBrowser)||void 0===yt?void 0:yt.open),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(f);const W=yield O._initialize(f);yield W.initialized(),W.resetRedirect(),function Il(){Yn.clear()}(),yield O._originValidation(f);const ie=function Ol(_,f,g=null){return{type:f,eventId:g,urlResponse:null,sessionId:wh(),postBody:null,tenantId:_.tenantId,error:_e(_,"no-auth-event")}}(f,b,S);yield function Km(_,f){return Rl()._set(kl(_),f)}(f,ie);const Le=yield function E0(_,f,g){return $o.apply(this,arguments)}(f,ie,g),it=yield function Ws(_){const{cordova:f}=bo();return new Promise(g=>{f.plugins.browsertab.isAvailable(b=>{let S=null;b?f.plugins.browsertab.openUrl(_):S=f.InAppBrowser.open(_,function io(_=(0,k.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(_)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(_)}()?"_blank":"_system","location=yes"),g(S)})})}(Le);return function Ml(_,f,g){return qc.apply(this,arguments)}(f,W,it)})()}_isIframeWebStorageSupported(f,g){throw new Error("Method not implemented.")}_originValidation(f){const g=f._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function Nl(_){return zr.apply(this,arguments)}(f)),this.originValidationPromises[g]}attachCallbackListeners(f,g){const{universalLinks:b,handleOpenURL:S,BuildInfo:O}=bo(),W=setTimeout((0,u.Z)(function*(){yield bp(f),g.onEvent(Ym())}),500),ie=function(){var yt=(0,u.Z)(function*(dt){clearTimeout(W);const In=yield bp(f);let gs=null;In&&(null==dt?void 0:dt.url)&&(gs=function wp(_,f){var g,b;const S=function Kc(_){const f=Wo(_),g=f.link?decodeURIComponent(f.link):void 0,b=Wo(g).link,S=f.deep_link_id?decodeURIComponent(f.deep_link_id):void 0;return Wo(S).link||S||b||g||_}(f);if(S.includes("/__/auth/callback")){const O=Wo(S),W=O.firebaseError?function Dh(_){try{return JSON.parse(_)}catch(f){return null}}(decodeURIComponent(O.firebaseError)):null,ie=null===(b=null===(g=null==W?void 0:W.code)||void 0===g?void 0:g.split("auth/"))||void 0===b?void 0:b[1],Le=ie?_e(ie):null;return Le?{type:_.type,eventId:_.eventId,tenantId:_.tenantId,error:Le,urlResponse:null,sessionId:null,postBody:null}:{type:_.type,eventId:_.eventId,tenantId:_.tenantId,sessionId:_.sessionId,urlResponse:S,postBody:null}}return null}(In,dt.url)),g.onEvent(gs||Ym())});return function(In){return yt.apply(this,arguments)}}();void 0!==b&&"function"==typeof b.subscribe&&b.subscribe(null,ie);const Le=S,it=`${O.packageName.toLowerCase()}://`;bo().handleOpenURL=function(){var yt=(0,u.Z)(function*(dt){if(dt.toLowerCase().startsWith(it)&&ie({url:dt}),"function"==typeof Le)try{Le(dt)}catch(In){console.error(In)}});return function(dt){return yt.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=Cn,this._completeRedirectFn=On}_initialize(f){var g=this;return(0,u.Z)(function*(){return yield g.selectUnderlyingResolver(),g.assertedUnderlyingResolver._initialize(f)})()}_openPopup(f,g,b,S){var O=this;return(0,u.Z)(function*(){return yield O.selectUnderlyingResolver(),O.assertedUnderlyingResolver._openPopup(f,g,b,S)})()}_openRedirect(f,g,b,S){var O=this;return(0,u.Z)(function*(){return yield O.selectUnderlyingResolver(),O.assertedUnderlyingResolver._openRedirect(f,g,b,S)})()}_isIframeWebStorageSupported(f,g){this.assertedUnderlyingResolver._isIframeWebStorageSupported(f,g)}_originValidation(f){return this.assertedUnderlyingResolver._originValidation(f)}get _shouldInitProactively(){return Xc()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Ap(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var f=this;return(0,u.Z)(function*(){if(f.underlyingResolver)return;const g=yield function Pr(){return qo.apply(this,arguments)}();f.underlyingResolver=g?f.cordovaResolver:f.browserResolver})()}}function nd(_){return _.unwrap()}function rd(_){return Wu(_)}function Wu(_){const{_tokenResponse:f}=_ instanceof k.ZR?_.customData:_;if(!f)return null;if(!(_ instanceof k.ZR)&&"temporaryProof"in f&&"phoneNumber"in f)return Ci.credentialFromResult(_);const g=f.providerId;if(!g||"password"===g)return null;let b;switch(g){case"google.com":b=ha;break;case"facebook.com":b=ao;break;case"github.com":b=Cc;break;case"twitter.com":b=nl;break;default:const{oauthIdToken:S,oauthAccessToken:O,oauthTokenSecret:W,pendingToken:ie,nonce:Le}=f;return O||W||S||ie?ie?g.startsWith("saml.")?zn._create(g,ie):as._fromParams({providerId:g,signInMethod:g,pendingToken:ie,idToken:S,accessToken:O}):new ko(g).credential({idToken:S,accessToken:O,rawNonce:Le}):null}return _ instanceof k.ZR?b.credentialFromError(_):b.credentialFromResult(_)}function mr(_,f){return f.catch(g=>{throw g instanceof k.ZR&&function Xm(_,f){var g;const b=null===(g=f.customData)||void 0===g?void 0:g._tokenResponse;if("auth/multi-factor-auth-required"===f.code)f.resolver=new e_(_,function ml(_,f){var g;const b=(0,k.m9)(_),S=f;return ne(f.customData.operationType,b,"argument-error"),ne(null===(g=S.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,b,"argument-error"),ya._fromError(b,S)}(_,f));else if(b){const S=Wu(f),O=f;S&&(O.credential=S,O.tenantId=b.tenantId||void 0,O.email=b.email||void 0,O.phoneNumber=b.phoneNumber||void 0)}}(_,g),g}).then(g=>{const S=g.user;return{operationType:g.operationType,credential:rd(g),additionalUserInfo:Cr(g),user:zo.getOrCreate(S)}})}function Th(_,f){return id.apply(this,arguments)}function id(){return(id=(0,u.Z)(function*(_,f){const g=yield f;return{verificationId:g.verificationId,confirm:b=>mr(_,g.confirm(b))}})).apply(this,arguments)}class e_{constructor(f,g){this.resolver=g,this.auth=function Qm(_){return _.wrapped()}(f)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(f){return mr(nd(this.auth),this.resolver.resolveSignIn(f))}}class zo{constructor(f){this._delegate=f,this.multiFactor=function Rc(_){const f=(0,k.m9)(_);return Vo.has(f)||Vo.set(f,ds._fromUser(f)),Vo.get(f)}(f)}static getOrCreate(f){return zo.USER_MAP.has(f)||zo.USER_MAP.set(f,new zo(f)),zo.USER_MAP.get(f)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(f){return this._delegate.getIdTokenResult(f)}getIdToken(f){return this._delegate.getIdToken(f)}linkAndRetrieveDataWithCredential(f){return this.linkWithCredential(f)}linkWithCredential(f){var g=this;return(0,u.Z)(function*(){return mr(g.auth,Di(g._delegate,f))})()}linkWithPhoneNumber(f,g){var b=this;return(0,u.Z)(function*(){return Th(b.auth,function Kn(_,f,g){return li.apply(this,arguments)}(b._delegate,f,g))})()}linkWithPopup(f){var g=this;return(0,u.Z)(function*(){return mr(g.auth,function Ca(_,f,g){return qi.apply(this,arguments)}(g._delegate,f,qs))})()}linkWithRedirect(f){var g=this;return(0,u.Z)(function*(){return yield td(Oe(g.auth)),function st(_,f,g){return function Ct(_,f,g){return Ht.apply(this,arguments)}(_,f,g)}(g._delegate,f,qs)})()}reauthenticateAndRetrieveDataWithCredential(f){return this.reauthenticateWithCredential(f)}reauthenticateWithCredential(f){var g=this;return(0,u.Z)(function*(){return mr(g.auth,Rs(g._delegate,f))})()}reauthenticateWithPhoneNumber(f,g){return Th(this.auth,function Mu(_,f,g){return xu.apply(this,arguments)}(this._delegate,f,g))}reauthenticateWithPopup(f){return mr(this.auth,function vo(_,f,g){return Cl.apply(this,arguments)}(this._delegate,f,qs))}reauthenticateWithRedirect(f){var g=this;return(0,u.Z)(function*(){return yield td(Oe(g.auth)),function ee(_,f,g){return function Me(_,f,g){return Je.apply(this,arguments)}(_,f,g)}(g._delegate,f,qs)})()}sendEmailVerification(f){return function Ei(_,f){return gu.apply(this,arguments)}(this._delegate,f)}unlink(f){var g=this;return(0,u.Z)(function*(){return yield function fa(_,f){return lu.apply(this,arguments)}(g._delegate,f),g})()}updateEmail(f){return function yu(_,f){return vu((0,k.m9)(_),f,null)}(this._delegate,f)}updatePassword(f){return function Ac(_,f){return vu((0,k.m9)(_),null,f)}(this._delegate,f)}updatePhoneNumber(f){return function El(_,f){return js.apply(this,arguments)}(this._delegate,f)}updateProfile(f){return function _a(_,f){return _u.apply(this,arguments)}(this._delegate,f)}verifyBeforeUpdateEmail(f,g){return function pl(_,f,g){return gl.apply(this,arguments)}(this._delegate,f,g)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}zo.USER_MAP=new WeakMap;const Na=ne;let sd=(()=>{class _{constructor(g,b){if(this.app=g,b.isInitialized())return this._delegate=b.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:S}=g.options;Na(S,"invalid-api-key",{appName:g.name}),Na(S,"invalid-api-key",{appName:g.name});const O="undefined"!=typeof window?qs:void 0;this._delegate=b.initialize({options:{persistence:t_(S,g.name),popupRedirectResolver:O}}),this._delegate._updateErrorMap(xe),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?zo.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(g){this._delegate.languageCode=g}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(g){this._delegate.tenantId=g}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(g,b){!function mn(_,f,g){const b=Oe(_);ne(b._canInitEmulator,b,"emulator-config-failed"),ne(/^https?:\/\//.test(f),b,"invalid-emulator-scheme");const S=!!(null==g?void 0:g.disableWarnings),O=ur(f),{host:W,port:ie}=function Ts(_){const f=ur(_),g=/(\/\/)?([^?#/]+)/.exec(_.substr(f.length));if(!g)return{host:"",port:null};const b=g[2].split("@").pop()||"",S=/^(\[[^\]]+\])(:|$)/.exec(b);if(S){const O=S[1];return{host:O,port:Vn(b.substr(O.length+1))}}{const[O,W]=b.split(":");return{host:O,port:Vn(W)}}}(f);b.config.emulator={url:`${O}//${W}${null===ie?"":`:${ie}`}/`},b.settings.appVerificationDisabledForTesting=!0,b.emulatorConfig=Object.freeze({host:W,port:ie,protocol:O.replace(":",""),options:Object.freeze({disableWarnings:S})}),S||function Gi(){function _(){const f=document.createElement("p"),g=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",_):_())}()}(this._delegate,g,b)}applyActionCode(g){return function cu(_,f){return De.apply(this,arguments)}(this._delegate,g)}checkActionCode(g){return Lt(this._delegate,g)}confirmPasswordReset(g,b){return function dl(_,f,g){return uu.apply(this,arguments)}(this._delegate,g,b)}createUserWithEmailAndPassword(g,b){var S=this;return(0,u.Z)(function*(){return mr(S._delegate,function Lo(_,f,g){return Wr.apply(this,arguments)}(S._delegate,g,b))})()}fetchProvidersForEmail(g){return this.fetchSignInMethodsForEmail(g)}fetchSignInMethodsForEmail(g){return function fl(_,f){return Ls.apply(this,arguments)}(this._delegate,g)}isSignInWithEmailLink(g){return function pu(_,f){const g=oo.parseLink(f);return"EMAIL_SIGNIN"===(null==g?void 0:g.operation)}(0,g)}getRedirectResult(){var g=this;return(0,u.Z)(function*(){Na(Qc(),g._delegate,"operation-not-supported-in-this-environment");const b=yield function Tt(_,f){return Ln.apply(this,arguments)}(g._delegate,qs);return b?mr(g._delegate,Promise.resolve(b)):{credential:null,user:null}})()}addFrameworkForLogging(g){!function C0(_,f){Oe(_)._logFramework(f)}(this._delegate,g)}onAuthStateChanged(g,b,S){const{next:O,error:W,complete:ie}=Ih(g,b,S);return this._delegate.onAuthStateChanged(O,W,ie)}onIdTokenChanged(g,b,S){const{next:O,error:W,complete:ie}=Ih(g,b,S);return this._delegate.onIdTokenChanged(O,W,ie)}sendSignInLinkToEmail(g,b){return function fu(_,f,g){return Sc.apply(this,arguments)}(this._delegate,g,b)}sendPasswordResetEmail(g,b){return function ul(_,f,g){return cl.apply(this,arguments)}(this._delegate,g,b||void 0)}setPersistence(g){var b=this;return(0,u.Z)(function*(){let S;switch(function ed(_,f){Ll(Object.values(Ai).includes(f),_,"invalid-persistence-type"),(0,k.b$)()?Ll(f!==Ai.SESSION,_,"unsupported-persistence-type"):(0,k.UG)()?Ll(f===Ai.NONE,_,"unsupported-persistence-type"):Fl()?Ll(f===Ai.NONE||f===Ai.LOCAL&&(0,k.hl)(),_,"unsupported-persistence-type"):Ll(f===Ai.NONE||Zr(),_,"unsupported-persistence-type")}(b._delegate,g),g){case Ai.SESSION:S=Cn;break;case Ai.LOCAL:S=(yield te(rn)._isAvailable())?rn:Tr;break;case Ai.NONE:S=$;break;default:return Te("argument-error",{appName:b._delegate.name})}return b._delegate.setPersistence(S)})()}signInAndRetrieveDataWithCredential(g){return this.signInWithCredential(g)}signInAnonymously(){return mr(this._delegate,function il(_){return Tc.apply(this,arguments)}(this._delegate))}signInWithCredential(g){return mr(this._delegate,Pn(this._delegate,g))}signInWithCustomToken(g){return mr(this._delegate,function ks(_,f){return Ps.apply(this,arguments)}(this._delegate,g))}signInWithEmailAndPassword(g,b){return mr(this._delegate,function hu(_,f,g){return Pn((0,k.m9)(_),au.credential(f,g))}(this._delegate,g,b))}signInWithEmailLink(g,b){return mr(this._delegate,function hl(_,f,g){return Fs.apply(this,arguments)}(this._delegate,g,b))}signInWithPhoneNumber(g,b){return Th(this._delegate,function Zn(_,f,g){return Ut.apply(this,arguments)}(this._delegate,g,b))}signInWithPopup(g){var b=this;return(0,u.Z)(function*(){return Na(Qc(),b._delegate,"operation-not-supported-in-this-environment"),mr(b._delegate,function yo(_,f,g){return jc.apply(this,arguments)}(b._delegate,g,qs))})()}signInWithRedirect(g){var b=this;return(0,u.Z)(function*(){return Na(Qc(),b._delegate,"operation-not-supported-in-this-environment"),yield td(b._delegate),function x(_,f,g){return function L(_,f,g){return q.apply(this,arguments)}(_,f,g)}(b._delegate,g,qs)})()}updateCurrentUser(g){return this._delegate.updateCurrentUser(g)}verifyPasswordResetCode(g){return function En(_,f){return Fo.apply(this,arguments)}(this._delegate,g)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return _.Persistence=Ai,_})();function Ih(_,f,g){let b=_;"function"!=typeof _&&({next:b,error:f,complete:g}=_);const S=b;return{next:W=>S(W&&zo.getOrCreate(W)),error:f,complete:g}}function t_(_,f){const g=function Sp(_,f){const g=$u();if(!g)return[];const b=ue(Ch,_,f);switch(g.getItem(b)){case Ai.NONE:return[$];case Ai.LOCAL:return[rn,Cn];case Ai.SESSION:return[Cn];default:return[]}}(_,f);if("undefined"!=typeof self&&!g.includes(rn)&&g.push(rn),"undefined"!=typeof window)for(const b of[Tr,Cn])g.includes(b)||g.push(b);return g.includes($)||g.push($),g}class od{constructor(){this.providerId="phone",this._delegate=new Ci(nd(K.Z.auth()))}static credential(f,g){return Ci.credential(f,g)}verifyPhoneNumber(f,g){return this._delegate.verifyPhoneNumber(f,g)}unwrap(){return this._delegate}}od.PHONE_SIGN_IN_METHOD=Ci.PHONE_SIGN_IN_METHOD,od.PROVIDER_ID=Ci.PROVIDER_ID;const Ma=ne;class n_{constructor(f,g,b=K.Z.app()){var S;Ma(null===(S=b.options)||void 0===S?void 0:S.apiKey,"invalid-api-key",{appName:b.name}),this._delegate=new Dl(f,g,b.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function r_(_){_.INTERNAL.registerComponent(new re.wA("auth-compat",f=>{const g=f.getProvider("app-compat").getImmediate(),b=f.getProvider("auth");return new sd(g,b)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:au,FacebookAuthProvider:ao,GithubAuthProvider:Cc,GoogleAuthProvider:ha,OAuthProvider:ko,SAMLAuthProvider:si,PhoneAuthProvider:od,PhoneMultiFactorGenerator:z1,RecaptchaVerifier:n_,TwitterAuthProvider:nl,Auth:sd,AuthCredential:an,Error:k.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),_.registerVersion("@firebase/auth-compat","0.2.12")}(K.Z)},8306:(ct,Ee,R)=>{R.d(Ee,{y:()=>G});var u=R(930),K=R(727),k=R(8822),oe=R(4671);var re=R(2416),de=R(576),le=R(2806);let G=(()=>{class Se{constructor(Fe){Fe&&(this._subscribe=Fe)}lift(Fe){const he=new Se;return he.source=this,he.operator=Fe,he}subscribe(Fe,he,be){const rt=function We(Se){return Se&&Se instanceof u.Lv||function J(Se){return Se&&(0,de.m)(Se.next)&&(0,de.m)(Se.error)&&(0,de.m)(Se.complete)}(Se)&&(0,K.Nn)(Se)}(Fe)?Fe:new u.Hp(Fe,he,be);return(0,le.x)(()=>{const{operator:Ke,source:Te}=this;rt.add(Ke?Ke.call(rt,Te):Te?this._subscribe(rt):this._trySubscribe(rt))}),rt}_trySubscribe(Fe){try{return this._subscribe(Fe)}catch(he){Fe.error(he)}}forEach(Fe,he){return new(he=H(he))((be,rt)=>{const Ke=new u.Hp({next:Te=>{try{Fe(Te)}catch(_e){rt(_e),Ke.unsubscribe()}},error:rt,complete:be});this.subscribe(Ke)})}_subscribe(Fe){var he;return null===(he=this.source)||void 0===he?void 0:he.subscribe(Fe)}[k.L](){return this}pipe(...Fe){return function pe(Se){return 0===Se.length?oe.y:1===Se.length?Se[0]:function(Fe){return Se.reduce((he,be)=>be(he),Fe)}}(Fe)(this)}toPromise(Fe){return new(Fe=H(Fe))((he,be)=>{let rt;this.subscribe(Ke=>rt=Ke,Ke=>be(Ke),()=>he(rt))})}}return Se.create=xe=>new Se(xe),Se})();function H(Se){var xe;return null!==(xe=null!=Se?Se:re.v.Promise)&&void 0!==xe?xe:Promise}},7579:(ct,Ee,R)=>{R.d(Ee,{x:()=>re});var u=R(8306),K=R(727);const oe=(0,R(3888).d)(le=>function(){le(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var X=R(8737),pe=R(2806);let re=(()=>{class le extends u.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(H){const J=new de(this,this);return J.operator=H,J}_throwIfClosed(){if(this.closed)throw new oe}next(H){(0,pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const J of this.currentObservers)J.next(H)}})}error(H){(0,pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=H;const{observers:J}=this;for(;J.length;)J.shift().error(H)}})}complete(){(0,pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:H}=this;for(;H.length;)H.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var H;return(null===(H=this.observers)||void 0===H?void 0:H.length)>0}_trySubscribe(H){return this._throwIfClosed(),super._trySubscribe(H)}_subscribe(H){return this._throwIfClosed(),this._checkFinalizedStatuses(H),this._innerSubscribe(H)}_innerSubscribe(H){const{hasError:J,isStopped:We,observers:Se}=this;return J||We?K.Lc:(this.currentObservers=null,Se.push(H),new K.w0(()=>{this.currentObservers=null,(0,X.P)(Se,H)}))}_checkFinalizedStatuses(H){const{hasError:J,thrownError:We,isStopped:Se}=this;J?H.error(We):Se&&H.complete()}asObservable(){const H=new u.y;return H.source=this,H}}return le.create=(G,H)=>new de(G,H),le})();class de extends re{constructor(G,H){super(),this.destination=G,this.source=H}next(G){var H,J;null===(J=null===(H=this.destination)||void 0===H?void 0:H.next)||void 0===J||J.call(H,G)}error(G){var H,J;null===(J=null===(H=this.destination)||void 0===H?void 0:H.error)||void 0===J||J.call(H,G)}complete(){var G,H;null===(H=null===(G=this.destination)||void 0===G?void 0:G.complete)||void 0===H||H.call(G)}_subscribe(G){var H,J;return null!==(J=null===(H=this.source)||void 0===H?void 0:H.subscribe(G))&&void 0!==J?J:K.Lc}}},930:(ct,Ee,R)=>{R.d(Ee,{Hp:()=>Fe,Lv:()=>J});var u=R(576),K=R(727),k=R(2416),oe=R(7849),X=R(5032);const pe=le("C",void 0,void 0);function le(Te,_e,ve){return{kind:Te,value:_e,error:ve}}var G=R(3410),H=R(2806);class J extends K.w0{constructor(_e){super(),this.isStopped=!1,_e?(this.destination=_e,(0,K.Nn)(_e)&&_e.add(this)):this.destination=Ke}static create(_e,ve,je){return new Fe(_e,ve,je)}next(_e){this.isStopped?rt(function de(Te){return le("N",Te,void 0)}(_e),this):this._next(_e)}error(_e){this.isStopped?rt(function re(Te){return le("E",void 0,Te)}(_e),this):(this.isStopped=!0,this._error(_e))}complete(){this.isStopped?rt(pe,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(_e){this.destination.next(_e)}_error(_e){try{this.destination.error(_e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const We=Function.prototype.bind;function Se(Te,_e){return We.call(Te,_e)}class xe{constructor(_e){this.partialObserver=_e}next(_e){const{partialObserver:ve}=this;if(ve.next)try{ve.next(_e)}catch(je){he(je)}}error(_e){const{partialObserver:ve}=this;if(ve.error)try{ve.error(_e)}catch(je){he(je)}else he(_e)}complete(){const{partialObserver:_e}=this;if(_e.complete)try{_e.complete()}catch(ve){he(ve)}}}class Fe extends J{constructor(_e,ve,je){let Be;if(super(),(0,u.m)(_e)||!_e)Be={next:null!=_e?_e:void 0,error:null!=ve?ve:void 0,complete:null!=je?je:void 0};else{let ne;this&&k.v.useDeprecatedNextContext?(ne=Object.create(_e),ne.unsubscribe=()=>this.unsubscribe(),Be={next:_e.next&&Se(_e.next,ne),error:_e.error&&Se(_e.error,ne),complete:_e.complete&&Se(_e.complete,ne)}):Be=_e}this.destination=new xe(Be)}}function he(Te){k.v.useDeprecatedSynchronousErrorHandling?(0,H.O)(Te):(0,oe.h)(Te)}function rt(Te,_e){const{onStoppedNotification:ve}=k.v;ve&&G.z.setTimeout(()=>ve(Te,_e))}const Ke={closed:!0,next:X.Z,error:function be(Te){throw Te},complete:X.Z}},727:(ct,Ee,R)=>{R.d(Ee,{Lc:()=>pe,w0:()=>X,Nn:()=>re});var u=R(576);const k=(0,R(3888).d)(le=>function(H){le(this),this.message=H?`${H.length} errors occurred during unsubscription:\n${H.map((J,We)=>`${We+1}) ${J.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=H});var oe=R(8737);class X{constructor(G){this.initialTeardown=G,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let G;if(!this.closed){this.closed=!0;const{_parentage:H}=this;if(H)if(this._parentage=null,Array.isArray(H))for(const Se of H)Se.remove(this);else H.remove(this);const{initialTeardown:J}=this;if((0,u.m)(J))try{J()}catch(Se){G=Se instanceof k?Se.errors:[Se]}const{_finalizers:We}=this;if(We){this._finalizers=null;for(const Se of We)try{de(Se)}catch(xe){G=null!=G?G:[],xe instanceof k?G=[...G,...xe.errors]:G.push(xe)}}if(G)throw new k(G)}}add(G){var H;if(G&&G!==this)if(this.closed)de(G);else{if(G instanceof X){if(G.closed||G._hasParent(this))return;G._addParent(this)}(this._finalizers=null!==(H=this._finalizers)&&void 0!==H?H:[]).push(G)}}_hasParent(G){const{_parentage:H}=this;return H===G||Array.isArray(H)&&H.includes(G)}_addParent(G){const{_parentage:H}=this;this._parentage=Array.isArray(H)?(H.push(G),H):H?[H,G]:G}_removeParent(G){const{_parentage:H}=this;H===G?this._parentage=null:Array.isArray(H)&&(0,oe.P)(H,G)}remove(G){const{_finalizers:H}=this;H&&(0,oe.P)(H,G),G instanceof X&&G._removeParent(this)}}X.EMPTY=(()=>{const le=new X;return le.closed=!0,le})();const pe=X.EMPTY;function re(le){return le instanceof X||le&&"closed"in le&&(0,u.m)(le.remove)&&(0,u.m)(le.add)&&(0,u.m)(le.unsubscribe)}function de(le){(0,u.m)(le)?le():le.unsubscribe()}},2416:(ct,Ee,R)=>{R.d(Ee,{v:()=>u});const u={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(ct,Ee,R)=>{R.d(Ee,{E:()=>K});const K=new(R(8306).y)(X=>X.complete())},8996:(ct,Ee,R)=>{R.d(Ee,{D:()=>_e});var u=R(8421),K=R(5363),k=R(9468),pe=R(8306),de=R(2202),le=R(576),G=R(9672);function J(ve,je){if(!ve)throw new Error("Iterable cannot be null");return new pe.y(Be=>{(0,G.f)(Be,je,()=>{const ne=ve[Symbol.asyncIterator]();(0,G.f)(Be,je,()=>{ne.next().then(ze=>{ze.done?Be.complete():Be.next(ze.value)})},0,!0)})})}var We=R(3670),Se=R(8239),xe=R(1144),Fe=R(6495),he=R(2206),be=R(4532),rt=R(3260);function _e(ve,je){return je?function Te(ve,je){if(null!=ve){if((0,We.c)(ve))return function oe(ve,je){return(0,u.Xf)(ve).pipe((0,k.R)(je),(0,K.Q)(je))}(ve,je);if((0,xe.z)(ve))return function re(ve,je){return new pe.y(Be=>{let ne=0;return je.schedule(function(){ne===ve.length?Be.complete():(Be.next(ve[ne++]),Be.closed||this.schedule())})})}(ve,je);if((0,Se.t)(ve))return function X(ve,je){return(0,u.Xf)(ve).pipe((0,k.R)(je),(0,K.Q)(je))}(ve,je);if((0,he.D)(ve))return J(ve,je);if((0,Fe.T)(ve))return function H(ve,je){return new pe.y(Be=>{let ne;return(0,G.f)(Be,je,()=>{ne=ve[de.h](),(0,G.f)(Be,je,()=>{let ze,Q;try{({value:ze,done:Q}=ne.next())}catch(ae){return void Be.error(ae)}Q?Be.complete():Be.next(ze)},0,!0)}),()=>(0,le.m)(null==ne?void 0:ne.return)&&ne.return()})}(ve,je);if((0,rt.L)(ve))return function Ke(ve,je){return J((0,rt.Q)(ve),je)}(ve,je)}throw(0,be.z)(ve)}(ve,je):(0,u.Xf)(ve)}},8421:(ct,Ee,R)=>{R.d(Ee,{Xf:()=>We});var u=R(655),K=R(1144),k=R(8239),oe=R(8306),X=R(3670),pe=R(2206),re=R(4532),de=R(6495),le=R(3260),G=R(576),H=R(7849),J=R(8822);function We(Te){if(Te instanceof oe.y)return Te;if(null!=Te){if((0,X.c)(Te))return function Se(Te){return new oe.y(_e=>{const ve=Te[J.L]();if((0,G.m)(ve.subscribe))return ve.subscribe(_e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Te);if((0,K.z)(Te))return function xe(Te){return new oe.y(_e=>{for(let ve=0;ve<Te.length&&!_e.closed;ve++)_e.next(Te[ve]);_e.complete()})}(Te);if((0,k.t)(Te))return function Fe(Te){return new oe.y(_e=>{Te.then(ve=>{_e.closed||(_e.next(ve),_e.complete())},ve=>_e.error(ve)).then(null,H.h)})}(Te);if((0,pe.D)(Te))return be(Te);if((0,de.T)(Te))return function he(Te){return new oe.y(_e=>{for(const ve of Te)if(_e.next(ve),_e.closed)return;_e.complete()})}(Te);if((0,le.L)(Te))return function rt(Te){return be((0,le.Q)(Te))}(Te)}throw(0,re.z)(Te)}function be(Te){return new oe.y(_e=>{(function Ke(Te,_e){var ve,je,Be,ne;return(0,u.mG)(this,void 0,void 0,function*(){try{for(ve=(0,u.KL)(Te);!(je=yield ve.next()).done;)if(_e.next(je.value),_e.closed)return}catch(ze){Be={error:ze}}finally{try{je&&!je.done&&(ne=ve.return)&&(yield ne.call(ve))}finally{if(Be)throw Be.error}}_e.complete()})})(Te,_e).catch(ve=>_e.error(ve))})}},6451:(ct,Ee,R)=>{R.d(Ee,{T:()=>pe});var u=R(8189),K=R(8421),k=R(515),oe=R(3269),X=R(8996);function pe(...re){const de=(0,oe.yG)(re),le=(0,oe._6)(re,1/0),G=re;return G.length?1===G.length?(0,K.Xf)(G[0]):(0,u.J)(le)((0,X.D)(G,de)):k.E}},5403:(ct,Ee,R)=>{R.d(Ee,{x:()=>K});var u=R(930);function K(oe,X,pe,re,de){return new k(oe,X,pe,re,de)}class k extends u.Lv{constructor(X,pe,re,de,le,G){super(X),this.onFinalize=le,this.shouldUnsubscribe=G,this._next=pe?function(H){try{pe(H)}catch(J){X.error(J)}}:super._next,this._error=de?function(H){try{de(H)}catch(J){X.error(J)}finally{this.unsubscribe()}}:super._error,this._complete=re?function(){try{re()}catch(H){X.error(H)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var X;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:pe}=this;super.unsubscribe(),!pe&&(null===(X=this.onFinalize)||void 0===X||X.call(this))}}}},4004:(ct,Ee,R)=>{R.d(Ee,{U:()=>k});var u=R(4482),K=R(5403);function k(oe,X){return(0,u.e)((pe,re)=>{let de=0;pe.subscribe((0,K.x)(re,le=>{re.next(oe.call(X,le,de++))}))})}},8189:(ct,Ee,R)=>{R.d(Ee,{J:()=>k});var u=R(5577),K=R(4671);function k(oe=1/0){return(0,u.z)(K.y,oe)}},5577:(ct,Ee,R)=>{R.d(Ee,{z:()=>de});var u=R(4004),K=R(8421),k=R(4482),oe=R(9672),X=R(5403),re=R(576);function de(le,G,H=1/0){return(0,re.m)(G)?de((J,We)=>(0,u.U)((Se,xe)=>G(J,Se,We,xe))((0,K.Xf)(le(J,We))),H):("number"==typeof G&&(H=G),(0,k.e)((J,We)=>function pe(le,G,H,J,We,Se,xe,Fe){const he=[];let be=0,rt=0,Ke=!1;const Te=()=>{Ke&&!he.length&&!be&&G.complete()},_e=je=>be<J?ve(je):he.push(je),ve=je=>{Se&&G.next(je),be++;let Be=!1;(0,K.Xf)(H(je,rt++)).subscribe((0,X.x)(G,ne=>{null==We||We(ne),Se?_e(ne):G.next(ne)},()=>{Be=!0},void 0,()=>{if(Be)try{for(be--;he.length&&be<J;){const ne=he.shift();xe?(0,oe.f)(G,xe,()=>ve(ne)):ve(ne)}Te()}catch(ne){G.error(ne)}}))};return le.subscribe((0,X.x)(G,_e,()=>{Ke=!0,Te()})),()=>{null==Fe||Fe()}}(J,We,le,H)))}},5363:(ct,Ee,R)=>{R.d(Ee,{Q:()=>oe});var u=R(9672),K=R(4482),k=R(5403);function oe(X,pe=0){return(0,K.e)((re,de)=>{re.subscribe((0,k.x)(de,le=>(0,u.f)(de,X,()=>de.next(le),pe),()=>(0,u.f)(de,X,()=>de.complete(),pe),le=>(0,u.f)(de,X,()=>de.error(le),pe)))})}},3099:(ct,Ee,R)=>{R.d(Ee,{B:()=>pe});var u=R(8996),K=R(5698),k=R(7579),oe=R(930),X=R(4482);function pe(de={}){const{connector:le=(()=>new k.x),resetOnError:G=!0,resetOnComplete:H=!0,resetOnRefCountZero:J=!0}=de;return We=>{let Se=null,xe=null,Fe=null,he=0,be=!1,rt=!1;const Ke=()=>{null==xe||xe.unsubscribe(),xe=null},Te=()=>{Ke(),Se=Fe=null,be=rt=!1},_e=()=>{const ve=Se;Te(),null==ve||ve.unsubscribe()};return(0,X.e)((ve,je)=>{he++,!rt&&!be&&Ke();const Be=Fe=null!=Fe?Fe:le();je.add(()=>{he--,0===he&&!rt&&!be&&(xe=re(_e,J))}),Be.subscribe(je),Se||(Se=new oe.Hp({next:ne=>Be.next(ne),error:ne=>{rt=!0,Ke(),xe=re(Te,G,ne),Be.error(ne)},complete:()=>{be=!0,Ke(),xe=re(Te,H),Be.complete()}}),(0,u.D)(ve).subscribe(Se))})(We)}}function re(de,le,...G){return!0===le?(de(),null):!1===le?null:le(...G).pipe((0,K.q)(1)).subscribe(()=>de())}},9468:(ct,Ee,R)=>{R.d(Ee,{R:()=>K});var u=R(4482);function K(k,oe=0){return(0,u.e)((X,pe)=>{pe.add(k.schedule(()=>X.subscribe(pe),oe))})}},5698:(ct,Ee,R)=>{R.d(Ee,{q:()=>oe});var u=R(515),K=R(4482),k=R(5403);function oe(X){return X<=0?()=>u.E:(0,K.e)((pe,re)=>{let de=0;pe.subscribe((0,k.x)(re,le=>{++de<=X&&(re.next(le),X<=de&&re.complete())}))})}},8505:(ct,Ee,R)=>{R.d(Ee,{b:()=>X});var u=R(576),K=R(4482),k=R(5403),oe=R(4671);function X(pe,re,de){const le=(0,u.m)(pe)||re||de?{next:pe,error:re,complete:de}:pe;return le?(0,K.e)((G,H)=>{var J;null===(J=le.subscribe)||void 0===J||J.call(le);let We=!0;G.subscribe((0,k.x)(H,Se=>{var xe;null===(xe=le.next)||void 0===xe||xe.call(le,Se),H.next(Se)},()=>{var Se;We=!1,null===(Se=le.complete)||void 0===Se||Se.call(le),H.complete()},Se=>{var xe;We=!1,null===(xe=le.error)||void 0===xe||xe.call(le,Se),H.error(Se)},()=>{var Se,xe;We&&(null===(Se=le.unsubscribe)||void 0===Se||Se.call(le)),null===(xe=le.finalize)||void 0===xe||xe.call(le)}))}):oe.y}},4408:(ct,Ee,R)=>{R.d(Ee,{o:()=>X});var u=R(727);class K extends u.w0{constructor(re,de){super()}schedule(re,de=0){return this}}const k={setInterval(pe,re,...de){const{delegate:le}=k;return(null==le?void 0:le.setInterval)?le.setInterval(pe,re,...de):setInterval(pe,re,...de)},clearInterval(pe){const{delegate:re}=k;return((null==re?void 0:re.clearInterval)||clearInterval)(pe)},delegate:void 0};var oe=R(8737);class X extends K{constructor(re,de){super(re,de),this.scheduler=re,this.work=de,this.pending=!1}schedule(re,de=0){if(this.closed)return this;this.state=re;const le=this.id,G=this.scheduler;return null!=le&&(this.id=this.recycleAsyncId(G,le,de)),this.pending=!0,this.delay=de,this.id=this.id||this.requestAsyncId(G,this.id,de),this}requestAsyncId(re,de,le=0){return k.setInterval(re.flush.bind(re,this),le)}recycleAsyncId(re,de,le=0){if(null!=le&&this.delay===le&&!1===this.pending)return de;k.clearInterval(de)}execute(re,de){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const le=this._execute(re,de);if(le)return le;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(re,de){let G,le=!1;try{this.work(re)}catch(H){le=!0,G=H||new Error("Scheduled action threw falsy error")}if(le)return this.unsubscribe(),G}unsubscribe(){if(!this.closed){const{id:re,scheduler:de}=this,{actions:le}=de;this.work=this.state=this.scheduler=null,this.pending=!1,(0,oe.P)(le,this),null!=re&&(this.id=this.recycleAsyncId(de,re,null)),this.delay=null,super.unsubscribe()}}}},7565:(ct,Ee,R)=>{R.d(Ee,{v:()=>k});var u=R(6063);class K{constructor(X,pe=K.now){this.schedulerActionCtor=X,this.now=pe}schedule(X,pe=0,re){return new this.schedulerActionCtor(this,X).schedule(re,pe)}}K.now=u.l.now;class k extends K{constructor(X,pe=K.now){super(X,pe),this.actions=[],this._active=!1,this._scheduled=void 0}flush(X){const{actions:pe}=this;if(this._active)return void pe.push(X);let re;this._active=!0;do{if(re=X.execute(X.state,X.delay))break}while(X=pe.shift());if(this._active=!1,re){for(;X=pe.shift();)X.unsubscribe();throw re}}}},4986:(ct,Ee,R)=>{R.d(Ee,{P:()=>oe,z:()=>k});var u=R(4408);const k=new(R(7565).v)(u.o),oe=k},6063:(ct,Ee,R)=>{R.d(Ee,{l:()=>u});const u={now:()=>(u.delegate||Date).now(),delegate:void 0}},3410:(ct,Ee,R)=>{R.d(Ee,{z:()=>u});const u={setTimeout(K,k,...oe){const{delegate:X}=u;return(null==X?void 0:X.setTimeout)?X.setTimeout(K,k,...oe):setTimeout(K,k,...oe)},clearTimeout(K){const{delegate:k}=u;return((null==k?void 0:k.clearTimeout)||clearTimeout)(K)},delegate:void 0}},2202:(ct,Ee,R)=>{R.d(Ee,{h:()=>K});const K=function u(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(ct,Ee,R)=>{R.d(Ee,{L:()=>u});const u="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(ct,Ee,R)=>{R.d(Ee,{_6:()=>pe,jO:()=>oe,yG:()=>X});var u=R(576),K=R(3532);function k(re){return re[re.length-1]}function oe(re){return(0,u.m)(k(re))?re.pop():void 0}function X(re){return(0,K.K)(k(re))?re.pop():void 0}function pe(re,de){return"number"==typeof k(re)?re.pop():de}},8737:(ct,Ee,R)=>{function u(K,k){if(K){const oe=K.indexOf(k);0<=oe&&K.splice(oe,1)}}R.d(Ee,{P:()=>u})},3888:(ct,Ee,R)=>{function u(K){const oe=K(X=>{Error.call(X),X.stack=(new Error).stack});return oe.prototype=Object.create(Error.prototype),oe.prototype.constructor=oe,oe}R.d(Ee,{d:()=>u})},2806:(ct,Ee,R)=>{R.d(Ee,{O:()=>oe,x:()=>k});var u=R(2416);let K=null;function k(X){if(u.v.useDeprecatedSynchronousErrorHandling){const pe=!K;if(pe&&(K={errorThrown:!1,error:null}),X(),pe){const{errorThrown:re,error:de}=K;if(K=null,re)throw de}}else X()}function oe(X){u.v.useDeprecatedSynchronousErrorHandling&&K&&(K.errorThrown=!0,K.error=X)}},9672:(ct,Ee,R)=>{function u(K,k,oe,X=0,pe=!1){const re=k.schedule(function(){oe(),pe?K.add(this.schedule(null,X)):this.unsubscribe()},X);if(K.add(re),!pe)return re}R.d(Ee,{f:()=>u})},4671:(ct,Ee,R)=>{function u(K){return K}R.d(Ee,{y:()=>u})},1144:(ct,Ee,R)=>{R.d(Ee,{z:()=>u});const u=K=>K&&"number"==typeof K.length&&"function"!=typeof K},2206:(ct,Ee,R)=>{R.d(Ee,{D:()=>K});var u=R(576);function K(k){return Symbol.asyncIterator&&(0,u.m)(null==k?void 0:k[Symbol.asyncIterator])}},576:(ct,Ee,R)=>{function u(K){return"function"==typeof K}R.d(Ee,{m:()=>u})},3670:(ct,Ee,R)=>{R.d(Ee,{c:()=>k});var u=R(8822),K=R(576);function k(oe){return(0,K.m)(oe[u.L])}},6495:(ct,Ee,R)=>{R.d(Ee,{T:()=>k});var u=R(2202),K=R(576);function k(oe){return(0,K.m)(null==oe?void 0:oe[u.h])}},8239:(ct,Ee,R)=>{R.d(Ee,{t:()=>K});var u=R(576);function K(k){return(0,u.m)(null==k?void 0:k.then)}},3260:(ct,Ee,R)=>{R.d(Ee,{L:()=>oe,Q:()=>k});var u=R(655),K=R(576);function k(X){return(0,u.FC)(this,arguments,function*(){const re=X.getReader();try{for(;;){const{value:de,done:le}=yield(0,u.qq)(re.read());if(le)return yield(0,u.qq)(void 0);yield yield(0,u.qq)(de)}}finally{re.releaseLock()}})}function oe(X){return(0,K.m)(null==X?void 0:X.getReader)}},3532:(ct,Ee,R)=>{R.d(Ee,{K:()=>K});var u=R(576);function K(k){return k&&(0,u.m)(k.schedule)}},4482:(ct,Ee,R)=>{R.d(Ee,{A:()=>K,e:()=>k});var u=R(576);function K(oe){return(0,u.m)(null==oe?void 0:oe.lift)}function k(oe){return X=>{if(K(X))return X.lift(function(pe){try{return oe(pe,this)}catch(re){this.error(re)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(ct,Ee,R)=>{function u(){}R.d(Ee,{Z:()=>u})},7849:(ct,Ee,R)=>{R.d(Ee,{h:()=>k});var u=R(2416),K=R(3410);function k(oe){K.z.setTimeout(()=>{const{onUnhandledError:X}=u.v;if(!X)throw oe;X(oe)})}},4532:(ct,Ee,R)=>{function u(K){return new TypeError(`You provided ${null!==K&&"object"==typeof K?"an invalid object":`'${K}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}R.d(Ee,{z:()=>u})},655:(ct,Ee,R)=>{function oe(Q,ae){var te={};for(var we in Q)Object.prototype.hasOwnProperty.call(Q,we)&&ae.indexOf(we)<0&&(te[we]=Q[we]);if(null!=Q&&"function"==typeof Object.getOwnPropertySymbols){var ge=0;for(we=Object.getOwnPropertySymbols(Q);ge<we.length;ge++)ae.indexOf(we[ge])<0&&Object.prototype.propertyIsEnumerable.call(Q,we[ge])&&(te[we[ge]]=Q[we[ge]])}return te}function de(Q,ae,te,we){return new(te||(te=Promise))(function(ke,St){function Yt($t){try{He(we.next($t))}catch(Xn){St(Xn)}}function on($t){try{He(we.throw($t))}catch(Xn){St(Xn)}}function He($t){$t.done?ke($t.value):function ge(ke){return ke instanceof te?ke:new te(function(St){St(ke)})}($t.value).then(Yt,on)}He((we=we.apply(Q,ae||[])).next())})}function he(Q){return this instanceof he?(this.v=Q,this):new he(Q)}function be(Q,ae,te){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ge,we=te.apply(Q,ae||[]),ke=[];return ge={},St("next"),St("throw"),St("return"),ge[Symbol.asyncIterator]=function(){return this},ge;function St(Sn){we[Sn]&&(ge[Sn]=function(tn){return new Promise(function(bi,Jt){ke.push([Sn,tn,bi,Jt])>1||Yt(Sn,tn)})})}function Yt(Sn,tn){try{!function on(Sn){Sn.value instanceof he?Promise.resolve(Sn.value.v).then(He,$t):Xn(ke[0][2],Sn)}(we[Sn](tn))}catch(bi){Xn(ke[0][3],bi)}}function He(Sn){Yt("next",Sn)}function $t(Sn){Yt("throw",Sn)}function Xn(Sn,tn){Sn(tn),ke.shift(),ke.length&&Yt(ke[0][0],ke[0][1])}}function Ke(Q){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var te,ae=Q[Symbol.asyncIterator];return ae?ae.call(Q):(Q=function J(Q){var ae="function"==typeof Symbol&&Symbol.iterator,te=ae&&Q[ae],we=0;if(te)return te.call(Q);if(Q&&"number"==typeof Q.length)return{next:function(){return Q&&we>=Q.length&&(Q=void 0),{value:Q&&Q[we++],done:!Q}}};throw new TypeError(ae?"Object is not iterable.":"Symbol.iterator is not defined.")}(Q),te={},we("next"),we("throw"),we("return"),te[Symbol.asyncIterator]=function(){return this},te);function we(ke){te[ke]=Q[ke]&&function(St){return new Promise(function(Yt,on){!function ge(ke,St,Yt,on){Promise.resolve(on).then(function(He){ke({value:He,done:Yt})},St)}(Yt,on,(St=Q[ke](St)).done,St.value)})}}}R.d(Ee,{FC:()=>be,KL:()=>Ke,_T:()=>oe,mG:()=>de,qq:()=>he})},5e3:(ct,Ee,R)=>{R.d(Ee,{$8M:()=>bl,$Z:()=>Eb,AFp:()=>By,ALo:()=>Dy,AaK:()=>de,CHM:()=>du,CRH:()=>Xw,CZH:()=>Gg,CqO:()=>OC,DdM:()=>tf,EJc:()=>yD,EpF:()=>MC,F$t:()=>FC,F4k:()=>xC,FYo:()=>Ow,FiY:()=>ui,G48:()=>Xy,Gf:()=>Jw,GfV:()=>Rw,Gpc:()=>H,Hsn:()=>LC,Ikx:()=>dg,JOm:()=>ie,LFG:()=>st,LSH:()=>Ep,Lbi:()=>pI,MAs:()=>pC,MGl:()=>Gh,NdJ:()=>Nb,OlP:()=>bn,Oqu:()=>ug,PXZ:()=>qy,Q6J:()=>Cb,QGY:()=>Ab,Qsj:()=>PT,QtT:()=>Iw,R0b:()=>To,RDi:()=>ls,Rgc:()=>Ba,SBq:()=>Yl,SDv:()=>Cw,Sil:()=>_I,Suo:()=>Qw,TTD:()=>ao,TgZ:()=>Z_,Tol:()=>GC,Udp:()=>Vb,VKq:()=>Pd,VLi:()=>Ha,W1O:()=>nD,WLB:()=>Sg,X6Q:()=>Ri,XFs:()=>ht,Xpm:()=>Ft,Y36:()=>Ed,YKP:()=>my,YNc:()=>pb,Yjl:()=>wr,Yz7:()=>tn,ZZ4:()=>Qg,_Bn:()=>Aw,_UZ:()=>Tb,_Vd:()=>ac,_c5:()=>uv,_uU:()=>jb,aQg:()=>Xg,c2e:()=>gI,cJS:()=>Jt,cg1:()=>ny,dDg:()=>Ga,deG:()=>ch,dqk:()=>Gt,dwT:()=>PM,eFA:()=>bD,ekj:()=>Bb,g9A:()=>Uy,h0i:()=>Va,hGG:()=>cv,hij:()=>cg,iGM:()=>Yw,ifc:()=>qt,ip1:()=>mD,kEZ:()=>vy,kL8:()=>rT,lG2:()=>Qt,lcZ:()=>jw,n5z:()=>Lc,oAB:()=>Y,oxw:()=>PC,pQV:()=>yg,q4F:()=>kw,qLn:()=>mr,qOj:()=>Kp,qZA:()=>rg,s9C:()=>Ob,sBO:()=>tv,sIi:()=>Jp,s_b:()=>sf,soG:()=>jy,tBr:()=>Ii,tb:()=>_D,tp0:()=>Ki,uIk:()=>eg,vHH:()=>xe,vpe:()=>ra,wAp:()=>Dt,xi3:()=>Gw,xp6:()=>Lp,z2F:()=>qg,zSh:()=>ib,zs3:()=>Jo});var u=R(7579),K=R(727),k=R(8306),oe=R(6451),X=R(3099);function pe(s){for(let o in s)if(s[o]===pe)return o;throw Error("Could not find renamed property on target object.")}function re(s,o){for(const a in o)o.hasOwnProperty(a)&&!s.hasOwnProperty(a)&&(s[a]=o[a])}function de(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(de).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const a=o.indexOf("\n");return-1===a?o:o.substring(0,a)}function le(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const G=pe({__forward_ref__:pe});function H(s){return s.__forward_ref__=H,s.toString=function(){return de(this())},s}function J(s){return We(s)?s():s}function We(s){return"function"==typeof s&&s.hasOwnProperty(G)&&s.__forward_ref__===H}class xe extends Error{constructor(o,a){super(function Fe(s,o){return`NG0${Math.abs(s)}${o?": "+o:""}`}(o,a)),this.code=o}}function he(s){return"string"==typeof s?s:null==s?"":String(s)}function be(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():he(s)}function _e(s,o){const a=o?` in ${o}`:"";throw new xe(-201,`No provider for ${be(s)} found${a}`)}function He(s,o,a,c){throw new Error(`ASSERTION ERROR: ${s}`+(null==c?"":` [Expected=> ${a} ${c} ${o} <=Actual]`))}function tn(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function Jt(s){return{providers:s.providers||[],imports:s.imports||[]}}function Wt(s){return or(s,Ui)||or(s,ns)}function or(s,o){return s.hasOwnProperty(o)?s[o]:null}function xr(s){return s&&(s.hasOwnProperty(Or)||s.hasOwnProperty(rs))?s[Or]:null}const Ui=pe({\u0275prov:pe}),Or=pe({\u0275inj:pe}),ns=pe({ngInjectableDef:pe}),rs=pe({ngInjectorDef:pe});var ht=(()=>((ht=ht||{})[ht.Default=0]="Default",ht[ht.Host=1]="Host",ht[ht.Self=2]="Self",ht[ht.SkipSelf=4]="SkipSelf",ht[ht.Optional=8]="Optional",ht))();let jr;function Wn(s){const o=jr;return jr=s,o}function ni(s,o,a){const c=Wt(s);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:a&ht.Optional?null:void 0!==o?o:void _e(de(s),"Injector")}function vn(s){return{toString:s}.toString()}var tr=(()=>((tr=tr||{})[tr.OnPush=0]="OnPush",tr[tr.Default=1]="Default",tr))(),qt=(()=>{return(s=qt||(qt={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",qt;var s})();const at="undefined"!=typeof globalThis&&globalThis,wt="undefined"!=typeof window&&window,ar="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Gt=at||"undefined"!=typeof global&&global||wt||ar,lr={},ft=[],br=pe({\u0275cmp:pe}),Vt=pe({\u0275dir:pe}),Ye=pe({\u0275pipe:pe}),Ie=pe({\u0275mod:pe}),tt=pe({\u0275fac:pe}),pt=pe({__NG_ELEMENT_ID__:pe});let Bt=0;function Ft(s){return vn(()=>{const a={},c={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:a,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===tr.OnPush,directiveDefs:null,pipeDefs:null,selectors:s.selectors||ft,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||qt.Emulated,id:"c",styles:s.styles||ft,_:null,setInput:null,schemas:s.schemas||null,tView:null},h=s.directives,p=s.features,y=s.pipes;return c.id+=Bt++,c.inputs=vt(s.inputs,a),c.outputs=vt(s.outputs),p&&p.forEach(w=>w(c)),c.directiveDefs=h?()=>("function"==typeof h?h():h).map(V):null,c.pipeDefs=y?()=>("function"==typeof y?y():y).map($):null,c})}function V(s){return zt(s)||function An(s){return s[Vt]||null}(s)}function $(s){return function Ot(s){return s[Ye]||null}(s)}const ue={};function Y(s){return vn(()=>{const o={type:s.type,bootstrap:s.bootstrap||ft,declarations:s.declarations||ft,imports:s.imports||ft,exports:s.exports||ft,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null};return null!=s.id&&(ue[s.id]=s.type),o})}function vt(s,o){if(null==s)return lr;const a={};for(const c in s)if(s.hasOwnProperty(c)){let h=s[c],p=h;Array.isArray(h)&&(p=h[1],h=h[0]),a[h]=c,o&&(o[h]=p)}return a}const Qt=Ft;function wr(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,onDestroy:s.type.prototype.ngOnDestroy||null}}function zt(s){return s[br]||null}function gn(s,o){const a=s[Ie]||null;if(!a&&!0===o)throw new Error(`Type ${de(s)} does not have '\u0275mod' property.`);return a}function wi(s){return Array.isArray(s)&&"object"==typeof s[1]}function ii(s){return Array.isArray(s)&&!0===s[1]}function vc(s){return 0!=(8&s.flags)}function As(s){return 2==(2&s.flags)}function Xa(s){return 1==(1&s.flags)}function Gr(s){return null!==s.template}function rh(s){return 0!=(512&s[2])}function Hr(s,o){return s.hasOwnProperty(tt)?s[tt]:null}class ko{constructor(o,a,c){this.previousValue=o,this.currentValue=a,this.firstChange=c}isFirstChange(){return this.firstChange}}function ao(){return ha}function ha(s){return s.type.prototype.ngOnChanges&&(s.setInput=ap),Cc}function Cc(){const s=xs(this),o=null==s?void 0:s.current;if(o){const a=s.previous;if(a===lr)s.previous=o;else for(let c in o)a[c]=o[c];s.current=null,this.ngOnChanges(o)}}function ap(s,o,a,c){const h=xs(s)||function si(s,o){return s[zn]=o}(s,{previous:lr,current:null}),p=h.current||(h.current={}),y=h.previous,w=this.declaredInputs[a],E=y[w];p[w]=new ko(E&&E.currentValue,o,y===lr),s[c]=o}ao.ngInherit=!0;const zn="__ngSimpleChanges__";function xs(s){return s[zn]||null}let ol;function ls(s){ol=s}function fa(){return void 0!==ol?ol:"undefined"!=typeof document?document:void 0}function yn(s){return!!s.listen}const Po={createRenderer:(s,o)=>fa()};function un(s){for(;Array.isArray(s);)s=s[0];return s}function uo(s,o){return un(o[s])}function Dr(s,o){return un(o[s.index])}function pa(s,o){return s.data[o]}function Di(s,o){return s[o]}function Er(s,o){const a=o[s];return wi(a)?a:a[0]}function Rs(s){return 4==(4&s[2])}function us(s){return 128==(128&s[2])}function $r(s,o){return null==o?null:s[o]}function ks(s){s[18]=0}function Ps(s,o){s[5]+=o;let a=s,c=s[3];for(;null!==c&&(1===o&&1===a[5]||-1===o&&0===a[5]);)c[5]+=o,a=c,c=c[3]}const gt={lFrame:ho(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function dl(){return gt.bindingsEnabled}function De(){return gt.lFrame.lView}function Lt(){return gt.lFrame.tView}function du(s){return gt.lFrame.contextLView=s,s[8]}function En(){let s=Fo();for(;null!==s&&64===s.type;)s=s.parent;return s}function Fo(){return gt.lFrame.currentTNode}function Lo(){const s=gt.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}function Wr(s,o){const a=gt.lFrame;a.currentTNode=s,a.isParent=o}function hu(){return gt.lFrame.isParent}function fu(){gt.lFrame.isParent=!1}function hl(){return gt.isInCheckNoChangesMode}function Fs(s){gt.isInCheckNoChangesMode=s}function hr(){const s=gt.lFrame;let o=s.bindingRootIndex;return-1===o&&(o=s.bindingRootIndex=s.tView.bindingStartIndex),o}function Ls(){return gt.lFrame.bindingIndex++}function Ei(s){const o=gt.lFrame,a=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,a}function pl(s){gt.lFrame.inI18n=s}function gl(s,o){const a=gt.lFrame;a.bindingIndex=a.bindingRootIndex=s,ma(o)}function ma(s){gt.lFrame.currentDirectiveIndex=s}function _u(){return gt.lFrame.currentQueryIndex}function yu(s){gt.lFrame.currentQueryIndex=s}function Ac(s){const o=s[1];return 2===o.type?o.declTNode:1===o.type?s[6]:null}function vu(s,o,a){if(a&ht.SkipSelf){let h=o,p=s;for(;!(h=h.parent,null!==h||a&ht.Host||(h=Ac(p),null===h||(p=p[15],10&h.type))););if(null===h)return!1;o=h,s=p}const c=gt.lFrame=Nc();return c.currentTNode=o,c.lView=s,!0}function co(s){const o=Nc(),a=s[1];gt.lFrame=o,o.currentTNode=a.firstChild,o.lView=s,o.tView=a,o.contextLView=s,o.bindingIndex=a.bindingStartIndex,o.inI18n=!1}function Nc(){const s=gt.lFrame,o=null===s?null:s.child;return null===o?ho(s):o}function ho(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function Mc(){const s=gt.lFrame;return gt.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const xc=Mc;function fo(){const s=Mc();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function Cr(){return gt.lFrame.selectedIndex}function Bs(s){gt.lFrame.selectedIndex=s}function Mn(){const s=gt.lFrame;return pa(s.tView,s.selectedIndex)}function cs(s,o){for(let a=o.directiveStart,c=o.directiveEnd;a<c;a++){const p=s.data[a].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:w,ngAfterViewInit:E,ngAfterViewChecked:A,ngOnDestroy:N}=p;y&&(s.contentHooks||(s.contentHooks=[])).push(-a,y),w&&((s.contentHooks||(s.contentHooks=[])).push(a,w),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(a,w)),E&&(s.viewHooks||(s.viewHooks=[])).push(-a,E),A&&((s.viewHooks||(s.viewHooks=[])).push(a,A),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(a,A)),null!=N&&(s.destroyHooks||(s.destroyHooks=[])).push(a,N)}}function ya(s,o,a){Oc(s,o,3,a)}function ml(s,o,a,c){(3&s[2])===a&&Oc(s,o,a,c)}function Un(s,o){let a=s[2];(3&a)===o&&(a&=2047,a+=1,s[2]=a)}function Oc(s,o,a,c){const p=null!=c?c:-1,y=o.length-1;let w=0;for(let E=void 0!==c?65535&s[18]:0;E<y;E++)if("number"==typeof o[E+1]){if(w=o[E],null!=c&&w>=c)break}else o[E]<0&&(s[18]+=65536),(w<p||-1==p)&&(lp(s,a,o,E),s[18]=(4294901760&s[18])+E+2),E++}function lp(s,o,a,c){const h=a[c]<0,p=a[c+1],w=s[h?-a[c]:a[c]];if(h){if(s[2]>>11<s[18]>>16&&(3&s[2])===o){s[2]+=2048;try{p.call(w)}finally{}}}else try{p.call(w)}finally{}}class Vo{constructor(o,a,c){this.factory=o,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=c}}function Cu(s,o,a){const c=yn(s);let h=0;for(;h<a.length;){const p=a[h];if("number"==typeof p){if(0!==p)break;h++;const y=a[h++],w=a[h++],E=a[h++];c?s.setAttribute(o,w,E,y):o.setAttributeNS(y,w,E)}else{const y=p,w=a[++h];Hi(y)?c&&s.setProperty(o,y,w):c?s.setAttribute(o,y,w):o.setAttribute(y,w),h++}}return h}function Cn(s){return 3===s||4===s||6===s}function Hi(s){return 64===s.charCodeAt(0)}function ai(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let a=-1;for(let c=0;c<o.length;c++){const h=o[c];"number"==typeof h?a=h:0===a||hn(s,a,h,null,-1===a||2===a?o[++c]:null)}}return s}function hn(s,o,a,c,h){let p=0,y=s.length;if(-1===o)y=-1;else for(;p<s.length;){const w=s[p++];if("number"==typeof w){if(w===o){y=-1;break}if(w>o){y=p-1;break}}}for(;p<s.length;){const w=s[p];if("number"==typeof w)break;if(w===a){if(null===c)return void(null!==h&&(s[p+1]=h));if(c===s[p+1])return void(s[p+2]=h)}p++,null!==c&&p++,null!==h&&p++}-1!==y&&(s.splice(y,0,o),p=y+1),s.splice(p++,0,a),null!==c&&s.splice(p++,0,c),null!==h&&s.splice(p++,0,h)}function mt(s){return-1!==s}function Et(s){return 32767&s}function fn(s,o){let a=function $i(s){return s>>16}(s),c=o;for(;a>0;)c=c[15],a--;return c}let _l=!0;function rr(s){const o=_l;return _l=s,o}let Iu=0;function Uo(s,o){const a=Fn(s,o);if(-1!==a)return a;const c=o[1];c.firstCreatePass&&(s.injectorIndex=o.length,hs(c.data,s),hs(o,null),hs(c.blueprint,null));const h=qr(s,o),p=s.injectorIndex;if(mt(h)){const y=Et(h),w=fn(h,o),E=w[1].data;for(let A=0;A<8;A++)o[p+A]=w[y+A]|E[y+A]}return o[p+8]=h,p}function hs(s,o){s.push(0,0,0,0,0,0,0,0,o)}function Fn(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function qr(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let a=0,c=null,h=o;for(;null!==h;){const p=h[1],y=p.type;if(c=2===y?p.declTNode:1===y?h[6]:null,null===c)return-1;if(a++,h=h[15],-1!==c.injectorIndex)return c.injectorIndex|a<<16}return-1}function go(s,o,a){!function Bo(s,o,a){let c;"string"==typeof a?c=a.charCodeAt(0)||0:a.hasOwnProperty(pt)&&(c=a[pt]),null==c&&(c=a[pt]=Iu++);const h=255&c;o.data[s+(h>>5)]|=1<<h}(s,o,a)}function mo(s,o,a){if(a&ht.Optional)return s;_e(o,"NodeInjector")}function va(s,o,a,c){if(a&ht.Optional&&void 0===c&&(c=null),0==(a&(ht.Self|ht.Host))){const h=s[9],p=Wn(void 0);try{return h?h.get(o,c,a&ht.Optional):ni(o,c,a&ht.Optional)}finally{Wn(p)}}return mo(c,o,a)}function ba(s,o,a,c=ht.Default,h){if(null!==s){const p=function Fc(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(pt)?s[pt]:void 0;return"number"==typeof o?o>=0?255&o:wa:o}(a);if("function"==typeof p){if(!vu(o,s,c))return c&ht.Host?mo(h,a,c):va(o,a,c,h);try{const y=p(c);if(null!=y||c&ht.Optional)return y;_e(a)}finally{xc()}}else if("number"==typeof p){let y=null,w=Fn(s,o),E=-1,A=c&ht.Host?o[16][6]:null;for((-1===w||c&ht.SkipSelf)&&(E=-1===w?qr(s,o):o[w+8],-1!==E&&jn(c,!1)?(y=o[1],w=Et(E),o=fn(E,o)):w=-1);-1!==w;){const N=o[1];if(vl(p,w,N.data)){const P=cp(w,o,a,y,c,A);if(P!==_o)return P}E=o[w+8],-1!==E&&jn(c,o[1].data[w+8]===A)&&vl(p,w,o)?(y=N,w=Et(E),o=fn(E,o)):w=-1}}}return va(o,a,c,h)}const _o={};function wa(){return new Wi(En(),De())}function cp(s,o,a,c,h,p){const y=o[1],w=y.data[s+8],N=yl(w,y,a,null==c?As(w)&&_l:c!=y&&0!=(3&w.type),h&ht.Host&&p===w);return null!==N?rn(o,y,N,w):_o}function yl(s,o,a,c,h){const p=s.providerIndexes,y=o.data,w=1048575&p,E=s.directiveStart,N=p>>20,U=h?w+N:s.directiveEnd;for(let z=c?w:w+N;z<U;z++){const me=y[z];if(z<E&&a===me||z>=E&&me.type===a)return z}if(h){const z=y[E];if(z&&Gr(z)&&z.type===a)return E}return null}function rn(s,o,a,c){let h=s[a];const p=o.data;if(function Rc(s){return s instanceof Vo}(h)){const y=h;y.resolving&&function rt(s,o){const a=o?`. Dependency path: ${o.join(" > ")} > ${s}`:"";throw new xe(-200,`Circular dependency in DI detected for ${s}${a}`)}(be(p[a]));const w=rr(y.canSeeViewProviders);y.resolving=!0;const E=y.injectImpl?Wn(y.injectImpl):null;vu(s,c,ht.Default);try{h=s[a]=y.factory(void 0,p,s,c),o.firstCreatePass&&a>=c.directiveStart&&function Du(s,o,a){const{ngOnChanges:c,ngOnInit:h,ngDoCheck:p}=o.type.prototype;if(c){const y=ha(o);(a.preOrderHooks||(a.preOrderHooks=[])).push(s,y),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(s,y)}h&&(a.preOrderHooks||(a.preOrderHooks=[])).push(0-s,h),p&&((a.preOrderHooks||(a.preOrderHooks=[])).push(s,p),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(s,p))}(a,p[a],o)}finally{null!==E&&Wn(E),rr(w),y.resolving=!1,xc()}}return h}function vl(s,o,a){return!!(a[o+(s>>5)]&1<<s)}function jn(s,o){return!(s&ht.Self||s&ht.Host&&o)}class Wi{constructor(o,a){this._tNode=o,this._lView=a}get(o,a,c){return ba(this._tNode,this._lView,o,c,a)}}function Lc(s){return vn(()=>{const o=s.prototype.constructor,a=o[tt]||jo(o),c=Object.prototype;let h=Object.getPrototypeOf(s.prototype).constructor;for(;h&&h!==c;){const p=h[tt]||jo(h);if(p&&p!==a)return p;h=Object.getPrototypeOf(h)}return p=>new p})}function jo(s){return We(s)?()=>{const o=jo(J(s));return o&&o()}:Hr(s)}function bl(s){return function Su(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const a=s.attrs;if(a){const c=a.length;let h=0;for(;h<c;){const p=a[h];if(Cn(p))break;if(0===p)h+=2;else if("number"==typeof p)for(h++;h<c&&"string"==typeof a[h];)h++;else{if(p===o)return a[h+1];h+=2}}}return null}(En(),s)}const Go="__parameters__";function Us(s,o,a){return vn(()=>{const c=function Au(s){return function(...a){if(s){const c=s(...a);for(const h in c)this[h]=c[h]}}}(o);function h(...p){if(this instanceof h)return c.apply(this,p),this;const y=new h(...p);return w.annotation=y,w;function w(E,A,N){const P=E.hasOwnProperty(Go)?E[Go]:Object.defineProperty(E,Go,{value:[]})[Go];for(;P.length<=N;)P.push(null);return(P[N]=P[N]||[]).push(y),E}}return a&&(h.prototype=Object.create(a.prototype)),h.prototype.ngMetadataName=s,h.annotationCls=h,h})}class bn{constructor(o,a){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=tn({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}toString(){return`InjectionToken ${this._desc}`}}const ch=new bn("AnalyzeForEntryComponents");function nn(s,o){void 0===o&&(o=s);for(let a=0;a<s.length;a++){let c=s[a];Array.isArray(c)?(o===s&&(o=s.slice(0,a)),nn(c,o)):o!==s&&o.push(c)}return o}function _n(s,o){s.forEach(a=>Array.isArray(a)?_n(a,o):o(a))}function El(s,o,a){o>=s.length?s.push(a):s.splice(o,0,a)}function js(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function Ci(s,o){const a=[];for(let c=0;c<s;c++)a.push(o);return a}function wn(s,o,a){let c=yo(s,o);return c>=0?s[1|c]=a:(c=~c,function Ou(s,o,a,c){let h=s.length;if(h==o)s.push(a,c);else if(1===h)s.push(c,s[0]),s[0]=a;else{for(h--,s.push(s[h-1],s[h]);h>o;)s[h]=s[h-2],h--;s[o]=a,s[o+1]=c}}(s,c,o,a)),c}function Uc(s,o){const a=yo(s,o);if(a>=0)return s[1|a]}function yo(s,o){return function vo(s,o,a){let c=0,h=s.length>>a;for(;h!==c;){const p=c+(h-c>>1),y=s[p<<a];if(o===y)return p<<a;y>o?h=p:c=p+1}return~(h<<a)}(s,o,1)}const Gs={},Ho="__NG_DI_FLAG__",Il="ngTempTokenPath",T=/\n/gm,L="__source",q=pe({provide:String,useValue:pe});let ee;function Me(s){const o=ee;return ee=s,o}function Je(s,o=ht.Default){if(void 0===ee)throw new xe(203,"");return null===ee?ni(s,void 0,o):ee.get(s,o&ht.Optional?null:void 0,o)}function st(s,o=ht.Default){return(function er(){return jr}()||Je)(J(s),o)}const Ht=st;function Tt(s){const o=[];for(let a=0;a<s.length;a++){const c=J(s[a]);if(Array.isArray(c)){if(0===c.length)throw new xe(900,"");let h,p=ht.Default;for(let y=0;y<c.length;y++){const w=c[y],E=On(w);"number"==typeof E?-1===E?h=w.token:p|=E:h=w}o.push(st(h,p))}else o.push(st(c))}return o}function Ln(s,o){return s[Ho]=o,s.prototype[Ho]=o,s}function On(s){return s[Ho]}const Ii=Ln(Us("Inject",s=>({token:s})),-1),ui=Ln(Us("Optional"),8),Ki=Ln(Us("SkipSelf"),4);let mh;function Fu(s){var o;return(null===(o=function pp(){if(void 0===mh&&(mh=null,Gt.trustedTypes))try{mh=Gt.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch(s){}return mh}())||void 0===o?void 0:o.createHTML(s))||s}class Vu{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function $s(s){return s instanceof Vu?s.changingThisBreaksApplicationSecurity:s}class bh{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const a=(new window.DOMParser).parseFromString(Fu(o),"text/html").body;return null===a?this.inertDocumentHelper.getInertBodyElement(o):(a.removeChild(a.firstChild),a)}catch(a){return null}}}class Wm{constructor(o){if(this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const a=this.inertDocument.createElement("html");this.inertDocument.appendChild(a);const c=this.inertDocument.createElement("body");a.appendChild(c)}}getInertBodyElement(o){const a=this.inertDocument.createElement("template");if("content"in a)return a.innerHTML=Fu(o),a;const c=this.inertDocument.createElement("body");return c.innerHTML=Fu(o),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(c),c}stripCustomNsAttrs(o){const a=o.attributes;for(let h=a.length-1;0<h;h--){const y=a.item(h).name;("xmlns:ns1"===y||0===y.indexOf("ns1:"))&&o.removeAttribute(y)}let c=o.firstChild;for(;c;)c.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(c),c=c.nextSibling}}const bo=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,E0=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function $o(s){return(s=String(s)).match(bo)||s.match(E0)?s:"unsafe:"+s}function Nl(s){return(s=String(s)).split(",").map(o=>$o(o.trim())).join(", ")}function zr(s){const o={};for(const a of s.split(","))o[a]=!0;return o}function Ws(...s){const o={};for(const a of s)for(const c in a)a.hasOwnProperty(c)&&(o[c]=!0);return o}const Ml=zr("area,br,col,hr,img,wbr"),qc=zr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),zc=zr("rp,rt"),xl=Ws(Ml,Ws(qc,zr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ws(zc,zr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Ws(zc,qc)),Bu=zr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Ol=zr("srcset"),Uu=Ws(Bu,Ol,zr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),zr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"));var ir=(()=>((ir=ir||{})[ir.NONE=0]="NONE",ir[ir.HTML=1]="HTML",ir[ir.STYLE=2]="STYLE",ir[ir.SCRIPT=3]="SCRIPT",ir[ir.URL=4]="URL",ir[ir.RESOURCE_URL=5]="RESOURCE_URL",ir))();function Ep(s){const o=function ju(){const s=De();return s&&s[12]}();return o?o.sanitize(ir.URL,s)||"":function Al(s,o){const a=function mp(s){return s instanceof Vu&&s.getTypeName()||null}(s);if(null!=a&&a!==o){if("ResourceURL"===a&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${a} (see https://g.co/ng/security#xss)`)}return a===o}(s,"URL")?$s(s):$o(he(s))}const Xc="__ngContext__";function Pr(s,o){s[Xc]=o}function Gu(s){const o=function qo(s){return s[Xc]||null}(s);return o?Array.isArray(o)?o:o.lView:null}function rd(s){return s.ngOriginalError}function Wu(s,...o){s.error(...o)}class mr{constructor(){this._console=console}handleError(o){const a=this._findOriginalError(o),c=function Xm(s){return s&&s.ngErrorLogger||Wu}(o);c(this._console,"ERROR",o),a&&c(this._console,"ORIGINAL ERROR",a)}_findOriginalError(o){let a=o&&rd(o);for(;a&&rd(a);)a=rd(a);return a||null}}const e_=/^>|^->|<!--|-->|--!>|<!-$/g,zo=/(<|>)/;const n_=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Gt))();function g(s){return s instanceof Function?s():s}var ie=(()=>((ie=ie||{})[ie.Important=1]="Important",ie[ie.DashCase=2]="DashCase",ie))();let Le;function it(s,o){return Le(s,o)}function In(s){const o=s[3];return ii(o)?o[3]:o}function Sh(s){return ld(s[13])}function Vl(s){return ld(s[4])}function ld(s){for(;null!==s&&!ii(s);)s=s[4];return s}function Zo(s,o,a,c,h){if(null!=c){let p,y=!1;ii(c)?p=c:wi(c)&&(y=!0,c=c[0]);const w=un(c);0===s&&null!==a?null==h?s_(o,a,w):qu(o,a,w,h||null,!0):1===s&&null!==a?qu(o,a,w,h||null,!0):2===s?_s(o,w,y):3===s&&o.destroyNode(w),null!=p&&function hd(s,o,a,c,h){const p=a[7];p!==un(a)&&Zo(o,s,c,p,h);for(let w=10;w<a.length;w++){const E=a[w];Ks(E[1],E,s,o,c,p)}}(o,s,p,a,h)}}function ud(s,o){return yn(s)?s.createText(o):s.createTextNode(o)}function xp(s,o,a){yn(s)?s.setValue(o,a):o.textContent=a}function Ah(s,o){return s.createComment(function sd(s){return s.replace(e_,o=>o.replace(zo,"\u200b$1\u200b"))}(o))}function xa(s,o,a){if(yn(s))return s.createElement(o,a);{const c=null!==a?function sl(s){const o=s.toLowerCase();return"svg"===o?"http://www.w3.org/2000/svg":"math"===o?"http://www.w3.org/1998/MathML/":null}(a):null;return null===c?s.createElement(o):s.createElementNS(c,o)}}function Yi(s,o){const a=s[9],c=a.indexOf(o),h=o[3];1024&o[2]&&(o[2]&=-1025,Ps(h,-1)),a.splice(c,1)}function Mh(s,o){if(s.length<=10)return;const a=10+o,c=s[a];if(c){const h=c[17];null!==h&&h!==s&&Yi(h,c),o>0&&(s[a-1][4]=c[4]);const p=js(s,10+o);!function zs(s,o){Ks(s,o,o[11],2,null,null),o[0]=null,o[6]=null}(c[1],c);const y=p[19];null!==y&&y.detachView(p[1]),c[3]=null,c[4]=null,c[2]&=-129}return c}function cd(s,o){if(!(256&o[2])){const a=o[11];yn(a)&&a.destroyNode&&Ks(s,o,a,3,null,null),function ms(s){let o=s[13];if(!o)return Bl(s[1],s);for(;o;){let a=null;if(wi(o))a=o[13];else{const c=o[10];c&&(a=c)}if(!a){for(;o&&!o[4]&&o!==s;)wi(o)&&Bl(o[1],o),o=o[3];null===o&&(o=s),wi(o)&&Bl(o[1],o),a=o&&o[4]}o=a}}(o)}}function Bl(s,o){if(!(256&o[2])){o[2]&=-129,o[2]|=256,function Z1(s,o){let a;if(null!=s&&null!=(a=s.destroyHooks))for(let c=0;c<a.length;c+=2){const h=o[a[c]];if(!(h instanceof Vo)){const p=a[c+1];if(Array.isArray(p))for(let y=0;y<p.length;y+=2){const w=h[p[y]],E=p[y+1];try{E.call(w)}finally{}}else try{p.call(h)}finally{}}}}(s,o),function xh(s,o){const a=s.cleanup,c=o[7];let h=-1;if(null!==a)for(let p=0;p<a.length-1;p+=2)if("string"==typeof a[p]){const y=a[p+1],w="function"==typeof y?y(o):un(o[y]),E=c[h=a[p+2]],A=a[p+3];"boolean"==typeof A?w.removeEventListener(a[p],E,A):A>=0?c[h=A]():c[h=-A].unsubscribe(),p+=2}else{const y=c[h=a[p+1]];a[p].call(y)}if(null!==c){for(let p=h+1;p<c.length;p++)c[p]();o[7]=null}}(s,o),1===o[1].type&&yn(o[11])&&o[11].destroy();const a=o[17];if(null!==a&&ii(o[3])){a!==o[3]&&Yi(a,o);const c=o[19];null!==c&&c.detachView(s)}}}function i_(s,o,a){return dd(s,o.parent,a)}function dd(s,o,a){let c=o;for(;null!==c&&40&c.type;)c=(o=c).parent;if(null===c)return a[0];if(2&c.flags){const h=s.data[c.directiveStart].encapsulation;if(h===qt.None||h===qt.Emulated)return null}return Dr(c,a)}function qu(s,o,a,c,h){yn(s)?s.insertBefore(o,a,c,h):o.insertBefore(a,c,h)}function s_(s,o,a){yn(s)?s.appendChild(o,a):o.appendChild(a)}function o_(s,o,a,c,h){null!==c?qu(s,o,a,c,h):s_(s,o,a)}function Rp(s,o){return yn(s)?s.parentNode(o):o.parentNode}function I0(s,o,a){return A0(s,o,a)}function S0(s,o,a){return 40&s.type?Dr(s,a):null}let a_,A0=S0;function N0(s,o){A0=s,a_=o}function kp(s,o,a,c){const h=i_(s,c,o),p=o[11],w=I0(c.parent||o[6],c,o);if(null!=h)if(Array.isArray(a))for(let E=0;E<a.length;E++)o_(p,h,a[E],w,!1);else o_(p,h,a,w,!1);void 0!==a_&&a_(p,c,o,a,h)}function Pp(s,o){if(null!==o){const a=o.type;if(3&a)return Dr(o,s);if(4&a)return Ul(-1,s[o.index]);if(8&a){const c=o.child;if(null!==c)return Pp(s,c);{const h=s[o.index];return ii(h)?Ul(-1,h):un(h)}}if(32&a)return it(o,s)()||un(s[o.index]);{const c=Zs(s,o);return null!==c?Array.isArray(c)?c[0]:Pp(In(s[16]),c):Pp(s,o.next)}}return null}function Zs(s,o){return null!==o?s[16][6].projection[o.projection]:null}function Ul(s,o){const a=10+s+1;if(a<o.length){const c=o[a],h=c[1].firstChild;if(null!==h)return Pp(c,h)}return o[7]}function _s(s,o,a){const c=Rp(s,o);c&&function K1(s,o,a,c){yn(s)?s.removeChild(o,a,c):o.removeChild(a)}(s,c,o,a)}function Oh(s,o,a,c,h,p,y){for(;null!=a;){const w=c[a.index],E=a.type;if(y&&0===o&&(w&&Pr(un(w),c),a.flags|=4),64!=(64&a.flags))if(8&E)Oh(s,o,a.child,c,h,p,!1),Zo(o,s,h,w,p);else if(32&E){const A=it(a,c);let N;for(;N=A();)Zo(o,s,h,N,p);Zo(o,s,h,w,p)}else 16&E?Rh(s,o,c,a,h,p):Zo(o,s,h,w,p);a=y?a.projectionNext:a.next}}function Ks(s,o,a,c,h,p){Oh(a,c,s.firstChild,o,h,p,!1)}function Rh(s,o,a,c,h,p){const y=a[16],E=y[6].projection[c.projection];if(Array.isArray(E))for(let A=0;A<E.length;A++)Zo(o,s,h,E[A],p);else Oh(s,o,E,y[3],h,p,!0)}function Fp(s,o,a){yn(s)?s.setAttribute(o,"style",a):o.style.cssText=a}function kh(s,o,a){yn(s)?""===a?s.removeAttribute(o,"class"):s.setAttribute(o,"class",a):o.className=a}function M0(s,o,a){let c=s.length;for(;;){const h=s.indexOf(o,a);if(-1===h)return h;if(0===h||s.charCodeAt(h-1)<=32){const p=o.length;if(h+p===c||s.charCodeAt(h+p)<=32)return h}a=h+1}}const x0="ng-template";function Ko(s,o,a){let c=0;for(;c<s.length;){let h=s[c++];if(a&&"class"===h){if(h=s[c],-1!==M0(h.toLowerCase(),o,0))return!0}else if(1===h){for(;c<s.length&&"string"==typeof(h=s[c++]);)if(h.toLowerCase()===o)return!0;return!1}}return!1}function Ph(s){return 4===s.type&&s.value!==x0}function l_(s,o,a){return o===(4!==s.type||a?s.value:x0)}function O0(s,o,a){let c=4;const h=s.attrs||[],p=function Fh(s){for(let o=0;o<s.length;o++)if(Cn(s[o]))return o;return s.length}(h);let y=!1;for(let w=0;w<o.length;w++){const E=o[w];if("number"!=typeof E){if(!y)if(4&c){if(c=2|1&c,""!==E&&!l_(s,E,a)||""===E&&1===o.length){if(Ni(c))return!1;y=!0}}else{const A=8&c?E:o[++w];if(8&c&&null!==s.attrs){if(!Ko(s.attrs,A,a)){if(Ni(c))return!1;y=!0}continue}const P=J1(8&c?"class":E,h,Ph(s),a);if(-1===P){if(Ni(c))return!1;y=!0;continue}if(""!==A){let U;U=P>p?"":h[P+1].toLowerCase();const z=8&c?U:null;if(z&&-1!==M0(z,A,0)||2&c&&A!==U){if(Ni(c))return!1;y=!0}}}}else{if(!y&&!Ni(c)&&!Ni(E))return!1;if(y&&Ni(E))continue;y=!1,c=E|1&c}}return Ni(c)||y}function Ni(s){return 0==(1&s)}function J1(s,o,a,c){if(null===o)return-1;let h=0;if(c||!a){let p=!1;for(;h<o.length;){const y=o[h];if(y===s)return h;if(3===y||6===y)p=!0;else{if(1===y||2===y){let w=o[++h];for(;"string"==typeof w;)w=o[++h];continue}if(4===y)break;if(0===y){h+=4;continue}}h+=p?1:2}return-1}return function R0(s,o){let a=s.indexOf(4);if(a>-1)for(a++;a<s.length;){const c=s[a];if("number"==typeof c)return-1;if(c===o)return a;a++}return-1}(o,s)}function u_(s,o,a=!1){for(let c=0;c<o.length;c++)if(O0(s,o[c],a))return!0;return!1}function c_(s,o){e:for(let a=0;a<o.length;a++){const c=o[a];if(s.length===c.length){for(let h=0;h<s.length;h++)if(s[h]!==c[h])continue e;return!0}}return!1}function k0(s,o){return s?":not("+o.trim()+")":o}function P0(s){let o=s[0],a=1,c=2,h="",p=!1;for(;a<s.length;){let y=s[a];if("string"==typeof y)if(2&c){const w=s[++a];h+="["+y+(w.length>0?'="'+w+'"':"")+"]"}else 8&c?h+="."+y:4&c&&(h+=" "+y);else""!==h&&!Ni(y)&&(o+=k0(p,h),h=""),c=y,p=p||!Ni(c);a++}return""!==h&&(o+=k0(p,h)),o}const It={};function Lp(s){d_(Lt(),De(),Cr()+s,hl())}function d_(s,o,a,c){if(!c)if(3==(3&o[2])){const p=s.preOrderCheckHooks;null!==p&&ya(o,p,a)}else{const p=s.preOrderHooks;null!==p&&ml(o,p,0,a)}Bs(a)}function Lh(s,o){return s<<17|o<<2}function Ys(s){return s>>17&32767}function f_(s){return 2|s}function Oa(s){return(131068&s)>>2}function p_(s,o){return-131069&s|o<<2}function Zu(s){return 1|s}function j0(s,o){const a=s.contentQueries;if(null!==a)for(let c=0;c<a.length;c+=2){const h=a[c],p=a[c+1];if(-1!==p){const y=s.data[p];yu(h),y.contentQueries(2,o[p],p)}}}function Gp(s,o,a,c,h,p,y,w,E,A){const N=o.blueprint.slice();return N[0]=h,N[2]=140|c,ks(N),N[3]=N[15]=s,N[8]=a,N[10]=y||s&&s[10],N[11]=w||s&&s[11],N[12]=E||s&&s[12]||null,N[9]=A||s&&s[9]||null,N[6]=p,N[16]=2==o.type?s[16]:N,N}function pd(s,o,a,c,h){let p=s.data[o];if(null===p)p=T_(s,o,a,c,h),function gu(){return gt.lFrame.inI18n}()&&(p.flags|=64);else if(64&p.type){p.type=a,p.value=c,p.attrs=h;const y=Lo();p.injectorIndex=null===y?-1:y.injectorIndex}return Wr(p,!0),p}function T_(s,o,a,c,h){const p=Fo(),y=hu(),E=s.data[o]=function jN(s,o,a,c,h,p){return{type:a,index:c,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?p:p&&p.parent,a,o,c,h);return null===s.firstChild&&(s.firstChild=E),null!==p&&(y?null==p.child&&null!==E.parent&&(p.child=E):null===p.next&&(p.next=E)),E}function gd(s,o,a,c){if(0===a)return-1;const h=o.length;for(let p=0;p<a;p++)o.push(c),s.blueprint.push(c),s.data.push(null);return h}function Vh(s,o,a){co(o);try{const c=s.viewQuery;null!==c&&k_(1,c,a);const h=s.template;null!==h&&_E(s,o,h,1,a),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&j0(s,o),s.staticViewQueries&&k_(2,s.viewQuery,a);const p=s.components;null!==p&&function gE(s,o){for(let a=0;a<o.length;a++)VE(s,o[a])}(o,p)}catch(c){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),c}finally{o[2]&=-5,fo()}}function md(s,o,a,c){const h=o[2];if(256==(256&h))return;co(o);const p=hl();try{ks(o),function fl(s){return gt.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==a&&_E(s,o,a,2,c);const y=3==(3&h);if(!p)if(y){const A=s.preOrderCheckHooks;null!==A&&ya(o,A,null)}else{const A=s.preOrderHooks;null!==A&&ml(o,A,0,null),Un(o,0)}if(function FE(s){for(let o=Sh(s);null!==o;o=Vl(o)){if(!o[2])continue;const a=o[9];for(let c=0;c<a.length;c++){const h=a[c],p=h[3];0==(1024&h[2])&&Ps(p,1),h[2]|=1024}}}(o),function PE(s){for(let o=Sh(s);null!==o;o=Vl(o))for(let a=10;a<o.length;a++){const c=o[a],h=c[1];us(c)&&md(h,c,h.template,c[8])}}(o),null!==s.contentQueries&&j0(s,o),!p)if(y){const A=s.contentCheckHooks;null!==A&&ya(o,A)}else{const A=s.contentHooks;null!==A&&ml(o,A,1),Un(o,1)}!function fE(s,o){const a=s.hostBindingOpCodes;if(null!==a)try{for(let c=0;c<a.length;c++){const h=a[c];if(h<0)Bs(~h);else{const p=h,y=a[++c],w=a[++c];gl(y,p),w(2,o[p])}}}finally{Bs(-1)}}(s,o);const w=s.components;null!==w&&function pE(s,o){for(let a=0;a<o.length;a++)LE(s,o[a])}(o,w);const E=s.viewQuery;if(null!==E&&k_(2,E,c),!p)if(y){const A=s.viewCheckHooks;null!==A&&ya(o,A)}else{const A=s.viewHooks;null!==A&&ml(o,A,2),Un(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),p||(o[2]&=-73),1024&o[2]&&(o[2]&=-1025,Ps(o[3],-1))}finally{fo()}}function mE(s,o,a,c){const h=o[10],p=!hl(),y=Rs(o);try{p&&!y&&h.begin&&h.begin(),y&&Vh(s,o,c),md(s,o,a,c)}finally{p&&!y&&h.end&&h.end()}}function _E(s,o,a,c,h){const p=Cr(),y=2&c;try{Bs(-1),y&&o.length>20&&d_(s,o,20,hl()),a(c,h)}finally{Bs(p)}}function G0(s,o,a){!dl()||(function AE(s,o,a,c){const h=a.directiveStart,p=a.directiveEnd;s.firstCreatePass||Uo(a,o),Pr(c,o);const y=a.initialInputs;for(let w=h;w<p;w++){const E=s.data[w],A=Gr(E);A&&OE(o,a,E);const N=rn(o,s,w,a);Pr(N,o),null!==y&&RE(0,w-h,N,E,0,y),A&&(Er(a.index,o)[8]=N)}}(s,o,a,Dr(a,o)),128==(128&a.flags)&&function WN(s,o,a){const c=a.directiveStart,h=a.directiveEnd,y=a.index,w=function mu(){return gt.lFrame.currentDirectiveIndex}();try{Bs(y);for(let E=c;E<h;E++){const A=s.data[E],N=o[E];ma(E),(null!==A.hostBindings||0!==A.hostVars||null!==A.hostAttrs)&&z0(A,N)}}finally{Bs(-1),ma(w)}}(s,o,a))}function H0(s,o,a=Dr){const c=o.localNames;if(null!==c){let h=o.index+1;for(let p=0;p<c.length;p+=2){const y=c[p+1],w=-1===y?a(o,s):s[y];s[h++]=w}}}function vE(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=I_(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function I_(s,o,a,c,h,p,y,w,E,A){const N=20+c,P=N+h,U=function bE(s,o){const a=[];for(let c=0;c<o;c++)a.push(c<s?null:It);return a}(N,P),z="function"==typeof A?A():A;return U[1]={type:s,blueprint:U,template:a,queries:null,viewQuery:w,declTNode:o,data:U.slice().fill(null,N),bindingStartIndex:N,expandoStartIndex:P,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:E,consts:z,incompleteFirstPass:!1}}function DE(s,o,a,c){const h=X0(o);null===a?h.push(c):(h.push(a),s.firstCreatePass&&eb(s).push(c,h.length-1))}function EE(s,o,a){for(let c in s)if(s.hasOwnProperty(c)){const h=s[c];(a=null===a?{}:a).hasOwnProperty(c)?a[c].push(o,h):a[c]=[o,h]}return a}function Js(s,o,a,c,h,p,y,w){const E=Dr(o,a);let N,A=o.inputs;!w&&null!=A&&(N=A[c])?(HE(s,a,N,c,h),As(o)&&function GN(s,o){const a=Er(o,s);16&a[2]||(a[2]|=64)}(a,o.index)):3&o.type&&(c=function TE(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(c),h=null!=y?y(h,o.value||"",c):h,yn(p)?p.setProperty(E,c,h):Hi(c)||(E.setProperty?E.setProperty(c,h):E[c]=h))}function S_(s,o,a,c){let h=!1;if(dl()){const p=function NE(s,o,a){const c=s.directiveRegistry;let h=null;if(c)for(let p=0;p<c.length;p++){const y=c[p];u_(a,y.selectors,!1)&&(h||(h=[]),go(Uo(a,o),s,y.type),Gr(y)?(Z0(s,a),h.unshift(y)):h.push(y))}return h}(s,o,a),y=null===c?null:{"":-1};if(null!==p){h=!0,K0(a,s.data.length,p.length);for(let N=0;N<p.length;N++){const P=p[N];P.providersResolver&&P.providersResolver(P)}let w=!1,E=!1,A=gd(s,o,p.length,null);for(let N=0;N<p.length;N++){const P=p[N];a.mergedAttrs=ai(a.mergedAttrs,P.hostAttrs),Y0(s,a,o,A,P),xE(A,P,y),null!==P.contentQueries&&(a.flags|=8),(null!==P.hostBindings||null!==P.hostAttrs||0!==P.hostVars)&&(a.flags|=128);const U=P.type.prototype;!w&&(U.ngOnChanges||U.ngOnInit||U.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(a.index),w=!0),!E&&(U.ngOnChanges||U.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(a.index),E=!0),A++}!function CE(s,o){const c=o.directiveEnd,h=s.data,p=o.attrs,y=[];let w=null,E=null;for(let A=o.directiveStart;A<c;A++){const N=h[A],P=N.inputs,U=null===p||Ph(o)?null:kE(P,p);y.push(U),w=EE(P,A,w),E=EE(N.outputs,A,E)}null!==w&&(w.hasOwnProperty("class")&&(o.flags|=16),w.hasOwnProperty("style")&&(o.flags|=32)),o.initialInputs=y,o.inputs=w,o.outputs=E}(s,a)}y&&function ME(s,o,a){if(o){const c=s.localNames=[];for(let h=0;h<o.length;h+=2){const p=a[o[h+1]];if(null==p)throw new xe(-301,!1);c.push(o[h],p)}}}(a,c,y)}return a.mergedAttrs=ai(a.mergedAttrs,a.attrs),h}function q0(s,o,a,c,h,p){const y=p.hostBindings;if(y){let w=s.hostBindingOpCodes;null===w&&(w=s.hostBindingOpCodes=[]);const E=~o.index;(function SE(s){let o=s.length;for(;o>0;){const a=s[--o];if("number"==typeof a&&a<0)return a}return 0})(w)!=E&&w.push(E),w.push(c,h,y)}}function z0(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function Z0(s,o){o.flags|=2,(s.components||(s.components=[])).push(o.index)}function xE(s,o,a){if(a){if(o.exportAs)for(let c=0;c<o.exportAs.length;c++)a[o.exportAs[c]]=s;Gr(o)&&(a[""]=s)}}function K0(s,o,a){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+a,s.providerIndexes=o}function Y0(s,o,a,c,h){s.data[c]=h;const p=h.factory||(h.factory=Hr(h.type)),y=new Vo(p,Gr(h),null);s.blueprint[c]=y,a[c]=y,q0(s,o,0,c,gd(s,a,h.hostVars,It),h)}function OE(s,o,a){const c=Dr(o,s),h=vE(a),p=s[10],y=Hp(s,Gp(s,h,null,a.onPush?64:16,c,o,p,p.createRenderer(c,a),null,null));s[o.index]=y}function A_(s,o,a,c,h,p,y){if(null==p)yn(s)?s.removeAttribute(o,h,a):o.removeAttribute(h);else{const w=null==y?he(p):y(p,c||"",h);yn(s)?s.setAttribute(o,h,w,a):a?o.setAttributeNS(a,h,w):o.setAttribute(h,w)}}function RE(s,o,a,c,h,p){const y=p[o];if(null!==y){const w=c.setInput;for(let E=0;E<y.length;){const A=y[E++],N=y[E++],P=y[E++];null!==w?c.setInput(a,P,A,N):a[N]=P}}}function kE(s,o){let a=null,c=0;for(;c<o.length;){const h=o[c];if(0!==h)if(5!==h){if("number"==typeof h)break;s.hasOwnProperty(h)&&(null===a&&(a=[]),a.push(h,s[h],o[c+1])),c+=2}else c+=2;else c+=4}return a}function J0(s,o,a,c){return new Array(s,!0,!1,o,null,0,c,a,null,null)}function LE(s,o){const a=Er(o,s);if(us(a)){const c=a[1];80&a[2]?md(c,a,c.template,a[8]):a[5]>0&&N_(a)}}function N_(s){for(let c=Sh(s);null!==c;c=Vl(c))for(let h=10;h<c.length;h++){const p=c[h];if(1024&p[2]){const y=p[1];md(y,p,y.template,p[8])}else p[5]>0&&N_(p)}const a=s[1].components;if(null!==a)for(let c=0;c<a.length;c++){const h=Er(a[c],s);us(h)&&h[5]>0&&N_(h)}}function VE(s,o){const a=Er(o,s),c=a[1];(function BE(s,o){for(let a=o.length;a<s.blueprint.length;a++)o.push(s.blueprint[a])})(c,a),Vh(c,a,a[8])}function Hp(s,o){return s[13]?s[14][4]=o:s[13]=o,s[14]=o,o}function M_(s){for(;s;){s[2]|=64;const o=In(s);if(rh(s)&&!o)return s;s=o}return null}function R_(s,o,a){const c=o[10];c.begin&&c.begin();try{md(s,o,s.template,a)}catch(h){throw nb(o,h),h}finally{c.end&&c.end()}}function Q0(s){!function O_(s){for(let o=0;o<s.components.length;o++){const a=s.components[o],c=Gu(a),h=c[1];mE(h,c,h.template,a)}}(s[8])}function k_(s,o,a){yu(0),o(s,a)}const GE=(()=>Promise.resolve(null))();function X0(s){return s[7]||(s[7]=[])}function eb(s){return s.cleanup||(s.cleanup=[])}function nb(s,o){const a=s[9],c=a?a.get(mr,null):null;c&&c.handleError(o)}function HE(s,o,a,c,h){for(let p=0;p<a.length;){const y=a[p++],w=a[p++],E=o[y],A=s.data[y];null!==A.setInput?A.setInput(E,h,c,w):E[w]=h}}function P_(s,o,a){let c=a?s.styles:null,h=a?s.classes:null,p=0;if(null!==o)for(let y=0;y<o.length;y++){const w=o[y];"number"==typeof w?p=w:1==p?h=le(h,w):2==p&&(c=le(c,w+": "+o[++y]+";"))}a?s.styles=c:s.stylesWithoutHost=c,a?s.classes=h:s.classesWithoutHost=h}const rb=new bn("INJECTOR",-1);class WE{get(o,a=Gs){if(a===Gs){const c=new Error(`NullInjectorError: No provider for ${de(o)}!`);throw c.name="NullInjectorError",c}return a}}const ib=new bn("Set Injector scope."),$p={},qE={};let F_;function zE(){return void 0===F_&&(F_=new WE),F_}function ZE(s,o=null,a=null,c){const h=sb(s,o,a,c);return h._resolveInjectorDefTypes(),h}function sb(s,o=null,a=null,c){return new KE(s,a,o||zE(),c)}class KE{constructor(o,a,c,h=null){this.parent=c,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const p=[];a&&_n(a,w=>this.processProvider(w,o,a)),_n([o],w=>this.processInjectorType(w,[],p)),this.records.set(rb,_d(void 0,this));const y=this.records.get(ib);this.scope=null!=y?y.value:null,this.source=h||("object"==typeof o?null:de(o))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(o=>o.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(o,a=Gs,c=ht.Default){this.assertNotDestroyed();const h=Me(this),p=Wn(void 0);try{if(!(c&ht.SkipSelf)){let w=this.records.get(o);if(void 0===w){const E=function XN(s){return"function"==typeof s||"object"==typeof s&&s instanceof bn}(o)&&Wt(o);w=E&&this.injectableDefInScope(E)?_d(ob(o),$p):null,this.records.set(o,w)}if(null!=w)return this.hydrate(o,w)}return(c&ht.Self?zE():this.parent).get(o,a=c&ht.Optional&&a===Gs?null:a)}catch(y){if("NullInjectorError"===y.name){if((y[Il]=y[Il]||[]).unshift(de(o)),h)throw y;return function Hs(s,o,a,c){const h=s[Il];throw o[L]&&h.unshift(o[L]),s.message=function Ta(s,o,a,c=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.substr(2):s;let h=de(o);if(Array.isArray(o))h=o.map(de).join(" -> ");else if("object"==typeof o){let p=[];for(let y in o)if(o.hasOwnProperty(y)){let w=o[y];p.push(y+":"+("string"==typeof w?JSON.stringify(w):de(w)))}h=`{${p.join(", ")}}`}return`${a}${c?"("+c+")":""}[${h}]: ${s.replace(T,"\n  ")}`}("\n"+s.message,h,a,c),s.ngTokenPath=h,s[Il]=null,s}(y,o,"R3InjectorError",this.source)}throw y}finally{Wn(p),Me(h)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(o=>this.get(o))}toString(){const o=[];return this.records.forEach((c,h)=>o.push(de(h))),`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new xe(205,!1)}processInjectorType(o,a,c){if(!(o=J(o)))return!1;let h=xr(o);const p=null==h&&o.ngModule||void 0,y=void 0===p?o:p,w=-1!==c.indexOf(y);if(void 0!==p&&(h=xr(p)),null==h)return!1;if(null!=h.imports&&!w){let N;c.push(y);try{_n(h.imports,P=>{this.processInjectorType(P,a,c)&&(void 0===N&&(N=[]),N.push(P))})}finally{}if(void 0!==N)for(let P=0;P<N.length;P++){const{ngModule:U,providers:z}=N[P];_n(z,me=>this.processProvider(me,U,z||ft))}}this.injectorDefTypes.add(y);const E=Hr(y)||(()=>new y);this.records.set(y,_d(E,$p));const A=h.providers;if(null!=A&&!w){const N=o;_n(A,P=>this.processProvider(P,N,A))}return void 0!==p&&void 0!==o.providers}processProvider(o,a,c){let h=yd(o=J(o))?o:J(o&&o.provide);const p=function YE(s,o,a){return ab(s)?_d(void 0,s.useValue):_d(JE(s),$p)}(o);if(yd(o)||!0!==o.multi)this.records.get(h);else{let y=this.records.get(h);y||(y=_d(void 0,$p,!0),y.factory=()=>Tt(y.multi),this.records.set(h,y)),h=o,y.multi.push(o)}this.records.set(h,p)}hydrate(o,a){return a.value===$p&&(a.value=qE,a.value=a.factory()),"object"==typeof a.value&&a.value&&function Wp(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(a.value)&&this.onDestroy.add(a.value),a.value}injectableDefInScope(o){if(!o.providedIn)return!1;const a=J(o.providedIn);return"string"==typeof a?"any"===a||a===this.scope:this.injectorDefTypes.has(a)}}function ob(s){const o=Wt(s),a=null!==o?o.factory:Hr(s);if(null!==a)return a;if(s instanceof bn)throw new xe(204,!1);if(s instanceof Function)return function KN(s){const o=s.length;if(o>0)throw Ci(o,"?"),new xe(204,!1);const a=function ti(s){const o=s&&(s[Ui]||s[ns]);if(o){const a=function Es(s){if(s.hasOwnProperty("name"))return s.name;const o=(""+s).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${a}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${a}" class.`),o}return null}(s);return null!==a?()=>a.factory(s):()=>new s}(s);throw new xe(204,!1)}function JE(s,o,a){let c;if(yd(s)){const h=J(s);return Hr(h)||ob(h)}if(ab(s))c=()=>J(s.useValue);else if(function JN(s){return!(!s||!s.useFactory)}(s))c=()=>s.useFactory(...Tt(s.deps||[]));else if(function YN(s){return!(!s||!s.useExisting)}(s))c=()=>st(J(s.useExisting));else{const h=J(s&&(s.useClass||s.provide));if(!function QN(s){return!!s.deps}(s))return Hr(h)||ob(h);c=()=>new h(...Tt(s.deps))}return c}function _d(s,o,a=!1){return{factory:s,value:o,multi:a?[]:void 0}}function ab(s){return null!==s&&"object"==typeof s&&q in s}function yd(s){return"function"==typeof s}let Jo=(()=>{class s{static create(a,c){var h;if(Array.isArray(a))return ZE({name:""},c,a,"");{const p=null!==(h=a.name)&&void 0!==h?h:"";return ZE({name:p},a.parent,a.providers,p)}}}return s.THROW_IF_NOT_FOUND=Gs,s.NULL=new WE,s.\u0275prov=tn({token:s,providedIn:"any",factory:()=>st(rb)}),s.__NG_ELEMENT_ID__=-1,s})();function B_(s,o){cs(Gu(s)[1],En())}function Kp(s){let o=function U_(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),a=!0;const c=[s];for(;o;){let h;if(Gr(s))h=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new xe(903,"");h=o.\u0275dir}if(h){if(a){c.push(h);const y=s;y.inputs=j_(s.inputs),y.declaredInputs=j_(s.declaredInputs),y.outputs=j_(s.outputs);const w=h.hostBindings;w&&hM(s,w);const E=h.viewQuery,A=h.contentQueries;if(E&&cM(s,E),A&&dM(s,A),re(s.inputs,h.inputs),re(s.declaredInputs,h.declaredInputs),re(s.outputs,h.outputs),Gr(h)&&h.data.animation){const N=s.data;N.animation=(N.animation||[]).concat(h.data.animation)}}const p=h.features;if(p)for(let y=0;y<p.length;y++){const w=p[y];w&&w.ngInherit&&w(s),w===Kp&&(a=!1)}}o=Object.getPrototypeOf(o)}!function uM(s){let o=0,a=null;for(let c=s.length-1;c>=0;c--){const h=s[c];h.hostVars=o+=h.hostVars,h.hostAttrs=ai(h.hostAttrs,a=ai(a,h.hostAttrs))}}(c)}function j_(s){return s===lr?{}:s===ft?[]:s}function cM(s,o){const a=s.viewQuery;s.viewQuery=a?(c,h)=>{o(c,h),a(c,h)}:o}function dM(s,o){const a=s.contentQueries;s.contentQueries=a?(c,h,p)=>{o(c,h,p),a(c,h,p)}:o}function hM(s,o){const a=s.hostBindings;s.hostBindings=a?(c,h)=>{o(c,h),a(c,h)}:o}let Yp=null;function Ju(){if(!Yp){const s=Gt.Symbol;if(s&&s.iterator)Yp=s.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let a=0;a<o.length;++a){const c=o[a];"entries"!==c&&"size"!==c&&Map.prototype[c]===Map.prototype.entries&&(Yp=c)}}}return Yp}function Jp(s){return!!Qp(s)&&(Array.isArray(s)||!(s instanceof Map)&&Ju()in s)}function Qp(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function Ji(s,o,a){return s[o]=a}function di(s,o,a){return!Object.is(s[o],a)&&(s[o]=a,!0)}function Qu(s,o,a,c){const h=di(s,o,a);return di(s,o+1,c)||h}function eg(s,o,a,c){const h=De();return di(h,Ls(),o)&&(Lt(),function Yo(s,o,a,c,h,p){const y=Dr(s,o);A_(o[11],y,p,s.value,a,c,h)}(Mn(),h,s,o,a,c)),eg}function Xs(s,o,a,c){return di(s,Ls(),a)?o+he(a)+c:It}function pb(s,o,a,c,h,p,y,w){const E=De(),A=Lt(),N=s+20,P=A.firstCreatePass?function pM(s,o,a,c,h,p,y,w,E){const A=o.consts,N=pd(o,s,4,y||null,$r(A,w));S_(o,a,N,$r(A,E)),cs(o,N);const P=N.tViews=I_(2,N,c,h,p,o.directiveRegistry,o.pipeRegistry,null,o.schemas,A);return null!==o.queries&&(o.queries.template(o,N),P.queries=o.queries.embeddedTView(N)),N}(N,A,E,o,a,c,h,p,y):A.data[N];Wr(P,!1);const U=E[11].createComment("");kp(A,E,U,P),Pr(U,E),Hp(E,E[N]=J0(U,E,U,P)),Xa(P)&&G0(A,E,P),null!=y&&H0(E,P,w)}function pC(s){return Di(function pu(){return gt.lFrame.contextLView}(),20+s)}function Ed(s,o=ht.Default){const a=De();return null===a?st(s,o):ba(En(),a,J(s),o)}function Eb(){throw new Error("invalid")}function Cb(s,o,a){const c=De();return di(c,Ls(),o)&&Js(Lt(),Mn(),c,s,o,c[11],a,!1),Cb}function z_(s,o,a,c,h){const y=h?"class":"style";HE(s,a,o.inputs[y],y,c)}function Z_(s,o,a,c){const h=De(),p=Lt(),y=20+s,w=h[11],E=h[y]=xa(w,o,function Lm(){return gt.lFrame.currentNamespace}()),A=p.firstCreatePass?function DM(s,o,a,c,h,p,y){const w=o.consts,A=pd(o,s,2,h,$r(w,p));return S_(o,a,A,$r(w,y)),null!==A.attrs&&P_(A,A.attrs,!1),null!==A.mergedAttrs&&P_(A,A.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,A),A}(y,p,h,0,o,a,c):p.data[y];Wr(A,!0);const N=A.mergedAttrs;null!==N&&Cu(w,E,N);const P=A.classes;null!==P&&kh(w,E,P);const U=A.styles;return null!==U&&Fp(w,E,U),64!=(64&A.flags)&&kp(p,h,E,A),0===function ga(){return gt.lFrame.elementDepthCount}()&&Pr(E,h),function ul(){gt.lFrame.elementDepthCount++}(),Xa(A)&&(G0(p,h,A),function yE(s,o,a){if(vc(o)){const h=o.directiveEnd;for(let p=o.directiveStart;p<h;p++){const y=s.data[p];y.contentQueries&&y.contentQueries(1,a[p],p)}}}(p,A,h)),null!==c&&H0(h,A),Z_}function rg(){let s=En();hu()?fu():(s=s.parent,Wr(s,!1));const o=s;!function cl(){gt.lFrame.elementDepthCount--}();const a=Lt();return a.firstCreatePass&&(cs(a,s),vc(s)&&a.queries.elementEnd(s)),null!=o.classesWithoutHost&&function lh(s){return 0!=(16&s.flags)}(o)&&z_(a,o,De(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function up(s){return 0!=(32&s.flags)}(o)&&z_(a,o,De(),o.stylesWithoutHost,!1),rg}function Tb(s,o,a,c){return Z_(s,o,a,c),rg(),Tb}function MC(){return De()}function Ab(s){return!!s&&"function"==typeof s.then}function xC(s){return!!s&&"function"==typeof s.subscribe}const OC=xC;function Nb(s,o,a,c){const h=De(),p=Lt(),y=En();return function kC(s,o,a,c,h,p,y,w){const E=Xa(c),N=s.firstCreatePass&&eb(s),P=o[8],U=X0(o);let z=!0;if(3&c.type||w){const Ue=Dr(c,o),Qe=w?w(Ue):Ue,Ce=U.length,_t=w?Pt=>w(un(Pt[c.index])):c.index;if(yn(a)){let Pt=null;if(!w&&E&&(Pt=function CM(s,o,a,c){const h=s.cleanup;if(null!=h)for(let p=0;p<h.length-1;p+=2){const y=h[p];if(y===a&&h[p+1]===c){const w=o[7],E=h[p+2];return w.length>E?w[E]:null}"string"==typeof y&&(p+=2)}return null}(s,o,h,c.index)),null!==Pt)(Pt.__ngLastListenerFn__||Pt).__ngNextListenerFn__=p,Pt.__ngLastListenerFn__=p,z=!1;else{p=xb(c,o,P,p,!1);const pn=a.listen(Qe,h,p);U.push(p,pn),N&&N.push(h,_t,Ce,Ce+1)}}else p=xb(c,o,P,p,!0),Qe.addEventListener(h,p,y),U.push(p),N&&N.push(h,_t,Ce,y)}else p=xb(c,o,P,p,!1);const me=c.outputs;let Re;if(z&&null!==me&&(Re=me[h])){const Ue=Re.length;if(Ue)for(let Qe=0;Qe<Ue;Qe+=2){const fi=o[Re[Qe]][Re[Qe+1]].subscribe(p),eu=U.length;U.push(p,fi),N&&N.push(h,c.index,eu,-(eu+1))}}}(p,h,h[11],y,s,o,!!a,c),Nb}function Mb(s,o,a,c){try{return!1!==a(c)}catch(h){return nb(s,h),!1}}function xb(s,o,a,c,h){return function p(y){if(y===Function)return c;const w=2&s.flags?Er(s.index,o):o;0==(32&o[2])&&M_(w);let E=Mb(o,0,c,y),A=p.__ngNextListenerFn__;for(;A;)E=Mb(o,0,A,y)&&E,A=A.__ngNextListenerFn__;return h&&!1===E&&(y.preventDefault(),y.returnValue=!1),E}}function PC(s=1){return function Vs(s){return(gt.lFrame.contextLView=function bu(s,o){for(;s>0;)o=o[15],s--;return o}(s,gt.lFrame.contextLView))[8]}(s)}function TM(s,o){let a=null;const c=function Q1(s){const o=s.attrs;if(null!=o){const a=o.indexOf(5);if(0==(1&a))return o[a+1]}return null}(s);for(let h=0;h<o.length;h++){const p=o[h];if("*"!==p){if(null===c?u_(s,p,!0):c_(c,p))return h}else a=h}return a}function FC(s){const o=De()[16][6];if(!o.projection){const c=o.projection=Ci(s?s.length:1,null),h=c.slice();let p=o.child;for(;null!==p;){const y=s?TM(p,s):0;null!==y&&(h[y]?h[y].projectionNext=p:c[y]=p,h[y]=p),p=p.next}}}function LC(s,o=0,a){const c=De(),h=Lt(),p=pd(h,20+s,16,null,a||null);null===p.projection&&(p.projection=o),fu(),64!=(64&p.flags)&&function zu(s,o,a){Rh(o[11],0,o,a,i_(s,a,o),I0(a.parent||o[6],a,o))}(h,c,p)}function Ob(s,o,a){return Gh(s,"",o,"",a),Ob}function Gh(s,o,a,c,h){const p=De(),y=Xs(p,o,a,c);return y!==It&&Js(Lt(),Mn(),p,s,y,p[11],h,!1),Gh}function $h(s,o,a,c,h){const p=s[a+1],y=null===o;let w=c?Ys(p):Oa(p),E=!1;for(;0!==w&&(!1===E||y);){const N=s[w+1];Fb(s[w],o)&&(E=!0,s[w+1]=c?Zu(N):f_(N)),w=c?Ys(N):Oa(N)}E&&(s[a+1]=c?f_(p):Zu(p))}function Fb(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&yo(s,o)>=0}const Sr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Lb(s){return s.substring(Sr.key,Sr.keyEnd)}function ec(s,o){const a=Sr.textEnd;return a===o?-1:(o=Sr.keyEnd=function og(s,o,a){for(;o<a&&s.charCodeAt(o)>32;)o++;return o}(s,Sr.key=o,a),nc(s,o,a))}function nc(s,o,a){for(;o<a&&s.charCodeAt(o)<=32;)o++;return o}function Vb(s,o,a){return Xo(s,o,a,!1),Vb}function Bb(s,o){return Xo(s,o,null,!0),Bb}function GC(s){!function ea(s,o,a,c){const h=Lt(),p=Ei(2);h.firstUpdatePass&&$C(h,null,p,c);const y=De();if(a!==It&&di(y,p,a)){const w=h.data[Cr()];if(KC(w,c)&&!HC(h,p)){let E=c?w.classesWithoutHost:w.stylesWithoutHost;null!==E&&(a=le(E,a||"")),z_(h,w,y,a,c)}else!function zC(s,o,a,c,h,p,y,w){h===It&&(h=ft);let E=0,A=0,N=0<h.length?h[0]:null,P=0<p.length?p[0]:null;for(;null!==N||null!==P;){const U=E<h.length?h[E+1]:void 0,z=A<p.length?p[A+1]:void 0;let Re,me=null;N===P?(E+=2,A+=2,U!==z&&(me=P,Re=z)):null===P||null!==N&&N<P?(E+=2,me=N):(A+=2,me=P,Re=z),null!==me&&zh(s,o,a,c,me,Re,y,w),N=E<h.length?h[E]:null,P=A<p.length?p[A]:null}}(h,w,y,y[11],y[p+1],y[p+1]=function Ub(s,o,a){if(null==a||""===a)return ft;const c=[],h=$s(a);if(Array.isArray(h))for(let p=0;p<h.length;p++)s(c,h[p],!0);else if("object"==typeof h)for(const p in h)h.hasOwnProperty(p)&&s(c,p,h[p]);else"string"==typeof h&&o(c,h);return c}(s,o,a),c,p)}}(wn,ka,s,!0)}function ka(s,o){for(let a=function UC(s){return function Wh(s){Sr.key=0,Sr.keyEnd=0,Sr.value=0,Sr.valueEnd=0,Sr.textEnd=s.length}(s),ec(s,nc(s,0,Sr.textEnd))}(o);a>=0;a=ec(o,a))wn(s,Lb(o),!0)}function Xo(s,o,a,c){const h=De(),p=Lt(),y=Ei(2);p.firstUpdatePass&&$C(p,s,y,c),o!==It&&di(h,y,o)&&zh(p,p.data[Cr()],h,h[11],s,h[y+1]=function ic(s,o){return null==s||("string"==typeof o?s+=o:"object"==typeof s&&(s=de($s(s)))),s}(o,a),c,y)}function HC(s,o){return o>=s.expandoStartIndex}function $C(s,o,a,c){const h=s.data;if(null===h[a+1]){const p=h[Cr()],y=HC(s,a);KC(p,c)&&null===o&&!y&&(o=!1),o=function NM(s,o,a,c){const h=function _a(s){const o=gt.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}(s);let p=c?o.residualClasses:o.residualStyles;if(null===h)0===(c?o.classBindings:o.styleBindings)&&(a=Td(a=ag(null,s,o,a,c),o.attrs,c),p=null);else{const y=o.directiveStylingLast;if(-1===y||s[y]!==h)if(a=ag(h,s,o,a,c),null===p){let E=function MM(s,o,a){const c=a?o.classBindings:o.styleBindings;if(0!==Oa(c))return s[Ys(c)]}(s,o,c);void 0!==E&&Array.isArray(E)&&(E=ag(null,s,o,E[1],c),E=Td(E,o.attrs,c),function WC(s,o,a,c){s[Ys(a?o.classBindings:o.styleBindings)]=c}(s,o,c,E))}else p=function qC(s,o,a){let c;const h=o.directiveEnd;for(let p=1+o.directiveStylingLast;p<h;p++)c=Td(c,s[p].hostAttrs,a);return Td(c,o.attrs,a)}(s,o,c)}return void 0!==p&&(c?o.residualClasses=p:o.residualStyles=p),a}(h,p,o,c),function IM(s,o,a,c,h,p){let y=p?o.classBindings:o.styleBindings,w=Ys(y),E=Oa(y);s[c]=a;let N,A=!1;if(Array.isArray(a)){const P=a;N=P[1],(null===N||yo(P,N)>0)&&(A=!0)}else N=a;if(h)if(0!==E){const U=Ys(s[w+1]);s[c+1]=Lh(U,w),0!==U&&(s[U+1]=p_(s[U+1],c)),s[w+1]=function tE(s,o){return 131071&s|o<<17}(s[w+1],c)}else s[c+1]=Lh(w,0),0!==w&&(s[w+1]=p_(s[w+1],c)),w=c;else s[c+1]=Lh(E,0),0===w?w=c:s[E+1]=p_(s[E+1],c),E=c;A&&(s[c+1]=f_(s[c+1])),$h(s,N,c,!0),$h(s,N,c,!1),function Hh(s,o,a,c,h){const p=h?s.residualClasses:s.residualStyles;null!=p&&"string"==typeof o&&yo(p,o)>=0&&(a[c+1]=Zu(a[c+1]))}(o,N,s,c,p),y=Lh(w,E),p?o.classBindings=y:o.styleBindings=y}(h,p,o,a,y,c)}}function ag(s,o,a,c,h){let p=null;const y=a.directiveEnd;let w=a.directiveStylingLast;for(-1===w?w=a.directiveStart:w++;w<y&&(p=o[w],c=Td(c,p.hostAttrs,h),p!==s);)w++;return null!==s&&(a.directiveStylingLast=w),c}function Td(s,o,a){const c=a?1:2;let h=-1;if(null!==o)for(let p=0;p<o.length;p++){const y=o[p];"number"==typeof y?h=y:h===c&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),wn(s,y,!!a||o[++p]))}return void 0===s?null:s}function zh(s,o,a,c,h,p,y,w){if(!(3&o.type))return;const E=s.data,A=E[w+1];lg(function F0(s){return 1==(1&s)}(A)?ZC(E,o,a,h,Oa(A),y):void 0)||(lg(p)||function Vp(s){return 2==(2&s)}(A)&&(p=ZC(E,null,a,h,w,y)),function fd(s,o,a,c,h){const p=yn(s);if(o)h?p?s.addClass(a,c):a.classList.add(c):p?s.removeClass(a,c):a.classList.remove(c);else{let y=-1===c.indexOf("-")?void 0:ie.DashCase;if(null==h)p?s.removeStyle(a,c,y):a.style.removeProperty(c);else{const w="string"==typeof h&&h.endsWith("!important");w&&(h=h.slice(0,-10),y|=ie.Important),p?s.setStyle(a,c,h,y):a.style.setProperty(c,h,w?"important":"")}}}(c,y,uo(Cr(),a),h,p))}function ZC(s,o,a,c,h,p){const y=null===o;let w;for(;h>0;){const E=s[h],A=Array.isArray(E),N=A?E[1]:E,P=null===N;let U=a[h+1];U===It&&(U=P?ft:void 0);let z=P?Uc(U,c):N===c?U:void 0;if(A&&!lg(z)&&(z=Uc(E,c)),lg(z)&&(w=z,y))return w;const me=s[h+1];h=y?Ys(me):Oa(me)}if(null!==o){let E=p?o.residualClasses:o.residualStyles;null!=E&&(w=Uc(E,c))}return w}function lg(s){return void 0!==s}function KC(s,o){return 0!=(s.flags&(o?16:32))}function jb(s,o=""){const a=De(),c=Lt(),h=s+20,p=c.firstCreatePass?pd(c,h,1,o,null):c.data[h],y=a[h]=ud(a[11],o);kp(c,a,y,p),Wr(p,!1)}function ug(s){return cg("",s,""),ug}function cg(s,o,a){const c=De(),h=Xs(c,s,o,a);return h!==It&&function $l(s,o,a){const c=uo(o,s);xp(s[11],c,a)}(c,Cr(),h),cg}function dg(s,o,a){const c=De();return di(c,Ls(),o)&&Js(Lt(),Mn(),c,s,o,c[11],a,!0),dg}const Sd=void 0;var kM=["en",[["a","p"],["AM","PM"],Sd],[["AM","PM"],Sd,Sd],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Sd,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Sd,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Sd,"{1} 'at' {0}",Sd],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function RM(s){const a=Math.floor(Math.abs(s)),c=s.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===c?1:5}];let Zh={};function PM(s,o,a){"string"!=typeof o&&(a=o,o=s[Dt.LocaleId]),o=o.toLowerCase().replace(/_/g,"-"),Zh[o]=s,a&&(Zh[o][Dt.ExtraData]=a)}function ny(s){const o=function iT(s){return s.toLowerCase().replace(/_/g,"-")}(s);let a=uw(o);if(a)return a;const c=o.split("-")[0];if(a=uw(c),a)return a;if("en"===c)return kM;throw new Error(`Missing locale data for the locale "${s}".`)}function rT(s){return ny(s)[Dt.PluralCase]}function uw(s){return s in Zh||(Zh[s]=Gt.ng&&Gt.ng.common&&Gt.ng.common.locales&&Gt.ng.common.locales[s]),Zh[s]}var Dt=(()=>((Dt=Dt||{})[Dt.LocaleId=0]="LocaleId",Dt[Dt.DayPeriodsFormat=1]="DayPeriodsFormat",Dt[Dt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Dt[Dt.DaysFormat=3]="DaysFormat",Dt[Dt.DaysStandalone=4]="DaysStandalone",Dt[Dt.MonthsFormat=5]="MonthsFormat",Dt[Dt.MonthsStandalone=6]="MonthsStandalone",Dt[Dt.Eras=7]="Eras",Dt[Dt.FirstDayOfWeek=8]="FirstDayOfWeek",Dt[Dt.WeekendRange=9]="WeekendRange",Dt[Dt.DateFormat=10]="DateFormat",Dt[Dt.TimeFormat=11]="TimeFormat",Dt[Dt.DateTimeFormat=12]="DateTimeFormat",Dt[Dt.NumberSymbols=13]="NumberSymbols",Dt[Dt.NumberFormats=14]="NumberFormats",Dt[Dt.CurrencyCode=15]="CurrencyCode",Dt[Dt.CurrencySymbol=16]="CurrencySymbol",Dt[Dt.CurrencyName=17]="CurrencyName",Dt[Dt.Currencies=18]="Currencies",Dt[Dt.Directionality=19]="Directionality",Dt[Dt.PluralCase=20]="PluralCase",Dt[Dt.ExtraData=21]="ExtraData",Dt))();const FM=["zero","one","two","few","many"],ry="en-US",hg={marker:"element"},iy={marker:"ICU"};var sr=(()=>((sr=sr||{})[sr.SHIFT=2]="SHIFT",sr[sr.APPEND_EAGERLY=1]="APPEND_EAGERLY",sr[sr.COMMENT=2]="COMMENT",sr))();let sT=ry;function aT(s,o,a){const c=o.insertBeforeIndex,h=Array.isArray(c)?c[0]:c;return null===h?S0(s,0,a):un(a[h])}function lT(s,o,a,c,h){const p=o.insertBeforeIndex;if(Array.isArray(p)){let y=c,w=null;if(3&o.type||(w=y,y=h),null!==y&&0==(2&o.flags))for(let E=1;E<p.length;E++)qu(s,y,a[p[E]],w,!1)}}function uT(s,o){if(s.push(o),s.length>1)for(let a=s.length-2;a>=0;a--){const c=s[a];cT(c)||jM(c,o)&&null===dT(c)&&GM(c,o.index)}}function cT(s){return!(64&s.type)}function jM(s,o){return cT(o)||s.index>o.index}function dT(s){const o=s.insertBeforeIndex;return Array.isArray(o)?o[0]:o}function GM(s,o){const a=s.insertBeforeIndex;Array.isArray(a)?a[0]=o:(N0(aT,lT),s.insertBeforeIndex=o)}function fg(s,o){const a=s.data[o];return null===a||"string"==typeof a?null:a.hasOwnProperty("currentCaseLViewIndex")?a:a.value}function hT(s,o,a){const c=T_(s,a,64,null,null);return uT(o,c),c}function sy(s,o){const a=o[s.currentCaseLViewIndex];return null===a?a:a<0?~a:a}function fT(s){return s>>>17}function pT(s){return(131070&s)>>>1}let pg=0,gg=0;function _T(s,o,a,c){const h=a[11];let y,p=null;for(let w=0;w<o.length;w++){const E=o[w];if("string"==typeof E){const A=o[++w];null===a[A]&&(a[A]=ud(h,E))}else if("number"==typeof E)switch(1&E){case 0:const A=fT(E);let N,P;if(null===p&&(p=A,y=Rp(h,c)),A===p?(N=c,P=y):(N=null,P=un(a[A])),null!==P){const Re=pT(E);qu(h,P,a[Re],N,!1);const Qe=fg(s,Re);if(null!==Qe&&"object"==typeof Qe){const Ce=sy(Qe,a);null!==Ce&&_T(s,Qe.create[Ce],a,a[Qe.anchorIdx])}}break;case 1:const z=o[++w],me=o[++w];A_(h,uo(E>>>1,a),null,null,z,me,null)}else switch(E){case iy:const A=o[++w],N=o[++w];null===a[N]&&Pr(a[N]=Ah(h,A),a);break;case hg:const P=o[++w],U=o[++w];null===a[U]&&Pr(a[U]=xa(h,P,null),a)}}}function yT(s,o,a,c,h){for(let p=0;p<a.length;p++){const y=a[p],w=a[++p];if(y&h){let E="";for(let A=p+1;A<=p+w;A++){const N=a[A];if("string"==typeof N)E+=N;else if("number"==typeof N)if(N<0)E+=he(o[c-N]);else{const P=N>>>2;switch(3&N){case 1:const U=a[++A],z=a[++A],me=s.data[P];"string"==typeof me?A_(o[11],o[P],null,me,U,E,z):Js(s,me,o,U,E,o[11],z,!1);break;case 0:const Re=o[P];null!==Re&&xp(o[11],Re,E);break;case 2:vT(s,fg(s,P),o,E);break;case 3:Kh(s,fg(s,P),c,o)}}}}else{const E=a[p+1];if(E>0&&3==(3&E)){const N=fg(s,E>>>2);o[N.currentCaseLViewIndex]<0&&Kh(s,N,c,o)}}p+=w}}function Kh(s,o,a,c){let h=c[o.currentCaseLViewIndex];if(null!==h){let p=pg;h<0&&(h=c[o.currentCaseLViewIndex]=~h,p=-1),yT(s,c,o.update[h],a,p)}}function vT(s,o,a,c){const h=function cw(s,o){let a=s.cases.indexOf(o);if(-1===a)switch(s.type){case 1:{const c=function LM(s,o){const a=rT(o)(parseInt(s,10)),c=FM[a];return void 0!==c?c:"other"}(o,function oT(){return sT}());a=s.cases.indexOf(c),-1===a&&"other"!==c&&(a=s.cases.indexOf("other"));break}case 0:a=s.cases.indexOf("other")}return-1===a?null:a}(o,c);if(sy(o,a)!==h&&(Yh(s,o,a),a[o.currentCaseLViewIndex]=null===h?null:~h,null!==h)){const y=a[o.anchorIdx];y&&_T(s,o.create[h],a,y)}}function Yh(s,o,a){let c=sy(o,a);if(null!==c){const h=o.remove[c];for(let p=0;p<h.length;p++){const y=h[p];if(y>0){const w=uo(y,a);null!==w&&_s(a[11],w)}else Yh(s,fg(s,~y),a)}}}function dw(){const s=[];let a,c,o=-1;function p(w,E){o=0;const A=sy(w,E);c=null!==A?w.remove[A]:ft}function y(){if(o<c.length){const w=c[o++];return w>0?a[w]:(s.push(o,c),p(a[1].data[~w],a),y())}return 0===s.length?null:(c=s.pop(),o=s.pop(),y())}return function h(w,E){for(a=E;s.length;)s.pop();return p(w.value,E),y}}const Zl=/\ufffd(\d+):?\d*\ufffd/gi,hw=/\ufffd(\d+)\ufffd/,fw=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,wT=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,sc=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,DT=/\uE500/g;function Nd(s,o,a,c,h,p,y){const w=gd(s,c,1,null);let E=w<<sr.SHIFT,A=Lo();o===A&&(A=null),null===A&&(E|=sr.APPEND_EAGERLY),y&&(E|=sr.COMMENT,function yt(s){void 0===Le&&(Le=s())}(dw)),h.push(E,null===p?"":p);const N=T_(s,w,y?32:1,null===p?"":p,null);uT(a,N);const P=N.index;return Wr(N,!1),null!==A&&o!==A&&function $M(s,o){let a=s.insertBeforeIndex;null===a?(N0(aT,lT),a=s.insertBeforeIndex=[null,o]):(function ze(s,o,a){s!=o&&He(a,s,o,"==")}(Array.isArray(a),!0,"Expecting array here"),a.push(o))}(A,P),N}function pw(s,o,a,c,h,p,y){const w=y.match(Zl),E=Nd(s,o,a,p,c,w?null:y,!1);w&&Md(h,y,E.index,null,0,null)}function Md(s,o,a,c,h,p){const y=s.length,w=y+1;s.push(null,null);const E=y+2,A=o.split(Zl);let N=0;for(let P=0;P<A.length;P++){const U=A[P];if(1&P){const z=h+parseInt(U,10);s.push(-1-z),N|=gw(z)}else""!==U&&s.push(U)}return s.push(a<<2|(c?1:0)),c&&s.push(c,p),s[y]=N,s[w]=s.length-E,N}function gw(s){return 1<<Math.min(s,31)}function mw(s){let o,p,a="",c=0,h=!1;for(;null!==(o=wT.exec(s));)h?o[0]===`\ufffd/*${p}\ufffd`&&(c=o.index,h=!1):(a+=s.substring(c,o.index+o[0].length),p=o[1],h=!0);return a+=s.substr(c),a}function ly(s,o,a,c,h,p){let y=0;const w={type:h.type,currentCaseLViewIndex:gd(s,o,1,null),anchorIdx:p,cases:[],create:[],remove:[],update:[]};(function AT(s,o,a){s.push(gw(o.mainBinding),2,-1-o.mainBinding,a<<2|2)})(a,h,p),function HM(s,o,a){const c=s.data[o];null===c?s.data[o]=a:c.value=a}(s,p,w);const E=h.values;for(let A=0;A<E.length;A++){const N=E[A],P=[];for(let U=0;U<N.length;U++){const z=N[U];if("string"!=typeof z){const me=P.push(z)-1;N[U]=`\x3c!--\ufffd${me}\ufffd--\x3e`}}y=ST(s,w,o,a,c,h.cases[A],N.join(""),P)|y}y&&function xd(s,o,a){s.push(o,1,a<<2|3)}(a,y,p)}function IT(s){const o=[],a=[];let c=1,h=0;const p=uy(s=s.replace(fw,function(y,w,E){return c="select"===E?0:1,h=parseInt(w.substr(1),10),""}));for(let y=0;y<p.length;){let w=p[y++].trim();1===c&&(w=w.replace(/\s*(?:=)?(\w+)\s*/,"$1")),w.length&&o.push(w);const E=uy(p[y++]);o.length>a.length&&a.push(E)}return{type:c,mainBinding:h,cases:o,values:a}}function uy(s){if(!s)return[];let o=0;const a=[],c=[],h=/[{}]/g;let p;for(h.lastIndex=0;p=h.exec(s);){const w=p.index;if("}"==p[0]){if(a.pop(),0==a.length){const E=s.substring(o,w);fw.test(E)?c.push(IT(E)):c.push(E),o=w+1}}else{if(0==a.length){const E=s.substring(o,w);c.push(E),o=w+1}a.push("{")}}const y=s.substring(o);return c.push(y),c}function ST(s,o,a,c,h,p,y,w){const E=[],A=[],N=[];o.cases.push(p),o.create.push(E),o.remove.push(A),o.update.push(N);const U=function $m(s){const o=new Wm(s);return function qm(){try{return!!(new window.DOMParser).parseFromString(Fu(""),"text/html")}catch(s){return!1}}()?new bh(o):o}(fa()).getInertBodyElement(y),z=function Pl(s){return"content"in s&&function Dp(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}(U)||U;return z?yw(s,o,a,c,E,A,N,z,h,w,0):0}function yw(s,o,a,c,h,p,y,w,E,A,N){let P=0,U=w.firstChild;for(;U;){const z=gd(s,a,1,null);switch(U.nodeType){case Node.ELEMENT_NODE:const me=U,Re=me.tagName.toLowerCase();if(xl.hasOwnProperty(Re)){_g(h,hg,Re,E,z),s.data[z]=Re;const _t=me.attributes;for(let Pt=0;Pt<_t.length;Pt++){const pn=_t.item(Pt),fi=pn.name.toLowerCase();pn.value.match(Zl)?Uu.hasOwnProperty(fi)&&Md(y,pn.value,z,pn.name,0,Bu[fi]?$o:Ol[fi]?Nl:null):dy(h,z,pn)}P=yw(s,o,a,c,h,p,y,U,z,A,N+1)|P,cy(p,z,N)}break;case Node.TEXT_NODE:const Ue=U.textContent||"",Qe=Ue.match(Zl);_g(h,null,Qe?"":Ue,E,z),cy(p,z,N),Qe&&(P=Md(y,Ue,z,null,0,null)|P);break;case Node.COMMENT_NODE:const Ce=hw.exec(U.textContent||"");if(Ce){const Pt=A[parseInt(Ce[1],10)];_g(h,iy,"",E,z),ly(s,a,c,E,Pt,z),Zt(p,z,N)}}U=U.nextSibling}return P}function cy(s,o,a){0===a&&s.push(o)}function Zt(s,o,a){0===a&&(s.push(~o),s.push(o))}function _g(s,o,a,c,h){null!==o&&s.push(o),s.push(a,h,function mT(s,o,a){return s|o<<17|a<<1}(0,c,h))}function dy(s,o,a){s.push(o<<1|1,a.name,a.value)}function Eo(s,o,a=-1){const c=Lt(),h=De(),p=20+s,y=$r(c.consts,o),w=Lo();c.firstCreatePass&&function ay(s,o,a,c,h,p){const y=Lo(),w=[],E=[],A=[[]];h=function _w(s,o){if(function TT(s){return-1===s}(o))return mw(s);{const a=s.indexOf(`:${o}\ufffd`)+2+o.toString().length,c=s.search(new RegExp(`\ufffd\\/\\*\\d+:${o}\ufffd`));return mw(s.substring(a,c))}}(h,p);const N=function Fa(s){return s.replace(DT," ")}(h).split(sc);for(let P=0;P<N.length;P++){let U=N[P];if(0==(1&P)){const z=uy(U);for(let me=0;me<z.length;me++){let Re=z[me];if(0==(1&me)){const Ue=Re;""!==Ue&&pw(s,y,A[0],w,E,a,Ue)}else{const Ue=Re;if("object"!=typeof Ue)throw new Error(`Unable to parse ICU expression in "${h}" message.`);ly(s,a,E,o,Ue,Nd(s,y,A[0],a,w,"",!0).index)}}}else{const z=47===U.charCodeAt(0),Re=(U.charCodeAt(z?1:0),20+Number.parseInt(U.substring(z?2:1)));if(z)A.shift(),Wr(Lo(),!1);else{const Ue=hT(s,A[0],Re);A.unshift([]),Wr(Ue,!0)}}}s.data[c]={create:w,update:E}}(c,null===w?0:w.index,h,p,y,a);const E=c.data[p],N=dd(c,w===h[6]?null:w,h);(function zM(s,o,a,c){const h=s[11];for(let p=0;p<o.length;p++){const y=o[p++],w=o[p],E=(y&sr.COMMENT)===sr.COMMENT,A=(y&sr.APPEND_EAGERLY)===sr.APPEND_EAGERLY,N=y>>>sr.SHIFT;let P=s[N];null===P&&(P=s[N]=E?h.createComment(w):ud(h,w)),A&&null!==a&&qu(h,a,P,c,!1)}})(h,E.create,N,w&&8&w.type?h[w.index]:null),pl(!0)}function Cw(s,o,a){Eo(s,o,a),function Ew(){pl(!1)}()}function yg(s){return function WM(s){s&&(pg|=1<<Math.min(gg,31)),gg++}(di(De(),Ls(),s)),yg}function Iw(s){!function qM(s,o,a){if(gg>0){const c=s.data[a];yT(s,o,Array.isArray(c)?c:c.update,function oi(){return gt.lFrame.bindingIndex}()-gg-1,pg)}pg=0,gg=0}(Lt(),De(),s+20)}function vg(s,o,a,c,h){if(s=J(s),Array.isArray(s))for(let p=0;p<s.length;p++)vg(s[p],o,a,c,h);else{const p=Lt(),y=De();let w=yd(s)?s:J(s.provide),E=JE(s);const A=En(),N=1048575&A.providerIndexes,P=A.directiveStart,U=A.providerIndexes>>20;if(yd(s)||!s.multi){const z=new Vo(E,h,Ed),me=La(w,o,h?N:N+U,P);-1===me?(go(Uo(A,y),p,w),bg(p,s,o.length),o.push(w),A.directiveStart++,A.directiveEnd++,h&&(A.providerIndexes+=1048576),a.push(z),y.push(z)):(a[me]=z,y[me]=z)}else{const z=La(w,o,N+U,P),me=La(w,o,N,N+U),Re=z>=0&&a[z],Ue=me>=0&&a[me];if(h&&!Ue||!h&&!Re){go(Uo(A,y),p,w);const Qe=function oc(s,o,a,c,h){const p=new Vo(s,a,Ed);return p.multi=[],p.index=o,p.componentProviders=0,Jh(p,h,c&&!a),p}(h?Qh:Xt,a.length,h,c,E);!h&&Ue&&(a[me].providerFactory=Qe),bg(p,s,o.length,0),o.push(w),A.directiveStart++,A.directiveEnd++,h&&(A.providerIndexes+=1048576),a.push(Qe),y.push(Qe)}else bg(p,s,z>-1?z:me,Jh(a[h?me:z],E,!h&&c));!h&&c&&Ue&&a[me].componentProviders++}}}function bg(s,o,a,c){const h=yd(o),p=function QE(s){return!!s.useClass}(o);if(h||p){const E=(p?J(o.useClass):o).prototype.ngOnDestroy;if(E){const A=s.destroyHooks||(s.destroyHooks=[]);if(!h&&o.multi){const N=A.indexOf(a);-1===N?A.push(a,[c,E]):A[N+1].push(c,E)}else A.push(a,E)}}}function Jh(s,o,a){return a&&s.componentProviders++,s.multi.push(o)-1}function La(s,o,a,c){for(let h=a;h<c;h++)if(o[h]===s)return h;return-1}function Xt(s,o,a,c){return hy(this.multi,[])}function Qh(s,o,a,c){const h=this.multi;let p;if(this.providerFactory){const y=this.providerFactory.componentProviders,w=rn(a,a[1],this.providerFactory.index,c);p=w.slice(0,y),hy(h,p);for(let E=y;E<w.length;E++)p.push(w[E])}else p=[],hy(h,p);return p}function hy(s,o){for(let a=0;a<s.length;a++)o.push((0,s[a])());return o}function Aw(s,o=[]){return a=>{a.providersResolver=(c,h)=>function xT(s,o,a){const c=Lt();if(c.firstCreatePass){const h=Gr(s);vg(a,c.data,c.blueprint,h,!0),vg(o,c.data,c.blueprint,h,!1)}}(c,h?h(s):s,o)}}class fy{}class Mw{resolveComponentFactory(o){throw function OT(s){const o=Error(`No component factory found for ${de(s)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=s,o}(o)}}let ac=(()=>{class s{}return s.NULL=new Mw,s})();function RT(){return Kl(En(),De())}function Kl(s,o){return new Yl(Dr(s,o))}let Yl=(()=>{class s{constructor(a){this.nativeElement=a}}return s.__NG_ELEMENT_ID__=RT,s})();function xw(s){return s instanceof Yl?s.nativeElement:s}class Ow{}let PT=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function Dg(){const s=De(),a=Er(En().index,s);return function FT(s){return s[11]}(wi(a)?a:s)}(),s})(),LT=(()=>{class s{}return s.\u0275prov=tn({token:s,providedIn:"root",factory:()=>null}),s})();class Rw{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const kw=new Rw("13.3.4"),py={};function Eg(s,o,a,c,h=!1){for(;null!==a;){const p=o[a.index];if(null!==p&&c.push(un(p)),ii(p))for(let w=10;w<p.length;w++){const E=p[w],A=E[1].firstChild;null!==A&&Eg(E[1],E,A,c)}const y=a.type;if(8&y)Eg(s,o,a.child,c);else if(32&y){const w=it(a,o);let E;for(;E=w();)c.push(E)}else if(16&y){const w=Zs(o,a);if(Array.isArray(w))c.push(...w);else{const E=In(o[16]);Eg(E[1],E,w,c,!0)}}a=h?a.projectionNext:a.next}return c}class Od{constructor(o,a){this._lView=o,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const o=this._lView,a=o[1];return Eg(a,o,a.firstChild,[])}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(ii(o)){const a=o[8],c=a?a.indexOf(this):-1;c>-1&&(Mh(o,c),js(a,c))}this._attachedToViewContainer=!1}cd(this._lView[1],this._lView)}onDestroy(o){DE(this._lView[1],this._lView,null,o)}markForCheck(){M_(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){R_(this._lView[1],this._lView,this.context)}checkNoChanges(){!function UE(s,o,a){Fs(!0);try{R_(s,o,a)}finally{Fs(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new xe(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Op(s,o){Ks(s,o,o[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new xe(902,"");this._appRef=o}}class gy extends Od{constructor(o){super(o),this._view=o}detectChanges(){Q0(this._view)}checkNoChanges(){!function jE(s){Fs(!0);try{Q0(s)}finally{Fs(!1)}}(this._view)}get context(){return null}}class Cg extends ac{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const a=zt(o);return new Tg(a,this.ngModule)}}function na(s){const o=[];for(let a in s)s.hasOwnProperty(a)&&o.push({propName:s[a],templateName:a});return o}class Tg extends fy{constructor(o,a){super(),this.componentDef=o,this.ngModule=a,this.componentType=o.type,this.selector=function X1(s){return s.map(P0).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!a}get inputs(){return na(this.componentDef.inputs)}get outputs(){return na(this.componentDef.outputs)}create(o,a,c,h){const p=(h=h||this.ngModule)?function Pw(s,o){return{get:(a,c,h)=>{const p=s.get(a,py,h);return p!==py||c===py?p:o.get(a,c,h)}}}(o,h.injector):o,y=p.get(Ow,Po),w=p.get(LT,null),E=y.createRenderer(null,this.componentDef),A=this.componentDef.selectors[0][0]||"div",N=c?function wE(s,o,a){if(yn(s))return s.selectRootElement(o,a===qt.ShadowDom);let c="string"==typeof o?s.querySelector(o):o;return c.textContent="",c}(E,c,this.componentDef.encapsulation):xa(y.createRenderer(null,this.componentDef),A,function Rd(s){const o=s.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(A)),P=this.componentDef.onPush?576:528,U=function V_(s,o){return{components:[],scheduler:s||n_,clean:GE,playerHandler:o||null,flags:0}}(),z=I_(0,null,null,1,0,null,null,null,null,null),me=Gp(null,z,U,P,null,null,y,E,w,p);let Re,Ue;co(me);try{const Qe=function Zp(s,o,a,c,h,p){const y=a[1];a[20]=s;const E=pd(y,20,2,"#host",null),A=E.mergedAttrs=o.hostAttrs;null!==A&&(P_(E,A,!0),null!==s&&(Cu(h,s,A),null!==E.classes&&kh(h,s,E.classes),null!==E.styles&&Fp(h,s,E.styles)));const N=c.createRenderer(s,o),P=Gp(a,vE(o),null,o.onPush?64:16,a[20],E,c,N,p||null,null);return y.firstCreatePass&&(go(Uo(E,a),y,o.type),Z0(y,E),K0(E,a.length,1)),Hp(a,P),a[20]=P}(N,this.componentDef,me,y,E);if(N)if(c)Cu(E,N,["ng-version",kw.full]);else{const{attrs:Ce,classes:_t}=function eE(s){const o=[],a=[];let c=1,h=2;for(;c<s.length;){let p=s[c];if("string"==typeof p)2===h?""!==p&&o.push(p,s[++c]):8===h&&a.push(p);else{if(!Ni(h))break;h=p}c++}return{attrs:o,classes:a}}(this.componentDef.selectors[0]);Ce&&Cu(E,N,Ce),_t&&_t.length>0&&kh(E,N,_t.join(" "))}if(Ue=pa(z,20),void 0!==a){const Ce=Ue.projection=[];for(let _t=0;_t<this.ngContentSelectors.length;_t++){const Pt=a[_t];Ce.push(null!=Pt?Array.from(Pt):null)}}Re=function L_(s,o,a,c,h){const p=a[1],y=function IE(s,o,a){const c=En();s.firstCreatePass&&(a.providersResolver&&a.providersResolver(a),Y0(s,c,o,gd(s,o,1,null),a));const h=rn(o,s,c.directiveStart,c);Pr(h,o);const p=Dr(c,o);return p&&Pr(p,o),h}(p,a,o);if(c.components.push(y),s[8]=y,h&&h.forEach(E=>E(y,o)),o.contentQueries){const E=En();o.contentQueries(1,y,E.directiveStart)}const w=En();return!p.firstCreatePass||null===o.hostBindings&&null===o.hostAttrs||(Bs(w.index),q0(a[1],w,0,w.directiveStart,w.directiveEnd,o),z0(o,y)),y}(Qe,this.componentDef,me,U,[B_]),Vh(z,me,null)}finally{fo()}return new Fw(this.componentType,Re,Kl(Ue,me),me,Ue)}}class Fw extends class Nw{}{constructor(o,a,c,h,p){super(),this.location=c,this._rootLView=h,this._tNode=p,this.instance=a,this.hostView=this.changeDetectorRef=new gy(h),this.componentType=o}get injector(){return new Wi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}class Va{}class my{}const Jl=new Map;class Lw extends Va{constructor(o,a){super(),this._parent=a,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Cg(this);const c=gn(o);this._bootstrapComponents=g(c.bootstrap),this._r3Injector=sb(o,a,[{provide:Va,useValue:this},{provide:ac,useValue:this.componentFactoryResolver}],de(o)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(o)}get(o,a=Jo.THROW_IF_NOT_FOUND,c=ht.Default){return o===Jo||o===Va||o===rb?this:this._r3Injector.get(o,a,c)}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class yy extends my{constructor(o){super(),this.moduleType=o,null!==gn(o)&&function _y(s){const o=new Set;!function a(c){const h=gn(c,!0),p=h.id;null!==p&&(function Ig(s,o,a){if(o&&o!==a)throw new Error(`Duplicate module registered for ${s} - ${de(o)} vs ${de(o.name)}`)}(p,Jl.get(p),c),Jl.set(p,c));const y=g(h.imports);for(const w of y)o.has(w)||(o.add(w),a(w))}(s)}(o)}create(o){return new Lw(this.moduleType,o)}}function tf(s,o,a){const c=hr()+s,h=De();return h[c]===It?Ji(h,c,a?o.call(a):o()):function zl(s,o){return s[o]}(h,c)}function Pd(s,o,a,c){return nf(De(),hr(),s,o,a,c)}function Sg(s,o,a,c,h){return Bw(De(),hr(),s,o,a,c,h)}function vy(s,o,a,c,h,p){return function Ag(s,o,a,c,h,p,y,w){const E=o+a;return function Xp(s,o,a,c,h){const p=Qu(s,o,a,c);return di(s,o+2,h)||p}(s,E,h,p,y)?Ji(s,E+3,w?c.call(w,h,p,y):c(h,p,y)):Fd(s,E+3)}(De(),hr(),s,o,a,c,h,p)}function Fd(s,o){const a=s[o];return a===It?void 0:a}function nf(s,o,a,c,h,p){const y=o+a;return di(s,y,h)?Ji(s,y+1,p?c.call(p,h):c(h)):Fd(s,y+1)}function Bw(s,o,a,c,h,p,y){const w=o+a;return Qu(s,w,h,p)?Ji(s,w+2,y?c.call(y,h,p):c(h,p)):Fd(s,w+2)}function Dy(s,o){const a=Lt();let c;const h=s+20;a.firstCreatePass?(c=function WT(s,o){if(o)for(let a=o.length-1;a>=0;a--){const c=o[a];if(s===c.name)return c}}(o,a.pipeRegistry),a.data[h]=c,c.onDestroy&&(a.destroyHooks||(a.destroyHooks=[])).push(h,c.onDestroy)):c=a.data[h];const p=c.factory||(c.factory=Hr(c.type)),y=Wn(Ed);try{const w=rr(!1),E=p();return rr(w),function fC(s,o,a,c){a>=s.data.length&&(s.data[a]=null,s.blueprint[a]=null),o[a]=c}(a,De(),h,E),E}finally{Wn(y)}}function jw(s,o,a){const c=s+20,h=De(),p=Di(h,c);return Co(h,c)?nf(h,hr(),o,p.transform,a,p):p.transform(a)}function Gw(s,o,a,c){const h=s+20,p=De(),y=Di(p,h);return Co(p,h)?Bw(p,hr(),o,y.transform,a,c,y):y.transform(a,c)}function Co(s,o){return s[1].data[o].pure}function Cy(s){return o=>{setTimeout(s,void 0,o)}}const ra=class zT extends u.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,a,c){var h,p,y;let w=o,E=a||(()=>null),A=c;if(o&&"object"==typeof o){const P=o;w=null===(h=P.next)||void 0===h?void 0:h.bind(P),E=null===(p=P.error)||void 0===p?void 0:p.bind(P),A=null===(y=P.complete)||void 0===y?void 0:y.bind(P)}this.__isAsync&&(E=Cy(E),w&&(w=Cy(w)),A&&(A=Cy(A)));const N=super.subscribe({next:w,error:E,complete:A});return o instanceof K.w0&&o.add(N),N}};function ZT(){return this._results[Ju()]()}class lc{constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=Ju(),c=lc.prototype;c[a]||(c[a]=ZT)}get changes(){return this._changes||(this._changes=new ra)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,a){return this._results.reduce(o,a)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,a){const c=this;c.dirty=!1;const h=nn(o);(this._changesDetected=!function xu(s,o,a){if(s.length!==o.length)return!1;for(let c=0;c<s.length;c++){let h=s[c],p=o[c];if(a&&(h=a(h),p=a(p)),p!==h)return!1}return!0}(c._results,h,a))&&(c._results=h,c.length=h.length,c.last=h[this.length-1],c.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let Ba=(()=>{class s{}return s.__NG_ELEMENT_ID__=Ty,s})();const KT=Ba,rf=class extends KT{constructor(o,a,c){super(),this._declarationLView=o,this._declarationTContainer=a,this.elementRef=c}createEmbeddedView(o){const a=this._declarationTContainer.tViews,c=Gp(this._declarationLView,a,o,16,null,a.declTNode,null,null,null,null);c[17]=this._declarationLView[this._declarationTContainer.index];const p=this._declarationLView[19];return null!==p&&(c[19]=p.createEmbeddedView(a)),Vh(a,c,o),new Od(c)}};function Ty(){return Ng(En(),De())}function Ng(s,o){return 4&s.type?new rf(o,s,Kl(s,o)):null}let sf=(()=>{class s{}return s.__NG_ELEMENT_ID__=Hw,s})();function Hw(){return Iy(En(),De())}const YT=sf,$w=class extends YT{constructor(o,a,c){super(),this._lContainer=o,this._hostTNode=a,this._hostLView=c}get element(){return Kl(this._hostTNode,this._hostLView)}get injector(){return new Wi(this._hostTNode,this._hostLView)}get parentInjector(){const o=qr(this._hostTNode,this._hostLView);if(mt(o)){const a=fn(o,this._hostLView),c=Et(o);return new Wi(a[1].data[c+8],a)}return new Wi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const a=Mg(this._lContainer);return null!==a&&a[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,a,c){const h=o.createEmbeddedView(a||{});return this.insert(h,c),h}createComponent(o,a,c,h,p){const y=o&&!function li(s){return"function"==typeof s}(o);let w;if(y)w=a;else{const P=a||{};w=P.index,c=P.injector,h=P.projectableNodes,p=P.ngModuleRef}const E=y?o:new Tg(zt(o)),A=c||this.parentInjector;if(!p&&null==E.ngModule){const U=(y?A:this.parentInjector).get(Va,null);U&&(p=U)}const N=E.create(A,h,void 0,p);return this.insert(N.hostView,w),N}insert(o,a){const c=o._lView,h=c[1];if(function al(s){return ii(s[3])}(c)){const N=this.indexOf(o);if(-1!==N)this.detach(N);else{const P=c[3],U=new $w(P,P[6],P[3]);U.detach(U.indexOf(o))}}const p=this._adjustIndex(a),y=this._lContainer;!function wo(s,o,a,c){const h=10+c,p=a.length;c>0&&(a[h-1][4]=o),c<p-10?(o[4]=a[h],El(a,10+c,o)):(a.push(o),o[4]=null),o[3]=a;const y=o[17];null!==y&&a!==y&&function Do(s,o){const a=s[9];o[16]!==o[3][3][16]&&(s[2]=!0),null===a?s[9]=[o]:a.push(o)}(y,o);const w=o[19];null!==w&&w.insertView(s),o[2]|=128}(h,c,y,p);const w=Ul(p,y),E=c[11],A=Rp(E,y[7]);return null!==A&&function Nh(s,o,a,c,h,p){c[0]=h,c[6]=o,Ks(s,c,a,1,h,p)}(h,y[6],E,c,A,w),o.attachToViewContainerRef(),El(Qi(y),p,o),o}move(o,a){return this.insert(o,a)}indexOf(o){const a=Mg(this._lContainer);return null!==a?a.indexOf(o):-1}remove(o){const a=this._adjustIndex(o,-1),c=Mh(this._lContainer,a);c&&(js(Qi(this._lContainer),a),cd(c[1],c))}detach(o){const a=this._adjustIndex(o,-1),c=Mh(this._lContainer,a);return c&&null!=js(Qi(this._lContainer),a)?new Od(c):null}_adjustIndex(o,a=0){return null==o?this.length+a:o}};function Mg(s){return s[8]}function Qi(s){return s[8]||(s[8]=[])}function Iy(s,o){let a;const c=o[s.index];if(ii(c))a=c;else{let h;if(8&s.type)h=un(c);else{const p=o[11];h=p.createComment("");const y=Dr(s,o);qu(p,Rp(p,y),h,function Y1(s,o){return yn(s)?s.nextSibling(o):o.nextSibling}(p,y),!1)}o[s.index]=a=J0(c,o,h,s),Hp(o,a)}return new $w(a,s,o)}class Ay{constructor(o){this.queryList=o,this.matches=null}clone(){return new Ay(this.queryList)}setDirty(){this.queryList.setDirty()}}class Ny{constructor(o=[]){this.queries=o}createEmbeddedView(o){const a=o.queries;if(null!==a){const c=null!==o.contentQueries?o.contentQueries[0]:a.length,h=[];for(let p=0;p<c;p++){const y=a.getByIndex(p);h.push(this.queries[y.indexInDeclarationView].clone())}return new Ny(h)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let a=0;a<this.queries.length;a++)null!==af(o,a).matches&&this.queries[a].setDirty()}}class qw{constructor(o,a,c=null){this.predicate=o,this.flags=a,this.read=c}}class My{constructor(o=[]){this.queries=o}elementStart(o,a){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(o,a)}elementEnd(o){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(o)}embeddedTView(o){let a=null;for(let c=0;c<this.length;c++){const h=null!==a?a.length:0,p=this.getByIndex(c).embeddedTView(o,h);p&&(p.indexInDeclarationView=c,null!==a?a.push(p):a=[p])}return null!==a?new My(a):null}template(o,a){for(let c=0;c<this.queries.length;c++)this.queries[c].template(o,a)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class Ld{constructor(o,a=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(o,a){this.isApplyingToNode(a)&&this.matchTNode(o,a)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,a){this.elementStart(o,a)}embeddedTView(o,a){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,a),new Ld(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let c=o.parent;for(;null!==c&&8&c.type&&c.index!==a;)c=c.parent;return a===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(o,a){const c=this.metadata.predicate;if(Array.isArray(c))for(let h=0;h<c.length;h++){const p=c[h];this.matchTNodeWithReadOption(o,a,zw(a,p)),this.matchTNodeWithReadOption(o,a,yl(a,o,p,!1,!1))}else c===Ba?4&a.type&&this.matchTNodeWithReadOption(o,a,-1):this.matchTNodeWithReadOption(o,a,yl(a,o,c,!1,!1))}matchTNodeWithReadOption(o,a,c){if(null!==c){const h=this.metadata.read;if(null!==h)if(h===Yl||h===sf||h===Ba&&4&a.type)this.addMatch(a.index,-2);else{const p=yl(a,o,h,!1,!1);null!==p&&this.addMatch(a.index,p)}else this.addMatch(a.index,c)}}addMatch(o,a){null===this.matches?this.matches=[o,a]:this.matches.push(o,a)}}function zw(s,o){const a=s.localNames;if(null!==a)for(let c=0;c<a.length;c+=2)if(a[c]===o)return a[c+1];return null}function Og(s,o,a,c){return-1===a?function Zw(s,o){return 11&s.type?Kl(s,o):4&s.type?Ng(s,o):null}(o,s):-2===a?function Kw(s,o,a){return a===Yl?Kl(o,s):a===Ba?Ng(o,s):a===sf?Iy(o,s):void 0}(s,o,c):rn(s,s[1],a,o)}function Vd(s,o,a,c){const h=o[19].queries[c];if(null===h.matches){const p=s.data,y=a.matches,w=[];for(let E=0;E<y.length;E+=2){const A=y[E];w.push(A<0?null:Og(o,p[A],y[E+1],a.metadata.read))}h.matches=w}return h.matches}function Rg(s,o,a,c){const h=s.queries.getByIndex(a),p=h.matches;if(null!==p){const y=Vd(s,o,h,a);for(let w=0;w<p.length;w+=2){const E=p[w];if(E>0)c.push(y[w/2]);else{const A=p[w+1],N=o[-E];for(let P=10;P<N.length;P++){const U=N[P];U[17]===U[3]&&Rg(U[1],U,A,c)}if(null!==N[9]){const P=N[9];for(let U=0;U<P.length;U++){const z=P[U];Rg(z[1],z,A,c)}}}}}return c}function Yw(s){const o=De(),a=Lt(),c=_u();yu(c+1);const h=af(a,c);if(s.dirty&&Rs(o)===(2==(2&h.metadata.flags))){if(null===h.matches)s.reset([]);else{const p=h.crossesNgTemplate?Rg(a,o,c,[]):Vd(a,o,h,c);s.reset(p,xw),s.notifyOnChanges()}return!0}return!1}function Jw(s,o,a){const c=Lt();c.firstCreatePass&&(eD(c,new qw(s,o,a),-1),2==(2&o)&&(c.staticViewQueries=!0)),kg(c,De(),o)}function Qw(s,o,a,c){const h=Lt();if(h.firstCreatePass){const p=En();eD(h,new qw(o,a,c),p.index),function tD(s,o){const a=s.contentQueries||(s.contentQueries=[]);o!==(a.length?a[a.length-1]:-1)&&a.push(s.queries.length-1,o)}(h,s),2==(2&a)&&(h.staticContentQueries=!0)}kg(h,De(),a)}function Xw(){return function JT(s,o){return s[19].queries[o].queryList}(De(),_u())}function kg(s,o,a){const c=new lc(4==(4&a));DE(s,o,c,c.destroy),null===o[19]&&(o[19]=new Ny),o[19].queries.push(new Ay(c))}function eD(s,o,a){null===s.queries&&(s.queries=new My),s.queries.track(new Ld(o,a))}function af(s,o){return s.queries.getByIndex(o)}function nD(s,o){return Ng(s,o)}function jg(...s){}const mD=new bn("Application Initializer");let Gg=(()=>{class s{constructor(a){this.appInits=a,this.resolve=jg,this.reject=jg,this.initialized=!1,this.done=!1,this.donePromise=new Promise((c,h)=>{this.resolve=c,this.reject=h})}runInitializers(){if(this.initialized)return;const a=[],c=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const p=this.appInits[h]();if(Ab(p))a.push(p);else if(OC(p)){const y=new Promise((w,E)=>{p.subscribe({complete:w,error:E})});a.push(y)}}Promise.all(a).then(()=>{c()}).catch(h=>{this.reject(h)}),0===a.length&&c(),this.initialized=!0}}return s.\u0275fac=function(a){return new(a||s)(st(mD,8))},s.\u0275prov=tn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const By=new bn("AppId",{providedIn:"root",factory:function Hg(){return`${ja()}${ja()}${ja()}`}});function ja(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Uy=new bn("Platform Initializer"),pI=new bn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),_D=new bn("appBootstrapListener");let gI=(()=>{class s{log(a){console.log(a)}warn(a){console.warn(a)}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=tn({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const jy=new bn("LocaleId",{providedIn:"root",factory:()=>Ht(jy,ht.Optional|ht.SkipSelf)||function mI(){return"undefined"!=typeof $localize&&$localize.locale||ry}()}),yD=new bn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class Gy{constructor(o,a){this.ngModuleFactory=o,this.componentFactories=a}}let _I=(()=>{class s{compileModuleSync(a){return new yy(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const c=this.compileModuleSync(a),p=g(gn(a).declarations).reduce((y,w)=>{const E=zt(w);return E&&y.push(new Tg(E)),y},[]);return new Gy(c,p)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=tn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const bI=(()=>Promise.resolve(0))();function vD(s){"undefined"==typeof Zone?bI.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class To{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ra(!1),this.onMicrotaskEmpty=new ra(!1),this.onStable=new ra(!1),this.onError=new ra(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!c&&a,h.shouldCoalesceRunChangeDetection=c,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function Hy(){let s=Gt.requestAnimationFrame,o=Gt.cancelAnimationFrame;if("undefined"!=typeof Zone&&s&&o){const a=s[Zone.__symbol__("OriginalDelegate")];a&&(s=a);const c=o[Zone.__symbol__("OriginalDelegate")];c&&(o=c)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function lx(s){const o=()=>{!function Io(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(Gt,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,$y(s),s.isCheckStableRunning=!0,hf(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),$y(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,c,h,p,y,w)=>{try{return ye(s),a.invokeTask(h,p,y,w)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||s.shouldCoalesceRunChangeDetection)&&o(),Xl(s)}},onInvoke:(a,c,h,p,y,w,E)=>{try{return ye(s),a.invoke(h,p,y,w,E)}finally{s.shouldCoalesceRunChangeDetection&&o(),Xl(s)}},onHasTask:(a,c,h,p)=>{a.hasTask(h,p),c===h&&("microTask"==p.change?(s._hasPendingMicrotasks=p.microTask,$y(s),hf(s)):"macroTask"==p.change&&(s.hasPendingMacrotasks=p.macroTask))},onHandleError:(a,c,h,p)=>(a.handleError(h,p),s.runOutsideAngular(()=>s.onError.emit(p)),!1)})}(h)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!To.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(To.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(o,a,c){return this._inner.run(o,a,c)}runTask(o,a,c,h){const p=this._inner,y=p.scheduleEventTask("NgZoneEvent: "+h,o,Yr,jg,jg);try{return p.runTask(y,a,c)}finally{p.cancelTask(y)}}runGuarded(o,a,c){return this._inner.runGuarded(o,a,c)}runOutsideAngular(o){return this._outer.run(o)}}const Yr={};function hf(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function $y(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function ye(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function Xl(s){s._nesting--,hf(s)}class $g{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ra,this.onMicrotaskEmpty=new ra,this.onStable=new ra,this.onError=new ra}run(o,a,c){return o.apply(a,c)}runGuarded(o,a,c){return o.apply(a,c)}runOutsideAngular(o){return o()}runTask(o,a,c,h){return o.apply(a,c)}}let Ga=(()=>{class s{constructor(a){this._ngZone=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{To.assertNotInAngularZone(),vD(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())vD(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(a)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,c,h){let p=-1;c&&c>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==p),a(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:a,timeoutId:p,updateCb:h})}whenStable(a,c,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,c,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(a,c,h){return[]}}return s.\u0275fac=function(a){return new(a||s)(st(To))},s.\u0275prov=tn({token:s,factory:s.\u0275fac}),s})(),Kt=(()=>{class s{constructor(){this._applications=new Map,nt.addToWindow(this)}registerApplication(a,c){this._applications.set(a,c)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,c=!0){return nt.findTestabilityInTree(this,a,c)}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=tn({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();class wI{addToWindow(o){}findTestabilityInTree(o,a,c){return null}}function Ha(s){nt=s}let nt=new wI,$a=null;const Mt=new bn("AllowMultipleToken"),ff=new bn("PlatformOnDestroy");class qy{constructor(o,a){this.name=o,this.token=a}}function bD(s,o,a=[]){const c=`Platform: ${o}`,h=new bn(c);return(p=[])=>{let y=Ar();if(!y||y.injector.get(Mt,!1)){const w=[...a,...p,{provide:h,useValue:!0}];s?s(w):function EI(s){if($a&&!$a.get(Mt,!1))throw new xe(400,"");$a=s;const o=s.get(Wa),a=s.get(Uy,null);a&&a.forEach(c=>c())}(function Jr(s=[],o){return Jo.create({name:o,providers:[{provide:ib,useValue:"platform"},{provide:ff,useValue:()=>$a=null},...s]})}(w,c))}return function CI(s){const o=Ar();if(!o)throw new xe(401,"");return o}()}}function Ar(){var s;return null!==(s=null==$a?void 0:$a.get(Wa))&&void 0!==s?s:null}let Wa=(()=>{class s{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,c){const w=function TI(s,o){let a;return a="noop"===s?new $g:("zone.js"===s?void 0:s)||new To({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==o?void 0:o.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==o?void 0:o.ngZoneRunCoalescing)}),a}(c?c.ngZone:void 0,{ngZoneEventCoalescing:c&&c.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:c&&c.ngZoneRunCoalescing||!1}),E=[{provide:To,useValue:w}];return w.run(()=>{const A=Jo.create({providers:E,parent:this.injector,name:a.moduleType.name}),N=a.create(A),P=N.injector.get(mr,null);if(!P)throw new xe(402,"");return w.runOutsideAngular(()=>{const U=w.onError.subscribe({next:z=>{P.handleError(z)}});N.onDestroy(()=>{Ky(this._modules,N),U.unsubscribe()})}),function II(s,o,a){try{const c=a();return Ab(c)?c.catch(h=>{throw o.runOutsideAngular(()=>s.handleError(h)),h}):c}catch(c){throw o.runOutsideAngular(()=>s.handleError(c)),c}}(P,w,()=>{const U=N.injector.get(Gg);return U.runInitializers(),U.donePromise.then(()=>(function UM(s){(function on(s,o){null==s&&He(o,s,null,"!=")})(s,"Expected localeId to be defined"),"string"==typeof s&&(sT=s.toLowerCase().replace(/_/g,"-"))}(N.injector.get(jy,ry)||ry),this._moduleDoBootstrap(N),N))})})}bootstrapModule(a,c=[]){const h=Zy({},c);return function Wy(s,o,a){const c=new yy(a);return Promise.resolve(c)}(0,0,a).then(p=>this.bootstrapModuleFactory(p,h))}_moduleDoBootstrap(a){const c=a.injector.get(qg);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(h=>c.bootstrap(h));else{if(!a.instance.ngDoBootstrap)throw new xe(403,"");a.instance.ngDoBootstrap(c)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new xe(404,"");this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c());const a=this._injector.get(ff,null);null==a||a(),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(a){return new(a||s)(st(Jo))},s.\u0275prov=tn({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();function Zy(s,o){return Array.isArray(o)?o.reduce(Zy,s):Object.assign(Object.assign({},s),o)}let qg=(()=>{class s{constructor(a,c,h,p){this._zone=a,this._injector=c,this._exceptionHandler=h,this._initStatus=p,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const y=new k.y(E=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{E.next(this._stable),E.complete()})}),w=new k.y(E=>{let A;this._zone.runOutsideAngular(()=>{A=this._zone.onStable.subscribe(()=>{To.assertNotInAngularZone(),vD(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,E.next(!0))})})});const N=this._zone.onUnstable.subscribe(()=>{To.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{E.next(!1)}))});return()=>{A.unsubscribe(),N.unsubscribe()}});this.isStable=(0,oe.T)(y,w.pipe((0,X.B)()))}bootstrap(a,c){if(!this._initStatus.done)throw new xe(405,"");let h;h=a instanceof fy?a:this._injector.get(ac).resolveComponentFactory(a),this.componentTypes.push(h.componentType);const p=function DI(s){return s.isBoundToModule}(h)?void 0:this._injector.get(Va),w=h.create(Jo.NULL,[],c||h.selector,p),E=w.location.nativeElement,A=w.injector.get(Ga,null),N=A&&w.injector.get(Kt);return A&&N&&N.registerApplication(E,A),w.onDestroy(()=>{this.detachView(w.hostView),Ky(this.components,w),N&&N.unregisterApplication(E)}),this._loadComponent(w),w}tick(){if(this._runningTick)throw new xe(101,"");try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const c=a;this._views.push(c),c.attachToAppRef(this)}detachView(a){const c=a;Ky(this._views,c),c.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a),this._injector.get(_D,[]).concat(this._bootstrapListeners).forEach(h=>h(a))}ngOnDestroy(){this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return s.\u0275fac=function(a){return new(a||s)(st(To),st(Jo),st(mr),st(Gg))},s.\u0275prov=tn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function Ky(s,o){const a=s.indexOf(o);a>-1&&s.splice(a,1)}let pf=!0,Qy=!1;function Ri(){return Qy=!0,pf}function Xy(){if(Qy)throw new Error("Cannot enable prod mode after platform setup.");pf=!1}let tv=(()=>{class s{}return s.__NG_ELEMENT_ID__=wD,s})();function wD(s){return function DD(s,o,a){if(As(s)&&!a){const c=Er(s.index,o);return new Od(c,c)}return 47&s.type?new Od(o[16],o):null}(En(),De(),16==(16&s))}class ID{constructor(){}supports(o){return Jp(o)}create(o){return new xI(o)}}const bf=(s,o)=>o;class xI{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||bf}forEachItem(o){let a;for(a=this._itHead;null!==a;a=a._next)o(a)}forEachOperation(o){let a=this._itHead,c=this._removalsHead,h=0,p=null;for(;a||c;){const y=!c||a&&a.currentIndex<Yg(c,h,p)?a:c,w=Yg(y,h,p),E=y.currentIndex;if(y===c)h--,c=c._nextRemoved;else if(a=a._next,null==y.previousIndex)h++;else{p||(p=[]);const A=w-h,N=E-h;if(A!=N){for(let U=0;U<A;U++){const z=U<p.length?p[U]:p[U]=0,me=z+U;N<=me&&me<A&&(p[U]=z+1)}p[y.previousIndex]=N-A}}w!==E&&o(y,w,E)}}forEachPreviousItem(o){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachMovedItem(o){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}forEachIdentityChange(o){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)o(a)}diff(o){if(null==o&&(o=[]),!Jp(o))throw new xe(900,"");return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let h,p,y,a=this._itHead,c=!1;if(Array.isArray(o)){this.length=o.length;for(let w=0;w<this.length;w++)p=o[w],y=this._trackByFn(w,p),null!==a&&Object.is(a.trackById,y)?(c&&(a=this._verifyReinsertion(a,p,y,w)),Object.is(a.item,p)||this._addIdentityChange(a,p)):(a=this._mismatch(a,p,y,w),c=!0),a=a._next}else h=0,function ql(s,o){if(Array.isArray(s))for(let a=0;a<s.length;a++)o(s[a]);else{const a=s[Ju()]();let c;for(;!(c=a.next()).done;)o(c.value)}}(o,w=>{y=this._trackByFn(h,w),null!==a&&Object.is(a.trackById,y)?(c&&(a=this._verifyReinsertion(a,w,y,h)),Object.is(a.item,w)||this._addIdentityChange(a,w)):(a=this._mismatch(a,w,y,h),c=!0),a=a._next,h++}),this.length=h;return this._truncate(a),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,a,c,h){let p;return null===o?p=this._itTail:(p=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._reinsertAfter(o,p,h)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(c,h))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._moveAfter(o,p,h)):o=this._addAfter(new OI(a,c),p,h),o}_verifyReinsertion(o,a,c,h){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==p?o=this._reinsertAfter(p,o._prev,h):o.currentIndex!=h&&(o.currentIndex=h,this._addToMoves(o,h)),o}_truncate(o){for(;null!==o;){const a=o._next;this._addToRemovals(this._unlink(o)),o=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,a,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const h=o._prevRemoved,p=o._nextRemoved;return null===h?this._removalsHead=p:h._nextRemoved=p,null===p?this._removalsTail=h:p._prevRemoved=h,this._insertAfter(o,a,c),this._addToMoves(o,c),o}_moveAfter(o,a,c){return this._unlink(o),this._insertAfter(o,a,c),this._addToMoves(o,c),o}_addAfter(o,a,c){return this._insertAfter(o,a,c),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,a,c){const h=null===a?this._itHead:a._next;return o._next=h,o._prev=a,null===h?this._itTail=o:h._prev=o,null===a?this._itHead=o:a._next=o,null===this._linkedRecords&&(this._linkedRecords=new wf),this._linkedRecords.put(o),o.currentIndex=c,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const a=o._prev,c=o._next;return null===a?this._itHead=c:a._next=c,null===c?this._itTail=a:c._prev=a,o}_addToMoves(o,a){return o.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new wf),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,a){return o.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class OI{constructor(o,a){this.item=o,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Kg{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,a){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===a||a<=c.currentIndex)&&Object.is(c.trackById,o))return c;return null}remove(o){const a=o._prevDup,c=o._nextDup;return null===a?this._head=c:a._nextDup=c,null===c?this._tail=a:c._prevDup=a,null===this._head}}class wf{constructor(){this.map=new Map}put(o){const a=o.trackById;let c=this.map.get(a);c||(c=new Kg,this.map.set(a,c)),c.add(o)}get(o,a){const h=this.map.get(o);return h?h.get(o,a):null}remove(o){const a=o.trackById;return this.map.get(a).remove(o)&&this.map.delete(a),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Yg(s,o,a){const c=s.previousIndex;if(null===c)return c;let h=0;return a&&c<a.length&&(h=a[c]),c+o+h}class Jg{constructor(){}supports(o){return o instanceof Map||Qp(o)}create(){return new iv}}class iv{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let a;for(a=this._mapHead;null!==a;a=a._next)o(a)}forEachPreviousItem(o){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)o(a)}forEachChangedItem(o){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}diff(o){if(o){if(!(o instanceof Map||Qp(o)))throw new xe(900,"")}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(o,(c,h)=>{if(a&&a.key===h)this._maybeAddToChanges(a,c),this._appendAfter=a,a=a._next;else{const p=this._getOrCreateRecordForKey(h,c);a=this._insertBeforeOrAppend(a,p)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let c=a;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,a){if(o){const c=o._prev;return a._next=o,a._prev=c,o._prev=a,c&&(c._next=a),o===this._mapHead&&(this._mapHead=a),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(o,a){if(this._records.has(o)){const h=this._records.get(o);this._maybeAddToChanges(h,a);const p=h._prev,y=h._next;return p&&(p._next=y),y&&(y._prev=p),h._next=null,h._prev=null,h}const c=new sv(o);return this._records.set(o,c),c.currentValue=a,this._addToAdditions(c),c}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,a){Object.is(a,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=a,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,a){o instanceof Map?o.forEach(a):Object.keys(o).forEach(c=>a(o[c],c))}}class sv{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function ov(){return new Qg([new ID])}let Qg=(()=>{class s{constructor(a){this.factories=a}static create(a,c){if(null!=c){const h=c.factories.slice();a=a.concat(h)}return new s(a)}static extend(a){return{provide:s,useFactory:c=>s.create(a,c||ov()),deps:[[s,new Ki,new ui]]}}find(a){const c=this.factories.find(h=>h.supports(a));if(null!=c)return c;throw new xe(901,"")}}return s.\u0275prov=tn({token:s,providedIn:"root",factory:ov}),s})();function av(){return new Xg([new Jg])}let Xg=(()=>{class s{constructor(a){this.factories=a}static create(a,c){if(c){const h=c.factories.slice();a=a.concat(h)}return new s(a)}static extend(a){return{provide:s,useFactory:c=>s.create(a,c||av()),deps:[[s,new Ki,new ui]]}}find(a){const c=this.factories.find(p=>p.supports(a));if(c)return c;throw new xe(901,"")}}return s.\u0275prov=tn({token:s,providedIn:"root",factory:av}),s})();const uv=bD(null,"core",[]);let cv=(()=>{class s{constructor(a){}}return s.\u0275fac=function(a){return new(a||s)(st(qg))},s.\u0275mod=Y({type:s}),s.\u0275inj=Jt({}),s})()},3942:(ct,Ee,R)=>{R.d(Ee,{Z:()=>xe});var u=R(2090),K=R(4859),k=R(9681),oe=R(1877);class X{constructor(he,be){this._delegate=he,this.firebase=be,(0,k._addComponent)(he,new K.wA("app-compat",()=>this,"PUBLIC")),this.container=he.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(he){this._delegate.automaticDataCollectionEnabled=he}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(he=>{this._delegate.checkDestroyed(),he()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,k.deleteApp)(this._delegate)))}_getService(he,be=k._DEFAULT_ENTRY_NAME){var rt;this._delegate.checkDestroyed();const Ke=this._delegate.container.getProvider(he);return!Ke.isInitialized()&&"EXPLICIT"===(null===(rt=Ke.getComponent())||void 0===rt?void 0:rt.instantiationMode)&&Ke.initialize(),Ke.getImmediate({identifier:be})}_removeServiceInstance(he,be=k._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(he).clearInstance(be)}_addComponent(he){(0,k._addComponent)(this._delegate,he)}_addOrOverwriteComponent(he){(0,k._addOrOverwriteComponent)(this._delegate,he)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const re=new u.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),G=function le(){const Fe=function de(Fe){const he={},be={__esModule:!0,initializeApp:function Te(Be,ne={}){const ze=k.initializeApp(Be,ne);if((0,u.r3)(he,ze.name))return he[ze.name];const Q=new Fe(ze,be);return he[ze.name]=Q,Q},app:Ke,registerVersion:k.registerVersion,setLogLevel:k.setLogLevel,onLog:k.onLog,apps:null,SDK_VERSION:k.SDK_VERSION,INTERNAL:{registerComponent:function ve(Be){const ne=Be.name,ze=ne.replace("-compat","");if(k._registerComponent(Be)&&"PUBLIC"===Be.type){const Q=(ae=Ke())=>{if("function"!=typeof ae[ze])throw re.create("invalid-app-argument",{appName:ne});return ae[ze]()};void 0!==Be.serviceProps&&(0,u.ZB)(Q,Be.serviceProps),be[ze]=Q,Fe.prototype[ze]=function(...ae){return this._getService.bind(this,ne).apply(this,Be.multipleInstances?ae:[])}}return"PUBLIC"===Be.type?be[ze]:null},removeApp:function rt(Be){delete he[Be]},useAsService:function je(Be,ne){return"serverAuth"===ne?null:ne},modularAPIs:k}};function Ke(Be){if(!(0,u.r3)(he,Be=Be||k._DEFAULT_ENTRY_NAME))throw re.create("no-app",{appName:Be});return he[Be]}return be.default=be,Object.defineProperty(be,"apps",{get:function _e(){return Object.keys(he).map(Be=>he[Be])}}),Ke.App=Fe,be}(X);return Fe.INTERNAL=Object.assign(Object.assign({},Fe.INTERNAL),{createFirebaseNamespace:le,extendNamespace:function he(be){(0,u.ZB)(Fe,be)},createSubscribe:u.ne,ErrorFactory:u.LL,deepExtend:u.ZB}),Fe}(),H=new oe.Yd("@firebase/app-compat");if((0,u.jU)()&&void 0!==self.firebase){H.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Fe=self.firebase.SDK_VERSION;Fe&&Fe.indexOf("LITE")>=0&&H.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const xe=G;!function Se(Fe){(0,k.registerVersion)("@firebase/app-compat","0.1.22",Fe)}()},9681:(ct,Ee,R)=>{R.r(Ee),R.d(Ee,{FirebaseError:()=>oe.ZR,SDK_VERSION:()=>xr,_DEFAULT_ENTRY_NAME:()=>Yt,_addComponent:()=>Xn,_addOrOverwriteComponent:()=>Sn,_apps:()=>He,_clearComponents:()=>Wt,_components:()=>$t,_getProvider:()=>bi,_registerComponent:()=>tn,_removeServiceInstance:()=>Jt,deleteApp:()=>rs,getApp:()=>Or,getApps:()=>ns,initializeApp:()=>Ui,onLog:()=>er,registerVersion:()=>jr,setLogLevel:()=>Wn});var u=R(5861),K=R(4859),k=R(1877),oe=R(2090);class X{constructor(Ie){this.container=Ie}getPlatformInfoString(){return this.container.getProviders().map(tt=>{if(function pe(Ye){const Ie=Ye.getComponent();return"VERSION"===(null==Ie?void 0:Ie.type)}(tt)){const pt=tt.getImmediate();return`${pt.library}/${pt.version}`}return null}).filter(tt=>tt).join(" ")}}const re="@firebase/app",le=new k.Yd("@firebase/app"),Yt="[DEFAULT]",on={[re]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},He=new Map,$t=new Map;function Xn(Ye,Ie){try{Ye.container.addComponent(Ie)}catch(tt){le.debug(`Component ${Ie.name} failed to register with FirebaseApp ${Ye.name}`,tt)}}function Sn(Ye,Ie){Ye.container.addOrOverwriteComponent(Ie)}function tn(Ye){const Ie=Ye.name;if($t.has(Ie))return le.debug(`There were multiple attempts to register component ${Ie}.`),!1;$t.set(Ie,Ye);for(const tt of He.values())Xn(tt,Ye);return!0}function bi(Ye,Ie){const tt=Ye.container.getProvider("heartbeat").getImmediate({optional:!0});return tt&&tt.triggerHeartbeat(),Ye.container.getProvider(Ie)}function Jt(Ye,Ie,tt=Yt){bi(Ye,Ie).clearInstance(tt)}function Wt(){$t.clear()}const ti=new oe.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class Es{constructor(Ie,tt,pt){this._isDeleted=!1,this._options=Object.assign({},Ie),this._config=Object.assign({},tt),this._name=tt.name,this._automaticDataCollectionEnabled=tt.automaticDataCollectionEnabled,this._container=pt,this.container.addComponent(new K.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ie){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ie}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ie){this._isDeleted=Ie}checkDestroyed(){if(this.isDeleted)throw ti.create("app-deleted",{appName:this._name})}}const xr="9.6.11";function Ui(Ye,Ie={}){"object"!=typeof Ie&&(Ie={name:Ie});const tt=Object.assign({name:Yt,automaticDataCollectionEnabled:!1},Ie),pt=tt.name;if("string"!=typeof pt||!pt)throw ti.create("bad-app-name",{appName:String(pt)});const Bt=He.get(pt);if(Bt){if((0,oe.vZ)(Ye,Bt.options)&&(0,oe.vZ)(tt,Bt.config))return Bt;throw ti.create("duplicate-app",{appName:pt})}const Ft=new K.H0(pt);for(const V of $t.values())Ft.addComponent(V);const j=new Es(Ye,tt,Ft);return He.set(pt,j),j}function Or(Ye=Yt){const Ie=He.get(Ye);if(!Ie)throw ti.create("no-app",{appName:Ye});return Ie}function ns(){return Array.from(He.values())}function rs(Ye){return ht.apply(this,arguments)}function ht(){return(ht=(0,u.Z)(function*(Ye){const Ie=Ye.name;He.has(Ie)&&(He.delete(Ie),yield Promise.all(Ye.container.getProviders().map(tt=>tt.delete())),Ye.isDeleted=!0)})).apply(this,arguments)}function jr(Ye,Ie,tt){var pt;let Bt=null!==(pt=on[Ye])&&void 0!==pt?pt:Ye;tt&&(Bt+=`-${tt}`);const Ft=Bt.match(/\s|\//),j=Ie.match(/\s|\//);if(Ft||j){const V=[`Unable to register library "${Bt}" with version "${Ie}":`];return Ft&&V.push(`library name "${Bt}" contains illegal characters (whitespace or "/")`),Ft&&j&&V.push("and"),j&&V.push(`version name "${Ie}" contains illegal characters (whitespace or "/")`),void le.warn(V.join(" "))}tn(new K.wA(`${Bt}-version`,()=>({library:Bt,version:Ie}),"VERSION"))}function er(Ye,Ie){if(null!==Ye&&"function"!=typeof Ye)throw ti.create("invalid-log-argument");(0,k.Am)(Ye,Ie)}function Wn(Ye){(0,k.Ub)(Ye)}const vn="firebase-heartbeat-store";let tr=null;function Cs(){return tr||(tr=(0,oe.X3)("firebase-heartbeat-database",1,(Ye,Ie)=>{0===Ie&&Ye.createObjectStore(vn)}).catch(Ye=>{throw ti.create("storage-open",{originalErrorMessage:Ye.message})})),tr}function qt(){return(qt=(0,u.Z)(function*(Ye){try{return(yield Cs()).transaction(vn).objectStore(vn).get(ar(Ye))}catch(Ie){throw ti.create("storage-get",{originalErrorMessage:Ie.message})}})).apply(this,arguments)}function at(Ye,Ie){return wt.apply(this,arguments)}function wt(){return(wt=(0,u.Z)(function*(Ye,Ie){try{const pt=(yield Cs()).transaction(vn,"readwrite");return yield pt.objectStore(vn).put(Ie,ar(Ye)),pt.complete}catch(tt){throw ti.create("storage-set",{originalErrorMessage:tt.message})}})).apply(this,arguments)}function ar(Ye){return`${Ye.name}!${Ye.options.appId}`}class ro{constructor(Ie){this.container=Ie,this._heartbeatsCache=null;const tt=this.container.getProvider("app").getImmediate();this._storage=new ft(tt),this._heartbeatsCachePromise=this._storage.read().then(pt=>(this._heartbeatsCache=pt,pt))}triggerHeartbeat(){var Ie=this;return(0,u.Z)(function*(){const pt=Ie.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Bt=vr();if(null===Ie._heartbeatsCache&&(Ie._heartbeatsCache=yield Ie._heartbeatsCachePromise),Ie._heartbeatsCache.lastSentHeartbeatDate!==Bt&&!Ie._heartbeatsCache.heartbeats.some(Ft=>Ft.date===Bt))return Ie._heartbeatsCache.heartbeats.push({date:Bt,agent:pt}),Ie._heartbeatsCache.heartbeats=Ie._heartbeatsCache.heartbeats.filter(Ft=>{const j=new Date(Ft.date).valueOf();return Date.now()-j<=2592e6}),Ie._storage.overwrite(Ie._heartbeatsCache)})()}getHeartbeatsHeader(){var Ie=this;return(0,u.Z)(function*(){if(null===Ie._heartbeatsCache&&(yield Ie._heartbeatsCachePromise),null===Ie._heartbeatsCache||0===Ie._heartbeatsCache.heartbeats.length)return"";const tt=vr(),{heartbeatsToSend:pt,unsentEntries:Bt}=function lr(Ye,Ie=1024){const tt=[];let pt=Ye.slice();for(const Bt of Ye){const Ft=tt.find(j=>j.agent===Bt.agent);if(Ft){if(Ft.dates.push(Bt.date),br(tt)>Ie){Ft.dates.pop();break}}else if(tt.push({agent:Bt.agent,dates:[Bt.date]}),br(tt)>Ie){tt.pop();break}pt=pt.slice(1)}return{heartbeatsToSend:tt,unsentEntries:pt}}(Ie._heartbeatsCache.heartbeats),Ft=(0,oe.L)(JSON.stringify({version:2,heartbeats:pt}));return Ie._heartbeatsCache.lastSentHeartbeatDate=tt,Bt.length>0?(Ie._heartbeatsCache.heartbeats=Bt,yield Ie._storage.overwrite(Ie._heartbeatsCache)):(Ie._heartbeatsCache.heartbeats=[],Ie._storage.overwrite(Ie._heartbeatsCache)),Ft})()}}function vr(){return(new Date).toISOString().substring(0,10)}class ft{constructor(Ie){this.app=Ie,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,u.Z)(function*(){return!!(0,oe.hl)()&&(0,oe.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Ie=this;return(0,u.Z)(function*(){return(yield Ie._canUseIndexedDBPromise)&&(yield function la(Ye){return qt.apply(this,arguments)}(Ie.app))||{heartbeats:[]}})()}overwrite(Ie){var tt=this;return(0,u.Z)(function*(){var pt;if(yield tt._canUseIndexedDBPromise){const Ft=yield tt.read();return at(tt.app,{lastSentHeartbeatDate:null!==(pt=Ie.lastSentHeartbeatDate)&&void 0!==pt?pt:Ft.lastSentHeartbeatDate,heartbeats:Ie.heartbeats})}})()}add(Ie){var tt=this;return(0,u.Z)(function*(){var pt;if(yield tt._canUseIndexedDBPromise){const Ft=yield tt.read();return at(tt.app,{lastSentHeartbeatDate:null!==(pt=Ie.lastSentHeartbeatDate)&&void 0!==pt?pt:Ft.lastSentHeartbeatDate,heartbeats:[...Ft.heartbeats,...Ie.heartbeats]})}})()}}function br(Ye){return(0,oe.L)(JSON.stringify({version:2,heartbeats:Ye})).length}!function Vt(Ye){tn(new K.wA("platform-logger",Ie=>new X(Ie),"PRIVATE")),tn(new K.wA("heartbeat",Ie=>new ro(Ie),"PRIVATE")),jr(re,"0.7.21",Ye),jr(re,"0.7.21","esm2017"),jr("fire-js","")}("")},4859:(ct,Ee,R)=>{R.d(Ee,{H0:()=>de,wA:()=>k});var u=R(5861),K=R(2090);class k{constructor(G,H,J){this.name=G,this.instanceFactory=H,this.type=J,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(G){return this.instantiationMode=G,this}setMultipleInstances(G){return this.multipleInstances=G,this}setServiceProps(G){return this.serviceProps=G,this}setInstanceCreatedCallback(G){return this.onInstanceCreated=G,this}}const oe="[DEFAULT]";class X{constructor(G,H){this.name=G,this.container=H,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(G){const H=this.normalizeInstanceIdentifier(G);if(!this.instancesDeferred.has(H)){const J=new K.BH;if(this.instancesDeferred.set(H,J),this.isInitialized(H)||this.shouldAutoInitialize())try{const We=this.getOrInitializeService({instanceIdentifier:H});We&&J.resolve(We)}catch(We){}}return this.instancesDeferred.get(H).promise}getImmediate(G){var H;const J=this.normalizeInstanceIdentifier(null==G?void 0:G.identifier),We=null!==(H=null==G?void 0:G.optional)&&void 0!==H&&H;if(!this.isInitialized(J)&&!this.shouldAutoInitialize()){if(We)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:J})}catch(Se){if(We)return null;throw Se}}getComponent(){return this.component}setComponent(G){if(G.name!==this.name)throw Error(`Mismatching Component ${G.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=G,this.shouldAutoInitialize()){if(function re(le){return"EAGER"===le.instantiationMode}(G))try{this.getOrInitializeService({instanceIdentifier:oe})}catch(H){}for(const[H,J]of this.instancesDeferred.entries()){const We=this.normalizeInstanceIdentifier(H);try{const Se=this.getOrInitializeService({instanceIdentifier:We});J.resolve(Se)}catch(Se){}}}}clearInstance(G=oe){this.instancesDeferred.delete(G),this.instancesOptions.delete(G),this.instances.delete(G)}delete(){var G=this;return(0,u.Z)(function*(){const H=Array.from(G.instances.values());yield Promise.all([...H.filter(J=>"INTERNAL"in J).map(J=>J.INTERNAL.delete()),...H.filter(J=>"_delete"in J).map(J=>J._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(G=oe){return this.instances.has(G)}getOptions(G=oe){return this.instancesOptions.get(G)||{}}initialize(G={}){const{options:H={}}=G,J=this.normalizeInstanceIdentifier(G.instanceIdentifier);if(this.isInitialized(J))throw Error(`${this.name}(${J}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const We=this.getOrInitializeService({instanceIdentifier:J,options:H});for(const[Se,xe]of this.instancesDeferred.entries())J===this.normalizeInstanceIdentifier(Se)&&xe.resolve(We);return We}onInit(G,H){var J;const We=this.normalizeInstanceIdentifier(H),Se=null!==(J=this.onInitCallbacks.get(We))&&void 0!==J?J:new Set;Se.add(G),this.onInitCallbacks.set(We,Se);const xe=this.instances.get(We);return xe&&G(xe,We),()=>{Se.delete(G)}}invokeOnInitCallbacks(G,H){const J=this.onInitCallbacks.get(H);if(J)for(const We of J)try{We(G,H)}catch(Se){}}getOrInitializeService({instanceIdentifier:G,options:H={}}){let J=this.instances.get(G);if(!J&&this.component&&(J=this.component.instanceFactory(this.container,{instanceIdentifier:(le=G,le===oe?void 0:le),options:H}),this.instances.set(G,J),this.instancesOptions.set(G,H),this.invokeOnInitCallbacks(J,G),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,G,J)}catch(We){}var le;return J||null}normalizeInstanceIdentifier(G=oe){return this.component?this.component.multipleInstances?G:oe:G}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class de{constructor(G){this.name=G,this.providers=new Map}addComponent(G){const H=this.getProvider(G.name);if(H.isComponentSet())throw new Error(`Component ${G.name} has already been registered with ${this.name}`);H.setComponent(G)}addOrOverwriteComponent(G){this.getProvider(G.name).isComponentSet()&&this.providers.delete(G.name),this.addComponent(G)}getProvider(G){if(this.providers.has(G))return this.providers.get(G);const H=new X(G,this);return this.providers.set(G,H),H}getProviders(){return Array.from(this.providers.values())}}},1877:(ct,Ee,R)=>{R.d(Ee,{Am:()=>le,Ub:()=>de,Yd:()=>re,in:()=>K});const u=[];var K=(()=>{return(G=K||(K={}))[G.DEBUG=0]="DEBUG",G[G.VERBOSE=1]="VERBOSE",G[G.INFO=2]="INFO",G[G.WARN=3]="WARN",G[G.ERROR=4]="ERROR",G[G.SILENT=5]="SILENT",K;var G})();const k={debug:K.DEBUG,verbose:K.VERBOSE,info:K.INFO,warn:K.WARN,error:K.ERROR,silent:K.SILENT},oe=K.INFO,X={[K.DEBUG]:"log",[K.VERBOSE]:"log",[K.INFO]:"info",[K.WARN]:"warn",[K.ERROR]:"error"},pe=(G,H,...J)=>{if(H<G.logLevel)return;const We=(new Date).toISOString(),Se=X[H];if(!Se)throw new Error(`Attempted to log a message with an invalid logType (value: ${H})`);console[Se](`[${We}]  ${G.name}:`,...J)};class re{constructor(H){this.name=H,this._logLevel=oe,this._logHandler=pe,this._userLogHandler=null,u.push(this)}get logLevel(){return this._logLevel}set logLevel(H){if(!(H in K))throw new TypeError(`Invalid value "${H}" assigned to \`logLevel\``);this._logLevel=H}setLogLevel(H){this._logLevel="string"==typeof H?k[H]:H}get logHandler(){return this._logHandler}set logHandler(H){if("function"!=typeof H)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=H}get userLogHandler(){return this._userLogHandler}set userLogHandler(H){this._userLogHandler=H}debug(...H){this._userLogHandler&&this._userLogHandler(this,K.DEBUG,...H),this._logHandler(this,K.DEBUG,...H)}log(...H){this._userLogHandler&&this._userLogHandler(this,K.VERBOSE,...H),this._logHandler(this,K.VERBOSE,...H)}info(...H){this._userLogHandler&&this._userLogHandler(this,K.INFO,...H),this._logHandler(this,K.INFO,...H)}warn(...H){this._userLogHandler&&this._userLogHandler(this,K.WARN,...H),this._logHandler(this,K.WARN,...H)}error(...H){this._userLogHandler&&this._userLogHandler(this,K.ERROR,...H),this._logHandler(this,K.ERROR,...H)}}function de(G){u.forEach(H=>{H.setLogLevel(G)})}function le(G,H){for(const J of u){let We=null;H&&H.level&&(We=k[H.level]),J.userLogHandler=null===G?null:(Se,xe,...Fe)=>{const he=Fe.map(be=>{if(null==be)return null;if("string"==typeof be)return be;if("number"==typeof be||"boolean"==typeof be)return be.toString();if(be instanceof Error)return be.message;try{return JSON.stringify(be)}catch(rt){return null}}).filter(be=>be).join(" ");xe>=(null!=We?We:Se.logLevel)&&G({level:K[xe].toLowerCase(),message:he,args:Fe,type:Se.name})}}}},5861:(ct,Ee,R)=>{function u(k,oe,X,pe,re,de,le){try{var G=k[de](le),H=G.value}catch(J){return void X(J)}G.done?oe(H):Promise.resolve(H).then(pe,re)}function K(k){return function(){var oe=this,X=arguments;return new Promise(function(pe,re){var de=k.apply(oe,X);function le(H){u(de,pe,re,le,G,"next",H)}function G(H){u(de,pe,re,le,G,"throw",H)}le(void 0)})}}R.d(Ee,{Z:()=>K})}},ct=>{ct(ct.s=5605)}]);